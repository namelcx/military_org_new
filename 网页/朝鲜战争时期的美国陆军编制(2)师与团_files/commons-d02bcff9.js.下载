(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,function(t,k,T){"use strict";!function(t){T.d(k,"b",function(){return o});var l=("undefined"!=typeof window?window:void 0!==t?t:{}).__VUE_DEVTOOLS_GLOBAL_HOOK__;function p(e,i){if(void 0===i&&(i=[]),null===e||"object"!=typeof e)return e;var t,t=(t=function(t){return t.original===e},i.filter(t)[0]);if(t)return t.copy;var n=Array.isArray(e)?[]:{};return i.push({original:e,copy:n}),Object.keys(e).forEach(function(t){n[t]=p(e[t],i)}),n}function s(e,i){Object.keys(e).forEach(function(t){return i(e[t],t)})}function n(t){return null!==t&&"object"==typeof t}function a(t,e){this.runtime=e,this._children=Object.create(null),t=(this._rawModule=t).state,this.state=("function"==typeof t?t():t)||{}}var e={namespaced:{configurable:!0}};e.namespaced.get=function(){return!!this._rawModule.namespaced},a.prototype.addChild=function(t,e){this._children[t]=e},a.prototype.removeChild=function(t){delete this._children[t]},a.prototype.getChild=function(t){return this._children[t]},a.prototype.hasChild=function(t){return t in this._children},a.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)},a.prototype.forEachChild=function(t){s(this._children,t)},a.prototype.forEachGetter=function(t){this._rawModule.getters&&s(this._rawModule.getters,t)},a.prototype.forEachAction=function(t){this._rawModule.actions&&s(this._rawModule.actions,t)},a.prototype.forEachMutation=function(t){this._rawModule.mutations&&s(this._rawModule.mutations,t)},Object.defineProperties(a.prototype,e);function h(t){this.register([],t,!1)}h.prototype.get=function(t){return t.reduce(function(t,e){return t.getChild(e)},this.root)},h.prototype.getNamespace=function(t){var i=this.root;return t.reduce(function(t,e){return t+((i=i.getChild(e)).namespaced?e+"/":"")},"")},h.prototype.update=function(t){!function t(e,i,n){0;i.update(n);if(n.modules)for(var r in n.modules){if(!i.getChild(r))return void 0;t(e.concat(r),i.getChild(r),n.modules[r])}}([],this.root,t)},h.prototype.register=function(i,t,n){var r=this,e=new a(t,n=void 0===n?!0:n);0===i.length?this.root=e:this.get(i.slice(0,-1)).addChild(i[i.length-1],e),t.modules&&s(t.modules,function(t,e){r.register(i.concat(e),t,n)})},h.prototype.unregister=function(t){var e=this.get(t.slice(0,-1)),i=t[t.length-1],t=e.getChild(i);t&&t.runtime&&e.removeChild(i)},h.prototype.isRegistered=function(t){var e=this.get(t.slice(0,-1)),t=t[t.length-1];return!!e&&e.hasChild(t)};var d,t={assert:function(t){return"function"==typeof t},expected:"function"};e=function(t){var e=this;void 0===t&&(t={}),!d&&"undefined"!=typeof window&&window.Vue&&u(window.Vue);var i=t.plugins;void 0===i&&(i=[]);var n=t.strict;void 0===n&&(n=!1),this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new h(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._watcherVM=new d,this._makeLocalGettersCache=Object.create(null);var r=this,a=this.dispatch,s=this.commit;this.dispatch=function(t,e){return a.call(r,t,e)},this.commit=function(t,e,i){return s.call(r,t,e,i)},this.strict=n;var o,n=this._modules.root.state;f(this,n,[],this._modules.root),c(this,n),i.forEach(function(t){return t(e)}),(void 0!==t.devtools?t:d.config).devtools&&(o=this,l&&((o._devtoolHook=l).emit("vuex:init",o),l.on("vuex:travel-to-state",function(t){o.replaceState(t)}),o.subscribe(function(t,e){l.emit("vuex:mutation",t,e)},{prepend:!0}),o.subscribeAction(function(t,e){l.emit("vuex:action",t,e)},{prepend:!0})))},t={state:{configurable:!0}};function i(e,i,t){return i.indexOf(e)<0&&(t&&t.prepend?i.unshift(e):i.push(e)),function(){var t=i.indexOf(e);-1<t&&i.splice(t,1)}}function r(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var i=t.state;f(t,i,[],t._modules.root,!0),c(t,i,e)}function c(r,t,e){var i=r._vm;r.getters={},r._makeLocalGettersCache=Object.create(null);var n=r._wrappedGetters,a={};s(n,function(t,e){var i,n;a[e]=(i=t,n=r,function(){return i(n)}),Object.defineProperty(r.getters,e,{get:function(){return r._vm[e]},enumerable:!0})});n=d.config.silent;d.config.silent=!0,r._vm=new d({data:{$$state:t},computed:a}),d.config.silent=n,r.strict&&r._vm.$watch(function(){return this._data.$$state},function(){0},{deep:!0,sync:!0}),i&&(e&&r._withCommit(function(){i._data.$$state=null}),d.nextTick(function(){return i.$destroy()}))}function f(a,i,n,t,r){var e,s,o=!n.length,l=a._modules.getNamespace(n);t.namespaced&&(a._modulesNamespaceMap[l],a._modulesNamespaceMap[l]=t),o||r||(e=g(i,n.slice(0,-1)),s=n[n.length-1],a._withCommit(function(){d.set(e,s,t.state)}));var h,c,p,u,m=t.context=(h=a,p=n,o={dispatch:(u=""===(c=l))?h.dispatch:function(t,e,i){t=y(t,e,i),e=t.payload,i=t.options,t=t.type;return i&&i.root||(t=c+t),h.dispatch(t,e)},commit:u?h.commit:function(t,e,i){t=y(t,e,i),e=t.payload,i=t.options,t=t.type;i&&i.root||(t=c+t),h.commit(t,e,i)}},Object.defineProperties(o,{getters:{get:u?function(){return h.getters}:function(){return function(i,n){{var r,a;i._makeLocalGettersCache[n]||(r={},a=n.length,Object.keys(i.getters).forEach(function(t){var e;t.slice(0,a)===n&&(e=t.slice(a),Object.defineProperty(r,e,{get:function(){return i.getters[t]},enumerable:!0}))}),i._makeLocalGettersCache[n]=r)}return i._makeLocalGettersCache[n]}(h,c)}},state:{get:function(){return g(h.state,p)}}}),o);t.forEachMutation(function(t,e){var i,n,r;e=l+e,n=t,r=m,((i=a)._mutations[e]||(i._mutations[e]=[])).push(function(t){n.call(i,r.state,t)})}),t.forEachAction(function(t,e){var i,n,r,e=t.root?e:l+e,t=t.handler||t;e=e,n=t,r=m,((i=a)._actions[e]||(i._actions[e]=[])).push(function(t){var e=n.call(i,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:i.getters,rootState:i.state},t);return(t=e)&&"function"==typeof t.then||(e=Promise.resolve(e)),i._devtoolHook?e.catch(function(t){throw i._devtoolHook.emit("vuex:error",t),t}):e})}),t.forEachGetter(function(t,e){var i,n;e=l+e,i=t,n=m,(t=a)._wrappedGetters[e]||(t._wrappedGetters[e]=function(t){return i(n.state,n.getters,t.state,t.getters)})}),t.forEachChild(function(t,e){f(a,i,n.concat(e),t,r)})}function g(t,e){return e.reduce(function(t,e){return t[e]},t)}function y(t,e,i){return n(t)&&t.type&&(i=e,t=(e=t).type),{type:t,payload:e,options:i}}function u(t){var e;function i(){var t=this.$options;t.store?this.$store="function"==typeof t.store?t.store():t.store:t.parent&&t.parent.$store&&(this.$store=t.parent.$store)}d&&t===d||(t=d=t,2<=Number(t.version.split(".")[0])?t.mixin({beforeCreate:i}):(e=t.prototype._init,t.prototype._init=function(t){(t=void 0===t?{}:t).init=t.init?[i].concat(t.init):i,e.call(this,t)}))}t.state.get=function(){return this._vm._data.$$state},t.state.set=function(t){0},e.prototype.commit=function(t,e,i){var n=this,e=y(t,e,i),i=e.type,r=e.payload,a=(e.options,{type:i,payload:r}),s=this._mutations[i];s&&(this._withCommit(function(){s.forEach(function(t){t(r)})}),this._subscribers.slice().forEach(function(t){return t(a,n.state)}))},e.prototype.dispatch=function(t,e){var i=this,t=y(t,e),e=t.type,n=t.payload,r={type:e,payload:n},e=this._actions[e];if(e){try{this._actionSubscribers.slice().filter(function(t){return t.before}).forEach(function(t){return t.before(r,i.state)})}catch(t){0}var a=1<e.length?Promise.all(e.map(function(t){return t(n)})):e[0](n);return new Promise(function(e,t){a.then(function(t){try{i._actionSubscribers.filter(function(t){return t.after}).forEach(function(t){return t.after(r,i.state)})}catch(t){0}e(t)},function(e){try{i._actionSubscribers.filter(function(t){return t.error}).forEach(function(t){return t.error(r,i.state,e)})}catch(t){0}t(e)})})}},e.prototype.subscribe=function(t,e){return i(t,this._subscribers,e)},e.prototype.subscribeAction=function(t,e){return i("function"==typeof t?{before:t}:t,this._actionSubscribers,e)},e.prototype.watch=function(t,e,i){var n=this;return this._watcherVM.$watch(function(){return t(n.state,n.getters)},e,i)},e.prototype.replaceState=function(t){var e=this;this._withCommit(function(){e._vm._data.$$state=t})},e.prototype.registerModule=function(t,e,i){void 0===i&&(i={}),this._modules.register(t="string"==typeof t?[t]:t,e),f(this,this.state,t,this._modules.get(t),i.preserveState),c(this,this.state)},e.prototype.unregisterModule=function(e){var i=this;"string"==typeof e&&(e=[e]),this._modules.unregister(e),this._withCommit(function(){var t=g(i.state,e.slice(0,-1));d.delete(t,e[e.length-1])}),r(this)},e.prototype.hasModule=function(t){return this._modules.isRegistered(t="string"==typeof t?[t]:t)},e.prototype.hotUpdate=function(t){this._modules.update(t),r(this,!0)},e.prototype._withCommit=function(t){var e=this._committing;this._committing=!0,t(),this._committing=e},Object.defineProperties(e.prototype,t);var o=x(function(r,t){var i={};return b(t).forEach(function(t){var e=t.key,n=t.val;i[e]=function(){var t=this.$store.state,e=this.$store.getters;if(r){var i=w(this.$store,0,r);if(!i)return;t=i.context.state,e=i.context.getters}return"function"==typeof n?n.call(this,t,e):t[n]},i[e].vuex=!0}),i}),m=x(function(a,t){var i={};return b(t).forEach(function(t){var e=t.key,r=t.val;i[e]=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var i=this.$store.commit;if(a){var n=w(this.$store,0,a);if(!n)return;i=n.context.commit}return"function"==typeof r?r.apply(this,[i].concat(t)):i.apply(this.$store,[r].concat(t))}}),i}),v=x(function(n,t){var r={};return b(t).forEach(function(t){var e=t.key,i=t.val,i=n+i;r[e]=function(){if(!n||w(this.$store,0,n))return this.$store.getters[i]},r[e].vuex=!0}),r}),_=x(function(a,t){var i={};return b(t).forEach(function(t){var e=t.key,r=t.val;i[e]=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var i=this.$store.dispatch;if(a){var n=w(this.$store,0,a);if(!n)return;i=n.context.dispatch}return"function"==typeof r?r.apply(this,[i].concat(t)):i.apply(this.$store,[r].concat(t))}}),i});function b(e){return t=e,Array.isArray(t)||n(t)?Array.isArray(e)?e.map(function(t){return{key:t,val:t}}):Object.keys(e).map(function(t){return{key:t,val:e[t]}}):[];var t}function x(i){return function(t,e){return"string"!=typeof t?(e=t,t=""):"/"!==t.charAt(t.length-1)&&(t+="/"),i(t,e)}}function w(t,e,i){return t._modulesNamespaceMap[i]}function E(e,i,t){t=t?e.groupCollapsed:e.group;try{t.call(e,i)}catch(t){e.log(i)}}function S(e){try{e.groupEnd()}catch(t){e.log("—— log end ——")}}function C(){var t=new Date;return" @ "+P(t.getHours(),2)+":"+P(t.getMinutes(),2)+":"+P(t.getSeconds(),2)+"."+P(t.getMilliseconds(),3)}function P(t,e){return i="0",e=e-t.toString().length,new Array(e+1).join(i)+t;var i}e={Store:e,install:u,version:"3.6.2",mapState:o,mapMutations:m,mapGetters:v,mapActions:_,createNamespacedHelpers:function(t){return{mapState:o.bind(null,t),mapGetters:v.bind(null,t),mapMutations:m.bind(null,t),mapActions:_.bind(null,t)}},createLogger:function(t){var a=(t=void 0===t?{}:t).collapsed;void 0===a&&(a=!0);var s=t.filter;void 0===s&&(s=function(t,e,i){return!0});var o=t.transformer;void 0===o&&(o=function(t){return t});var l=t.mutationTransformer;void 0===l&&(l=function(t){return t});var n=t.actionFilter;void 0===n&&(n=function(t,e){return!0});var h=t.actionTransformer;void 0===h&&(h=function(t){return t});var e=t.logMutations;void 0===e&&(e=!0);var i=t.logActions;void 0===i&&(i=!0);var c=t.logger;return void 0===c&&(c=console),function(t){var r=p(t.state);void 0!==c&&(e&&t.subscribe(function(t,e){var i,n=p(e);s(t,r,n)&&(i=C(),e=l(t),i="mutation "+t.type+i,E(c,i,a),c.log("%c prev state","color: #9E9E9E; font-weight: bold",o(r)),c.log("%c mutation","color: #03A9F4; font-weight: bold",e),c.log("%c next state","color: #4CAF50; font-weight: bold",o(n)),S(c)),r=n}),i&&t.subscribeAction(function(t,e){var i;n(t,e)&&(i=C(),e=h(t),i="action "+t.type+i,E(c,i,a),c.log("%c action","color: #03A9F4; font-weight: bold",e),S(c))}))}}};k.a=e}.call(this,T(23))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.vExtendHtml=e.ensureHTMLWithEmoji=e.safeHtml=e.safeEmojiHtml=e.uaParser=e.promiseCallback=e.formatElapse=e.formatDate=e.user=e.greeter=e.isUtmSourceOf=e.ChannelName=e.isSdkApp=e.checkInAppByUa=e.ProfilePageAuthorInfoApi=e.getTabsFromServerTabs=e.getAllTabs=e.getLogoType=e.scrollYTo=e.getScrollEventTarget=void 0;var n=i(114);Object.defineProperty(e,"getScrollEventTarget",{enumerable:!0,get:function(){return n.getScrollEventTarget}}),Object.defineProperty(e,"scrollYTo",{enumerable:!0,get:function(){return n.scrollYTo}});var r=i(115);Object.defineProperty(e,"getLogoType",{enumerable:!0,get:function(){return r.getLogoType}});var a=i(116);Object.defineProperty(e,"getAllTabs",{enumerable:!0,get:function(){return a.getAllTabs}}),Object.defineProperty(e,"getTabsFromServerTabs",{enumerable:!0,get:function(){return a.getTabsFromServerTabs}});var s=i(117);Object.defineProperty(e,"ProfilePageAuthorInfoApi",{enumerable:!0,get:function(){return s.ProfilePageAuthorInfoApi}});var o=i(118);Object.defineProperty(e,"checkInAppByUa",{enumerable:!0,get:function(){return o.checkInAppByUa}}),Object.defineProperty(e,"isSdkApp",{enumerable:!0,get:function(){return o.isSdkApp}});var l=i(119);Object.defineProperty(e,"ChannelName",{enumerable:!0,get:function(){return l.ChannelName}}),Object.defineProperty(e,"isUtmSourceOf",{enumerable:!0,get:function(){return l.isUtmSourceOf}});var h=i(120);Object.defineProperty(e,"greeter",{enumerable:!0,get:function(){return h.greeter}}),Object.defineProperty(e,"user",{enumerable:!0,get:function(){return h.user}});var c=i(121);Object.defineProperty(e,"formatDate",{enumerable:!0,get:function(){return c.formatDate}}),Object.defineProperty(e,"formatElapse",{enumerable:!0,get:function(){return c.formatElapse}});var p=i(122);Object.defineProperty(e,"promiseCallback",{enumerable:!0,get:function(){return p.promiseCallback}});var u=i(123);Object.defineProperty(e,"uaParser",{enumerable:!0,get:function(){return u.uaParser}});var m=i(52);Object.defineProperty(e,"safeEmojiHtml",{enumerable:!0,get:function(){return m.safeEmojiHtml}}),Object.defineProperty(e,"safeHtml",{enumerable:!0,get:function(){return m.safeHtml}}),Object.defineProperty(e,"ensureHTMLWithEmoji",{enumerable:!0,get:function(){return m.ensureHTMLWithEmoji}});var d=i(129);Object.defineProperty(e,"vExtendHtml",{enumerable:!0,get:function(){return d.vExtendHtml}})},,,function(t,e,i){"use strict";var n=i(4),r=i.n(n),a=i(29);function s(e,t){var i,n=Object.keys(e);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(e),t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)),n}function o(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?s(Object(i),!0).forEach(function(t){r()(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):s(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}var l=!1;function h(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};t&&l&&(t=0<=["init","config","start","send","predefinePageView"].indexOf(t)?"event.".concat(t):t,Object(a.a)(t,e))}function c(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};l&&Object(a.a)("predefinePageView",t)}e.a={install:function(t,e){var i=e||{},n=i.initParams,e=i.configParams,i=i.evtParams;a.a.init(o({app_id:NaN,channel:"cn",log:!1},n||{})),t.prototype.$Tea={sdk:a.a,collectEvent:h,pageViewEvent:c},a.a.config(o(o({},e||{}),{},{evtParams:i||{}})),a.a.start(),l=!0}}},function(t,e,i){"use strict";var n=i(22);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i(58));function a(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",e=(0,r.default)(t,1<arguments.length?arguments[1]:void 0,2<arguments.length?arguments[2]:void 0),i=e.os,e=e.browser;return(t=(t=t.toLowerCase()).match(/newsarticle\/([\d.]+)/))&&(e.toutiao=!0,e.version=t[1]),{browser:e,os:i}}e.default=a.default=a,t.exports=e.default},function(t,e,i){"use strict";i.d(e,"a",function(){return f});var e=i(27),r=i.n(e),e=i(28),a=i.n(e),e=i(4),n=i.n(e),e=i(7),s=i.n(e),c=i(6);function o(t){var e=null;try{e="object"===s()(t)?t:JSON.parse(t)}catch(t){console.log("json解析失败")}return e}function p(){}function l(e,t){var i,n=Object.keys(e);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(e),t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)),n}function h(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?l(Object(i),!0).forEach(function(t){n()(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):l(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}function u(t){return t&&"function"==typeof t}var m=null,d=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};r()(this,e);t=t.debugMode;this.debugMode=t,this.bridgeScheme="nativeapp://",this.dispatchMsgPath="dispatch_message/",this.setResultPath="private/setresult/",this.fetchQueue="SCENE_FETCHQUEUE",this.jsBridgeKey="JSBridge",this.callbackId=1e3,this.callbackMap={},this.eventHookMap={},this.sendMessageQueue=[],this.fallbackCheckFunction=null}return a()(e,[{key:"_debugLog",value:function(){var t;this.debugMode&&(t=console).log.apply(t,arguments)}},{key:"_callbackItem",value:function(){return{onSuccess:0<arguments.length&&void 0!==arguments[0]?arguments[0]:p,onFail:1<arguments.length&&void 0!==arguments[1]?arguments[1]:p}}},{key:"_invoke",value:function(t,e,i,n){var r=4<arguments.length&&void 0!==arguments[4]?arguments[4]:{};if(t&&"string"==typeof t){var a,s=r.isAsync,o=r.sdkVersion,l=void 0===o?"1.0.0.0":o,h=r.callbackId||"",o=null,r=p;h||(o=this._callbackItem(i,n),h||(this.callbackId+=1,h=this.callbackId.toString()),s&&(r=Object(c.promiseCallback)(),o=this._callbackItem(r.done,r.abort)),h&&(this.callbackMap[h]=o));h={JSSDK:l,func:t,__msg_type:"call",__params:e,__callback_id:h};try{this._debugLog("".concat(s?"callAsync":"call",": ").concat(t,"\n msgJSON: ").concat(JSON.stringify(h),"\n")),m&&m.invoke?a=m.invoke(JSON.stringify(h)):window.AndroidBridge&&window.AndroidBridge.invoke?a=window.AndroidBridge.invoke(JSON.stringify(h)):window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.callMethodParams?a=window.webkit.messageHandlers.callMethodParams.postMessage(h):(console.warn("native注入缺失，无法调用"),o&&o.onFail&&o.onFail())}catch(t){console.error(t)}return s&&r&&r.promise?r.promise:a}}},{key:"_handleMessageFromApp",value:function(t){this._debugLog("_handleMessageFromApp: 传参为",t,"\n");var i,n,e,r=o(t)||{},a=r.__callback_id;a?(i=r.__params,n=r.code||0,"string"==typeof a&&"object"===s()(this.callbackMap[a])?(r=(e=this.callbackMap[a]).onSuccess,e=e.onFail,1===n?u(e)&&e():u(r)&&r(i)):"string"==typeof a&&Array.isArray(this.eventHookMap[a])&&(this.eventHookMap[a].forEach(function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.onSuccess,t=t.onFail;1===n?u(t)&&t():u(e)&&e(i)}),this._debugLog(a," event callback执行了","\n"))):this._debugLog("callbackId为空, 无H5回调被执行",t,"\n")}},{key:"_callAsync",value:function(t,e){return this._invoke(t,e,null,null,h(h({},2<arguments.length&&void 0!==arguments[2]?arguments[2]:{}),{},{isAsync:!0}))}},{key:"_call",value:function(t,e,i,n){return this._invoke(t,e,i,n,h(h({},4<arguments.length&&void 0!==arguments[4]?arguments[4]:{}),{},{isAsync:!1}))}},{key:"_on",value:function(t,e,i){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};if(t&&"string"==typeof t&&("function"==typeof e||"function"==typeof i)){i=this._callbackItem(e,i);this.eventHookMap[t]?this.eventHookMap[t].push(i):this.eventHookMap[t]=[i];n=n.sdkVersion,t={JSSDK:void 0===n?"1.0.0.0":n,__msg_type:"event",__callback_id:t,func:t};try{m&&m.on?m.on(JSON.stringify(t)):window.AndroidBridge&&window.AndroidBridge.on?window.AndroidBridge.on(JSON.stringify(t)):window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.onMethodParams&&window.webkit.messageHandlers.onMethodParams.postMessage(t)}catch(t){console.error(t)}}}},{key:"_off",value:function(t,e,i){t&&"string"==typeof t&&"function"==typeof callback&&this.eventHookMap[t]&&(this.eventHookMap[t]=this.eventHookMap[t].filter(function(t){return t.onSuccess!==e&&t.onFail!==i}))}},{key:"_trigger",value:function(t,e){var i=this.eventHookMap[t],n=!1;if(i)for(var r=0,a=i.length;r<a;r++){var s=i[r]||{};"function"==typeof s.onSuccess&&(n=!0,s.onSuccess(e))}return n}},{key:"_config",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.adaptorBridge,t=t.debugMode;m=e||m,this.debugMode=t}},{key:"init",value:function(){var t=this,e={call:function(){return t._call.apply(t,arguments)},callAsync:function(){return t._callAsync.apply(t,arguments)},on:function(){return t._on.apply(t,arguments)},off:function(){return t._off.apply(t,arguments)},trigger:function(){return t._trigger.apply(t,arguments)},config:function(){return t._config.apply(t,arguments)}};return"undefined"!=typeof window&&(window.Native2JSBridge||window.JSBridge?e=window.JSBridge:(window.Native2JSBridge={_handleMessageFromApp:function(){return t._handleMessageFromApp.apply(t,arguments)}},window.JSBridge=e)),e}}]),e}(),f=function(){function n(t){var e=t.config,i=t.interactionReceiver;r()(this,n);t=new d({debugMode:!1}).init();this.config=e||{},this.jsBridge=t,this.interactionReceiver=i||p}return a()(n,[{key:"adaptJsBridge",value:function(n){var r;"function"==typeof n&&(r=window.Native2JSBridge,this.jsBridge.config({adaptorBridge:{invoke:function(t){var e=o(t)||{},t=e.func,i=e.__callback_id;t&&n(t,e,function(t){r._handleMessageFromApp({__callback_id:i,__params:o(t),code:0})},function(){r._handleMessageFromApp({__callback_id:__callback_id,code:1})})}}}))}},{key:"emitInteraction",value:function(t,e,i){this.interactionReceiver(t,e,i)}}]),n}()},function(t,e,i){"use strict";i.d(e,"c",function(){return Rt}),i.d(e,"a",function(){return jt}),i.d(e,"d",function(){return f});i(173);var n=i(1),r=i(44),a=i.n(r),s=i(7),o=i.n(s),l=Object.prototype.hasOwnProperty;function h(t,e){if(null!=(s=d.apply(this,arguments)))return s;for(var i=t.split("."),n=u,r=0,a=i.length;r<a;r++){var s=n[i[r]];if(r===a-1)return p(s,e);if(!s)return"";n=s}return""}var c=/(%|)\{([0-9a-zA-Z_]+)\}/g,p=(n.a,function(r){for(var t=arguments.length,a=new Array(1<t?t-1:0),e=1;e<t;e++)a[e-1]=arguments[e];return(a=1===a.length&&"object"===o()(a[0])?a[0]:a)&&a.hasOwnProperty||(a={}),r.replace(c,function(t,e,i,n){return"{"===r[n-1]&&"}"===r[n+t.length]?i:(t=a,null==(i=l.call(t,i)?a[i]:null)?"":i)})}),u={rootComp:{commentList:{test:"测试",anonymity:"匿名用户",author:"作者",action:{delete:"删除",reply:"回复"},commentLoadingTip:{loading:"加载中",finish:"已加载所有评论",error:"评论加载失败,点击重试",default:"",expand:"展开更多评论",fold:"收起"},commentDetailLoadingTip:{loading:"加载中",finish:"已加载所有回复",error:"回复加载失败,点击重试",expand:"展开更多回复",default:""},replyLoadingTip:{loading:"加载中",finish:"已加载所有回复",error:"加载失败,点击重试",expand:"展开更多回复",fold:"收起",default:""}}},common:{tenThousand:"万",hundredMillion:"亿",digg:"赞"}},m=!1,d=function(){var t=Object.getPrototypeOf(this||n.a).$t;if("function"==typeof t&&Boolean(n.a.locale))return m||(m=!0,n.a.locale(n.a.config.lang,a()(u,n.a.locale(n.a.config.lang)||{},{clone:!0}))),t.apply(this,arguments)},f={use:function(t){u=t||u},adjust:function(t){u=a()(u,t||{},{clone:!0})},t:h,i18n:function(t){d=t||d}},g=i(107),y=i.n(g),v={name:"Modal",model:{prop:"showValue",event:"onValueChange"},props:{showValue:{type:Boolean,default:!1},maskClosable:{type:Boolean,default:!0}},computed:{modalShow:{get:function(){return this.showValue},set:function(t){this.$emit("onValueChange",t)}}},watch:{modalShow:{handler:function(t,e){t?document.documentElement.setAttribute("data-stop-scroll","true"):document.documentElement.removeAttribute("data-stop-scroll")},immediate:!0}},methods:{onMaskClick:function(){this.maskClosable&&(this.modalShow=!1)}}},_=(i(174),i(2)),b={name:"Dialog",components:{Modal:Object(_.a)(v,function(){var t=this,e=t.$createElement,e=t._self._c||e;return e("div",{directives:[{name:"show",rawName:"v-show",value:t.modalShow,expression:"modalShow"}],staticClass:"modal",on:{click:t.onMaskClick}},[e("div",{staticClass:"modal_mask"}),e("div",{staticClass:"modal_wrapper",on:{click:function(t){t.stopPropagation()}}},[t._t("default")],2)])},[],!1,null,null,null).exports},props:{customClass:{type:String,default:""}},data:function(){return{title:"",showDialog:!1}},watch:{showdialog:function(t){t||this.destroyDialog()}},methods:{openDialog:function(t){var e=t||{},i=e.textOk,n=e.textCancel,r=e.onOk,t=e.onCancel,e=e.title;this.title=e||"",this.textOk=i,this.textCancel=n,this.onOk=r,this.onCancel=t,this.showDialog=!0},destroyDialog:function(){this.onOk=null,this.onCancel=null},handleCancel:function(){this.onCancel&&this.onCancel(),this.showDialog=!1},handleConfirm:function(){this.onOk&&this.onOk(),this.showDialog=!1}}},x=(i(175),Object(_.a)(b,function(){var e=this,t=e.$createElement,t=e._self._c||t;return t("Modal",{class:e.customClass,attrs:{"mask-closable":!0},model:{value:e.showDialog,callback:function(t){e.showDialog=t},expression:"showDialog"}},[t("div",{staticClass:"dialog_box"},[t("h3",{staticClass:"dialog_title"},[e._v("\n      "+e._s(e.title)+"\n    ")]),t("div",{staticClass:"dialog_action_pane"},[t("button",{staticClass:"cancel_btn",on:{click:e.handleCancel}},[e._v("\n        "+e._s(e.textCancel||"取消")+"\n      ")]),t("button",{staticClass:"confirm_btn",on:{click:e.handleConfirm}},[e._v("\n        "+e._s(e.textOk||"确认")+"\n      ")])])])])},[],!1,null,null,null).exports);x.install=function(t){var e=document.body,i=t.extend(x),n=null;t.prototype.$dialog=function(t){n||((n=new i).$mount(),e.appendChild(n.$el)),n.openDialog(t)}};var w=x,E={name:"Toast",props:{native:{type:Function,default:function(){console.error("UIKits: Undefined Native Toast Method")}}},data:function(){return{content:"",bottom:50,isShow:!1}},methods:{openToast:function(t,e){var i=this,n=e||{},e=n.delay;if(n.useNative)return this.native(t);this.content=t||"",this.isShow=!0,setTimeout(function(){i.isShow=!1},e||1e3)}}},S=(i(176),Object(_.a)(E,function(){var t=this,e=t.$createElement,e=t._self._c||e;return t.isShow?e("div",{staticClass:"toast_box",style:{bottom:t.bottom+"px"}},[e("div",{staticClass:"toast_box-content"},[t._v("\n    "+t._s(t.content)+"\n  ")])]):t._e()},[],!1,null,null,null).exports);S.install=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=document.body,n=t.extend(S),r=null;t.prototype.$toast=function(){r||((r=new n({propsData:Object.assign({},e)})).$mount(),i.appendChild(r.$el)),r.openToast.apply(r,arguments)}};var C=S,r={name:"Popup",model:{prop:"isShow",event:"onClosePopup"},props:{title:{type:String,default:"标题"},isShow:{type:Boolean,default:!1},slide:{type:String,default:"left"},zIndex:{type:Number,default:100},offsetTop:{type:Number,default:0}},computed:{orient:function(){return"popup-drop-".concat(this.slide)},wrapperZIndex:function(){return this.zIndex+10},offsetTopHeight:function(){return"".concat(window.innerHeight-this.offsetTop,"px")}},watch:{isShow:{handler:function(t){t?document.documentElement.setAttribute("data-stop-scroll","true"):document.documentElement.removeAttribute("data-stop-scroll")},immediate:!0}},beforeDestroy:function(){document.documentElement.removeAttribute("data-stop-scroll")},methods:{handleClosePopup:function(){this.$emit("close"),this.$emit("onClosePopup",!1)}}},P=(i(177),Object(_.a)(r,function(){var t=this,e=t.$createElement,e=t._self._c||e;return e("div",{staticClass:"popup"},[e("transition",{attrs:{name:"fade"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],staticClass:"popup-mask",style:{zIndex:t.zIndex},on:{click:t.handleClosePopup}})]),e("transition",{attrs:{name:t.orient}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],staticClass:"popup-wrapper",style:{height:t.offsetTopHeight,zIndex:t.wrapperZIndex}},[e("div",{staticClass:"popup_header"},[e("div",[t._v(t._s(t.title))]),e("div",{staticClass:"popup_close-btn",on:{click:t.handleClosePopup}})]),e("div",{staticClass:"popup_body"},[t._t("default")],2)])])],1)},[],!1,null,null,null).exports);P.install=function(t){t.component(P.name,P)};var s=P,g={name:"Icon",props:{name:{type:String,default:""},size:{type:String,default:""},width:{type:String,default:""},height:{type:String,default:""},render:{type:String,default:""},stopPropagation:{type:Boolean,default:!1}},computed:{iconStyle:function(){var t=this.width||this.size,e=this.height||this.size;return{width:t||"14px",height:e||"14px",backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:this.render||(t&e?"".concat(t," ").concat(e):"contain")}}},methods:{handleClickIcon:function(t){this.stopPropagation&&t.stopPropagation(),this.$emit("click")}}},k=(i(178),Object(_.a)(g,function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"icon-container",class:t.name,style:t.iconStyle,on:{click:t.handleClickIcon}})},[],!1,null,null,null).exports);k.install=function(t){t.component(k.name,k)};var v=k,b={components:{Icon:k},props:{name:{type:String,default:""},size:{type:String,default:"20px"},useNightMode:{type:Boolean,default:!1}},computed:{svgNightName:function(){return this.name?"".concat(this.name,"_night"):""}}},E=(i(179),{methods:{t:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return h.apply(this,e)}}}),r={name:"LikeBtn",components:{LinkIcon:Object(_.a)(b,function(){var t=this,e=t.$createElement,e=t._self._c||e;return t.useNightMode?e("span",{staticClass:"vivo-svg-icon"},[e("Icon",{staticClass:"light-icon",attrs:{name:t.name,size:t.size}}),e("Icon",{staticClass:"night-icon",attrs:{name:t.svgNightName,size:t.size}})],1):e("span",{staticClass:"vivo-svg-icon"},[e("Icon",{attrs:{name:t.name,size:t.size}})],1)},[],!1,null,null,null).exports},mixins:[E],props:{diggTarget:{type:Object,required:!0},isSupportApprovalAni:{type:Boolean,default:!1}},computed:{formatCount:function(){var t=parseInt(this.diggTarget.digg_count);return t?t<1e4?t:t<1e8?"".concat((t/1e4).toFixed(1)).concat(this.t("common.tenThousand")):"".concat(Math.round(t/1e8)).concat(this.t("common.hundredMillion")):this.t("common.digg")}},beforeMount:function(){this.$set(this.diggTarget,"digging",!1),this.$set(this.diggTarget,"digg_active",!1)},methods:{toggleDigg:function(){this.$emit("toggleDigg",{digg_svg:this.$refs.diggSvg})}}},T=(i(180),Object(_.a)(r,function(){var e=this,t=e.$createElement,t=e._self._c||t;return t("a",{staticClass:"action-pane-btn digg",class:{digged:e.diggTarget.user_digg,digging:e.diggTarget.digging,digg_active:e.diggTarget.digg_active,digg_support_ani:e.isSupportApprovalAni},on:{click:function(t){return t.stopPropagation(),e.toggleDigg.apply(null,arguments)}}},[t("span",{staticClass:"text"},[e._t("default",function(){return[e._v("\n      "+e._s(e.formatCount)+"\n    ")]})],2),e.isSupportApprovalAni?[t("LinkIcon",{directives:[{name:"show",rawName:"v-show",value:!e.diggTarget.user_digg,expression:"!diggTarget.user_digg"}],attrs:{name:"digg",size:"20px"}}),t("LinkIcon",{directives:[{name:"show",rawName:"v-show",value:e.diggTarget.user_digg&&!e.diggTarget.digg_active,expression:"diggTarget.user_digg && !diggTarget.digg_active"}],attrs:{name:"digged",size:"20px"}}),t("span",{directives:[{name:"show",rawName:"v-show",value:e.diggTarget.digg_active,expression:"diggTarget.digg_active"}],ref:"diggSvg",staticClass:"vivo-svg-icon digg-anim"})]:[t("LinkIcon",{directives:[{name:"show",rawName:"v-show",value:!e.diggTarget.user_digg,expression:"!diggTarget.user_digg"}],attrs:{name:"digg_old",size:"16px"}}),t("LinkIcon",{directives:[{name:"show",rawName:"v-show",value:e.diggTarget.user_digg,expression:"diggTarget.user_digg"}],attrs:{name:"digged_old",size:"16px"}})]],2)},[],!1,null,"e1351c32",null).exports);T.install=function(t){t.component(T.name,T)};g=T;function A(t){t.preventDefault()}var b={name:"ReportToast",data:function(){return{toastShow:!1,bodyElem:null,reportOptions:null,reportComment:null,toastResolve:null}},methods:{show:function(){var t=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).reportOptions;t&&(this.reportOptions=t),this.toastShow=!0,this.setScroll(!1)},hide:function(){this.toastShow=!1,this.setScroll(!0),this.toastResolve&&this.toastResolve(),this.toastResolve=null},setScroll:function(t){t?this.$refs.toastWrapper.removeEventListener("touchmove",A):this.$refs.toastWrapper.addEventListener("touchmove",A)},clickReportOption:function(t){t=Number(t.target.dataset.index);this.toastResolve&&this.toastResolve({optionIndex:t}),this.toastResolve=null,this.hide()}}},D=(i(181),Object(_.a)(b,function(){var i=this,t=i.$createElement,n=i._self._c||t;return n("div",{directives:[{name:"show",rawName:"v-show",value:i.toastShow,expression:"toastShow"}],ref:"toastWrapper",staticClass:"report-toast-wrapper"},[n("div",{staticClass:"report-toast-mask",on:{click:i.hide}}),n("div",{staticClass:"report-toast"},[n("div",{staticClass:"toast-container",on:{click:i.clickReportOption}},i._l(i.reportOptions,function(t,e){return n("div",{key:t.text,staticClass:"report-item",attrs:{"data-index":e}},[i._v("\n        "+i._s(t.text)+"\n      ")])}),0)])])},[],!1,null,null,null).exports),r={install:function(t){var i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=t.extend(D),r=null;function e(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return new Promise(function(t){r||((r=new n).$mount(),document.querySelector(i.container||"body").appendChild(r.$el)),r.show(e),r.toastResolve=t})}t.prototype.$reportToast=e,window.$reportToast=e}},b={name:"ImageGrid",components:{},props:{imageList:{type:Array,default:function(){return[]}},maxDisplay:{type:Number,default:3},hasCountHint:{type:Boolean,default:!0},singleLineMax:{type:Number,default:3},layoutMatrix:{type:Array,default:function(){return[]}}},computed:{imageGridClass:function(){return"image-grid-box-1_".concat(Math.min(this.imageList.length,this.singleLineMax))},displayImageList:function(){return this.imageList.slice(0,this.maxDisplay)},total:function(){return this.imageList.length},unshownCount:function(){return this.total-Math.min(this.total,this.singleLineMax)},countHint:function(){return this.maxDisplay>=this.total||this.total<this.singleLineMax?"":"".concat(this.displayImageList.length,"/").concat(this.imageList.length)},layout:function(){return this.makeLayoutMatrix(this.displayImageList,this.layoutMatrix)}},methods:{onImageClick:function(t){for(var e=t.target;e&&e.tagName&&"li"!==e.tagName.toLowerCase();)e=e.parentNode;e&&e.tagName&&"li"===e.tagName.toLowerCase()&&(t=e.getAttribute("data-pos-idx"),this.$emit("imageClick",{index:t}))},makeLayoutMatrix:function(e,t){var i=[],n=[],r=e.length;n="[object Array]"===Object.prototype.toString.call(t)&&t.length?t:(r=Math.min(r,9),new Array(r).fill(1));var a=0;return n.forEach(function(t){t?((t=e[a]).orginIdx=a,i.push(t),a++):i.push(null)}),i}}},M=(i(182),Object(_.a)(b,function(){var i=this,t=i.$createElement,n=i._self._c||t;return n("ul",{class:i.imageGridClass,on:{click:function(t){return t.stopPropagation(),t.preventDefault(),i.onImageClick.apply(null,arguments)}}},i._l(i.layout,function(t,e){return n("li",{key:e+(t?t.url:""),staticClass:"grid__cell img-wrapper",attrs:{"data-pos-idx":e}},[t?n("img",{staticClass:"grid__content img-in-grid",attrs:{alt:"img",src:t.url}}):i._e(),i.hasCountHint&&e===i.displayImageList.length-1&&i.countHint?i._t("countHint",function(){return[i.countHint?n("span",{staticClass:"img-count-hint"},[i._v(i._s(i.countHint))]):i._e()]},{image:t,countHint:i.countHint,unshownCount:i.unshownCount}):i._e()],2)}),0)},[],!1,null,null,null).exports);M.install=function(t){t.component(M.name,M)};var b={name:"TextEllipsisBox",props:{htmlContent:{type:String,default:""},content:{type:String,default:""},preventExpandDefault:{type:Boolean,default:!1},stopExpandPropagation:{type:Boolean,default:!0},fontSize:{type:Number,default:14},maxLineNum:{type:Number,default:4},lineHeight:{type:Number,default:22},placeholderWidth:{type:Number,default:28},enableFold:{type:Boolean,default:!1},enableContentClick:{type:Boolean,default:!1},adjustTranslateX:{type:String,default:"-15%"}},data:function(){return{couldToggleExpandStatus:!0,isExpand:!1,rendered:!1}},computed:{ellipsisBoxStyle:function(){return{display:this.couldToggleExpandStatus&&!this.isExpand?"-webkit-box":"block","-webkit-line-clamp":this.maxLineNum,"letter-spacing":"".concat(this.placeholderWidth,"px"),"line-height":"".concat(this.lineHeight,"px")}},textContentStyle:function(){return{"line-height":"".concat(this.lineHeight,"px")}},ellipsisAfterPlaceHolderStyle:function(){return{top:0,transform:"translate(".concat(this.adjustTranslateX,", ").concat(100*(this.maxLineNum-1),"%)"),"line-height":"".concat(this.lineHeight,"px"),"min-height":"".concat(this.lineHeight,"px")}},foldBtnStyle:function(){return{top:"unset",bottom:0,transform:"translate(".concat(this.adjustTranslateX,", 0)"),"line-height":"".concat(this.lineHeight,"px")}}},mounted:function(){var t=this;this.$nextTick(function(){t.$refs.textContent.offsetHeight<=t.$refs.ellipsisBox.offsetHeight+5&&(t.couldToggleExpandStatus=!1),t.rendered=!0})},methods:{clickText:function(t){this.$emit("clickText",t)},expand:function(t){this.couldToggleExpandStatus&&(this.stopExpandPropagation&&t.stopPropagation(),this.preventExpandDefault||(this.isExpand=!0),this.$emit("onExpand"))},fold:function(t){this.couldToggleExpandStatus&&(this.isExpand=!1,this.$emit("onFold"))},onContentClick:function(){var t;this.couldToggleExpandStatus&&this.enableContentClick&&(t=this.isExpand,this.isExpand=!t,t?this.$emit("onFold"):this.$emit("onExpand"))}}},O=(i(183),Object(_.a)(b,function(){var e=this,t=e.$createElement,t=e._self._c||t;return t("div",{ref:"ellipsisBox",staticClass:"text-ellipsis-box",style:e.ellipsisBoxStyle,on:{click:e.onContentClick}},[e.htmlContent?t("div",{directives:[{name:"safe-emoji-html",rawName:"v-safe-emoji-html",value:e.htmlContent,expression:"htmlContent"}],ref:"textContent",staticClass:"text-content",style:e.textContentStyle,domProps:{innerHTML:e._s(e.htmlContent)},on:{click:e.clickText}}):t("div",{ref:"textContent",staticClass:"text-content",style:e.textContentStyle,on:{click:e.clickText}},[e._v("\n    "+e._s(e.content)+"\n  ")]),e.couldToggleExpandStatus?[t("span",{directives:[{name:"show",rawName:"v-show",value:!e.isExpand,expression:"!isExpand"}],staticClass:"ellipsis-after",class:{rendered:e.rendered},style:e.ellipsisAfterPlaceHolderStyle,on:{click:function(t){return e.expand(t)}}},[e._t("ellipsis_after",function(){return[e._v("...展开")]})],2),t("span",{directives:[{name:"show",rawName:"v-show",value:e.isExpand&&e.enableFold,expression:"isExpand && enableFold"}],staticClass:"ellipsis-after",class:{rendered:e.rendered},style:e.foldBtnStyle,on:{click:function(t){return e.fold(t)}}},[e._t("ellipsis_after_fold",function(){return[e._v("收起")]})],2)]:e._e()],2)},[],!1,null,null,null).exports);O.install=function(t){t.component(O.name,O)};var I=O,b=i(4),j=i.n(b),L='\n<div id="commentList" class="use-comment-default-style comment-list-wrapper">\n  <slot name="commentListHeader"></slot>\n  <template v-if="showEmptyStatus">\n    <div class="empty-status-box">\n      <span class="empty-status__image"></span>\n      <span class="empty-status__text"></span>\n    </div>\n  </template>\n  <template v-else>\n    <div\n      v-if="disableInfiniteScroll"\n      class="comment-list-container"\n    >\n      <comment-item v-for="(comment, index) in commentList" :key="comment.id" :comment="comment" :showReplyList="commentListItemShowReplyList"></comment-item>\n      <section class="load-more-bar" @click="loadCommentList" :data-load-status="loadingStatus">{{loadMoreBarTip}}</section>\n    </div>\n\n    <div\n      v-else\n      class="comment-list-container"\n      v-infinite-scroll="loadCommentList"\n      :infinite-scroll-disabled="disableInfiniteScroll || loadingStatus === \'loading\'"\n      :infinite-scroll-distance="infiniteScrollOptions.distance"\n      :infinite-scroll-immediate-check="infiniteScrollOptions.immediateCheck"\n    >\n      <comment-item v-for="(comment, index) in commentList" :key="comment.id" :comment="comment" :showReplyList="commentListItemShowReplyList"></comment-item>\n\n      <section v-show="loadMoreTip" class="comment-list-bottom">\n        <div class="loadmore-tip" :data-load-status="loadingStatus" @click="handleRetryLoadCommentList">\n          <span class="tip-text">{{loadMoreTip}}</span>\n        </div>\n      </section>\n    </div>\n  </template>\n</div>\n',b=i(18),F=i.n(b),R='\n<div class="reply-list-container" v-if="replyList && replyList.length">\n  <reply-item v-for="reply in displayedReplyList" :key="reply.id" :reply="reply" :comment="comment"></reply-item>\n  <div class="more-reply-bar" :data-is-folded="folded">\n    <div\n      v-show="expandBtnText"\n      class="reply-loading-tip"\n      :data-load-status="replyListLoadingStatus"\n      @click="handleExpandBtnClick"\n    >\n      <span class="dash-line"></span>\n      <span>{{expandBtnText}}</span>\n    </div>\n  </div>\n</div>\n',B='\n<div class="reply-item" :data-reply-id="reply.id">\n  <div class="avatar">\n    <img :src="replyUser.avatar_url" @click.stop="handleClickAvatar">\n  </div>\n  <div class="comment-section">\n    <div class="name-line">\n      <span class="name single-line-ellipsis">\n        {{replyUser.name||t(\'rootComp.commentList.anonymity\')}}\n      </span>\n      <span v-if="replyUser.user_id && replyUser.user_id == creatorUid" class="character-tag is-creator">{{t(\'rootComp.commentList.author\')}}</span>\n      <span\n        v-if="reply.reply_to_replyid"\n        class="name reply-to-name single-line-ellipsis"\n      >\n        {{reply.reply_to_username}}\n      </span>\n    </div>\n    <div class="comment-content-text" @click.stop="handleItemAreaClick(\'\')" v-touch:touchhold="handleItemAreaLongTap">\n      <TextEllipsisBox\n        :content="reply.text"\n        :max-line-num="5"\n      />\n      <div class="comment-info">\n        <div class="wrapper">\n          <span class="time">{{reply.create_time | formatElapse}}</span>\n          <span v-if="!disableReplyBtn" class="reply-btn" @click.stop="handleItemAreaClick(\'replyBtn\')">{{t(\'rootComp.commentList.action.reply\')}}</span>\n        </div>\n        <Icon v-if="!hasAuthOperate && !disableFeedback" name="close" size="20px" @click="handleItemAreaClick(\'feedbackBtn\')" :stopPropagation="true"></Icon>\n      </div>\n      <div class="action-pane" @click.stop>\n        <like-btn\n          v-if="!disableDigg"\n          :diggTarget="reply"\n          :isSupportApprovalAni="reply.isSupportApprovalAni || isSupportDigAni"\n          @toggleDigg="handleToggleDigg"\n        />\n        <a\n          v-if="hasAuthOperate"\n          class="delete"\n          @click.stop="handleItemAreaClick(\'deleteBtn\')"\n        >\n          <span class="text">{{t(\'rootComp.commentList.action.delete\')}}</span>\n          <Icon name="delete" />\n        </a>\n      </div>\n    </div>\n  </div>\n</div>\n',b=i(0),N=i.n(b),V=i(6),z={mixins:[E],data:function(){return{}},filters:{formatElapse:V.formatElapse,formatCount:function(t){return""}},computed:{disableFeedback:function(){return this.$store.getters.queryFunctionDisableStatus("feedback")},disableDigg:function(){return this.$store.getters.queryFunctionDisableStatus("digg")},disableReplyBtn:function(){return this.$store.getters.queryFunctionDisableStatus("replyBtn")}},methods:{}};function H(e,t){var i,n=Object.keys(e);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(e),t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)),n}function G(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?H(Object(i),!0).forEach(function(t){j()(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):H(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}function q(t){var e=0<arguments.length&&void 0!==t?t:{},t=e.tmpl,e=e.vuex.mapState;return{template:t||B,mixins:[z],components:{TextEllipsisBox:I},props:{comment:{type:Object,default:function(){return{}}},reply:{type:Object,default:function(){return{}}}},computed:G(G({},e(["config","currentUser","creatorUid"])),{},{showReplyList:function(){return N()(this.config,"showReplyList")},replyUser:function(){return N()(this.reply,"user")||{}},hasAuthOperate:function(){return N()(this.currentUser,"id")===this.replyUser.user_id},isSupportDigAni:function(){return this.$store.getters.queryIsCustomDiggAnimation()}}),methods:{handleItemAreaClick:function(t){this.$store.dispatch("clickItemArea",{areaTag:t,targetComment:this.comment,targetReply:this.reply})},handleClickAvatar:function(){this.handleItemAreaClick("avatar")},handleToggleDigg:function(t){Object.assign(this.reply,t),this.$store.dispatch("clickItemArea",{areaTag:"diggBtn",targetComment:this.comment,targetReply:this.reply})},handleItemAreaLongTap:function(){this.handleItemAreaClick("longTap")}}}}var U=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},n={};return e.forEach(function(t){n[t]=i[t]||""}),{tmpl:i[t]||"",descendantTmpls:n}};function $(e,t){var i,n=Object.keys(e);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(e),t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)),n}function K(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?$(Object(i),!0).forEach(function(t){j()(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):$(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}var W='\n<div class="comment-item" :data-comment-id="comment.id">\n  <div class="avatar">\n    <img :src="commentUser.avatar_url" @click.stop="handleClickAvatar">\n  </div>\n  <div class="comment-section">\n    <div class="name-line">\n      <span class="name single-line-ellipsis">\n        {{commentUser.name||t(\'rootComp.commentList.anonymity\')}}\n      </span>\n      <span v-if="commentUser.user_id && commentUser.user_id == creatorUid" class="character-tag is-creator">{{t(\'rootComp.commentList.author\')}}</span>\n    </div>\n    <div class="comment-content-text" @click.stop="handleItemAreaClick(\'\')" v-touch:touchhold="handleItemAreaLongTap">\n      <TextEllipsisBox\n        :content="comment.text"\n        :max-line-num="5"\n      />\n      <div class="comment-info">\n        <div class="wrapper">\n          <span class="time">{{comment.create_time | formatElapse}}</span>\n          <span v-if="!disableReplyBtn" class="reply-btn" @click.stop="handleItemAreaClick(\'replyBtn\')">{{t(\'rootComp.commentList.action.reply\')}}</span>\n        </div>\n        <Icon v-if="!hasAuthOperate && !disableFeedback" name="close" size="20px" @click="handleItemAreaClick(\'feedbackBtn\')" :stopPropagation="true"></Icon>\n      </div>\n      <div class="action-pane" @click.stop>\n        <like-btn\n          v-if="!disableDigg"\n          :diggTarget="comment"\n          :isSupportApprovalAni="comment.isSupportApprovalAni || isSupportDigAni"\n          @toggleDigg="handleToggleDigg"\n        />\n        <a\n          v-if="hasAuthOperate"\n          class="delete"\n          @click.stop="handleItemAreaClick(\'deleteBtn\')"\n        >\n          <span class="text">{{t(\'rootComp.commentList.action.delete\')}}</span>\n          <Icon name="delete" />\n        </a>\n      </div>\n    </div>\n    <reply-list v-if="showReplyList" :comment="comment"></reply-list>\n  </div>\n</div>\n';function Y(e,t){var i,n=Object.keys(e);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(e),t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)),n}function X(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(i),!0).forEach(function(t){j()(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Y(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}function J(t){var e=0<arguments.length&&void 0!==t?t:{},i=e.tmpl,n=e.adaptorName,r=e.storeName,a=e.descendantTmpls,t=e.vuex,e=t.mapState,a=X({adaptorName:void 0===n?"$adaptor":n,storeName:r,vuex:t},U("replyList",["replyItem"],a));return{template:i||W,mixins:[z],props:{comment:{type:Object,default:function(){return{}}},showReplyList:{type:Boolean,default:!1}},components:{TextEllipsisBox:I,ReplyList:function(t){var e=(r=0<arguments.length&&void 0!==t?t:{}).tmpl,i=void 0===(n=r.adaptorName)?"$adaptor":n,t=r.storeName,n=r.descendantTmpls,r=r.vuex,n=K({adaptorName:i,storeName:t,vuex:r},U("replyItem",[],n)),r=r.mapState;return{template:e||R,mixins:[z],props:{comment:{type:Object,default:function(){return{}}}},data:function(){return{folded:!0}},components:{ReplyItem:q(n)},computed:K(K({},r(["config"])),{},{foldedShowCount:function(){return N()(this.config,"replyList.foldedShowCount")||3},componentAdaptor:function(){return this[i]},commentId:function(){return N()(this.comment,"id")||""},replyList:function(){return N()(this.comment,"replyList")||[]},replyListLoadingStatus:function(){return N()(this.comment,"replyListLoadingStatus")||""},replyListFetchCount:function(){return N()(this.comment,"replyListFetchCount")||0},displayedReplyList:function(){return this.folded?this.replyList.slice(0,this.foldedShowCount):this.replyList},expandBtnText:function(){var t=this.replyListLoadingStatus,e=this.folded,i="";switch(t){case"loading":i=this.t("rootComp.commentList.replyLoadingTip.loading");break;case"error":i=this.t("rootComp.commentList.replyLoadingTip.error");break;case"finish":i=this.replyList.length<=this.foldedShowCount?"":e?this.t("rootComp.commentList.replyLoadingTip.expand"):this.t("rootComp.commentList.replyLoadingTip.fold");break;default:i=this.t("rootComp.commentList.replyLoadingTip.expand")}return i},loadMoreTip:function(){return this.t("rootComp.commentList.replyLoadingTip.".concat(this.loadingStatus||"default"))}}),mounted:function(){this.loadReplyList()},methods:{loadReplyList:function(){this.$store.dispatch("fetchReplyList",{commentId:this.commentId})},resetReplyList:function(){this.$store.dispatch("resetReplyListFoldStatus",{commentId:this.commentId})},handleExpandBtnClick:function(){var t=this.replyListLoadingStatus;"loading"!==t&&("finish"===t?(this.folded=!this.folded,this.folded&&this.resetReplyList()):(1<=this.replyListFetchCount&&!this.folded&&this.loadReplyList(),this.folded=!1))}}}}(a)},computed:X(X({},e(["config","currentUser","creatorUid"])),{},{commentUser:function(){return N()(this.comment,"user")||{}},hasAuthOperate:function(){var t=N()(this.currentUser,"id");return t&&t===this.commentUser.user_id},isSupportDigAni:function(){return this.$store.getters.queryIsCustomDiggAnimation()}}),methods:{handleItemAreaClick:function(t){this.$store.dispatch("clickItemArea",{areaTag:t,targetComment:this.comment})},handleClickAvatar:function(){this.handleItemAreaClick("avatar")},handleToggleDigg:function(t){Object.assign(this.comment,t),this.$store.dispatch("clickItemArea",{areaTag:"diggBtn",targetComment:this.comment})},handleItemAreaLongTap:function(){this.handleItemAreaClick("longTap")}}}}i(88),i(184);var b=i(14),Q=i.n(b),E=i(8),Z=i.n(E),b=i(35),E=i.n(b),b={baseURL:location.origin},b=E.a.create(b);b.interceptors.response.use(function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.data,i=t.status;if(200===i)return e;t=t.request;return Promise.reject("status is ".concat(i,", request is ").concat(t.responseURL))},function(t){return Promise.reject(t)});var tt=b;var et={COMMENT_LIST_URL:"/comments/v2/",REPLY_LIST_URL:"/comment/reply_list/v2/",COMMENT_DIGG_URL:"/comment/digg/v1/",COMMENT_REPLY_CREATE_URL:"/comment/reply/create/v1/?utm_source=${utm_source}",COMMENT_CREATE_URL:"/comment/create/v1/?utm_source=${utm_source}",COMMENT_REPORT_URL:"/comment/report/v1/",DELETE_COMMENT_URL:"/comment/delete/v1/"};function it(t,e){t=t?et[t]:"";return t?function(t,i){var e=t.match(/\$\{[A-Za-z0-9_]*\}/g)||[],e=Array.from(new Set(e)),n={};e.forEach(function(t){var e=t.replace(/[\$\{|\}}]/g,"");Boolean(e)&&(n[t]=i[e])});var r=t;return Object.keys(n).forEach(function(t){var e="\\$\\{".concat(t.replace(/[\$\{|\}}]/g,""),"\\}");r=r.replace(new RegExp(e,"g"),n[t])}),r}(t,e):""}var b=i(108),nt=i.n(b),b=i(3);function rt(e,t){var i,n=Object.keys(e);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(e),t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)),n}function at(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?rt(Object(i),!0).forEach(function(t){j()(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):rt(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}var st=i.n(b)()("utm_source"),ot=it("COMMENT_LIST_URL"),lt=it("REPLY_LIST_URL"),ht=it("COMMENT_DIGG_URL"),ct=it("COMMENT_CREATE_URL",{utm_source:st}),pt=it("COMMENT_REPLY_CREATE_URL",{utm_source:st}),ut=it("COMMENT_REPORT_URL"),mt=it("DELETE_COMMENT_URL");function dt(t){var e,i,n=0<arguments.length&&void 0!==t?t:{},r="";if("object"!==o()(n))return r;for(e in n)!Object.hasOwnProperty.call(n,e)||null!=(i=n[e])&&(r?r+="&".concat(e,"=").concat(i):r="".concat(e,"=").concat(i));return r}function ft(){return(ft=Q()(Z.a.mark(function t(e){var i,n,r,a,s;return Z.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.ouid,i=e.groupId,s=e.offset,r=void 0===s?0:s,a=e.count,s=void 0===a?20:a,a=e.sortCode,r={group_id:i,offset:r,count:s,tab_index:void 0===a?0:a,service_id:""},n&&Object.assign(r,{ouid:n}),t.next=5,tt.get(ot,{params:r});case 5:return s=t.sent,a=s.data,n=void 0===a?[]:a,r=s.has_more,a=s.total_number,s=s.ban_comment,t.abrupt("return",{commentList:n.map(function(t){var e=t.comment,t=e.reply_count;return e.id=String(e.id_str||e.id),e.reply_to_replyid&&(e.reply_to_replyid=String(e.reply_to_replyid_str||e.reply_to_replyid)),e.user={avatar_url:e.user_profile_image_url,name:e.user_name,user_id:e.user_id},e.replyHasMore=0<t,e.replyList=[],e.replyOffset=0,e}),hasMore:r,totalNumber:a,banComment:s});case 8:case"end":return t.stop()}},t)}))).apply(this,arguments)}function gt(){return(gt=Q()(Z.a.mark(function t(e){var i,n,r,a;return Z.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=e.commentId,a=e.offset,n=void 0===a?0:a,r=e.count,a=void 0===r?20:r,r=e.sortCode,a={comment_id:i,offset:n,count:a,tab_index:void 0===r?0:r},t.next=4,tt.get(lt,{params:a});case 4:if((r=t.sent)&&0===r.ret)return a=r.data,(a=void 0===a?[]:a).forEach(function(t){t.id=String(t.id_str||t.id),t.reply_to_replyid&&(t.reply_to_replyid=String(t.reply_to_replyid_str||t.reply_to_replyid))}),t.abrupt("return",{replyList:a,hasMore:r.has_more||r.has_mode});t.next=9;break;case 9:case"end":return t.stop()}},t)}))).apply(this,arguments)}function yt(){return(yt=Q()(Z.a.mark(function t(e){var i,n=arguments;return Z.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=at({group_id:"",item_id:"",comment_id:e},1<n.length&&void 0!==n[1]?n[1]:{}),t.next=4,tt.post(ht,dt(i));case 4:if(i=t.sent,"success"===i.message)return t.abrupt("return",i);t.next=10;break;case 10:return t.abrupt("return",Promise.reject(new Error("postDigg error")));case 11:case"end":return t.stop()}},t)}))).apply(this,arguments)}function vt(){return(vt=Q()(Z.a.mark(function t(e){var i,n,r=arguments;return Z.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=(n=1<r.length&&void 0!==r[1]?r[1]:{}).id?pt:ct,n=at({text:nt()(decodeURIComponent(e)),group_id:"",item_id:"",news_url:"",news_title:"",service_id:""},n),t.next=5,tt.post(i,dt(n),{headers:{"Content-Type":"application/x-www-form-urlencoded"}});case 5:if((n=t.sent)&&0===n.ret)return t.abrupt("return",n);t.next=10;break;case 10:return t.abrupt("return",Promise.reject(new Error("postComment error")));case 11:case"end":return t.stop()}},t)}))).apply(this,arguments)}function _t(){return(_t=Q()(Z.a.mark(function t(e){var i,n,r,a,s=arguments;return Z.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.groupId,i=void 0===r?"":r,n=e.commentId,r=e.reportReason,r=at({partner:st,comment_id:n,group_id:i,report_reason:r},1<s.length&&void 0!==s[1]?s[1]:{}),t.next=5,tt.post(ut,dt(r));case 5:if((a=t.sent)&&0===a.ret)return t.abrupt("return",a);t.next=10;break;case 10:return t.abrupt("return",Promise.reject(a));case 11:case"end":return t.stop()}},t)}))).apply(this,arguments)}function bt(){return(bt=Q()(Z.a.mark(function t(e,i,n){var r;return Z.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=i?{id:e,reply_id:i}:{id:e},t.next=3,tt.post(mt,dt(Object.assign({},r,n)),{headers:{"Content-Type":"application/x-www-form-urlencoded"}});case 3:if((r=t.sent)&&0===r.ret)return t.abrupt("return",r);t.next=8;break;case 8:return t.abrupt("return",Promise.reject(new Error("deleteComment error")));case 9:case"end":return t.stop()}},t)}))).apply(this,arguments)}function xt(e,t){var i,n=Object.keys(e);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(e),t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)),n}function wt(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?xt(Object(i),!0).forEach(function(t){j()(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):xt(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}var Et=window.GLOBAL_STATE||{},St=function(t){for(var e=t.commentId,i=t.state.commentList,n=null,r=0;r<i.length;){if(i[r].id===e){n=i[r];break}r++}return n},Ct=function(t){for(var e=t.commentId,i=t.state.commentList,n=-1,r=0;r<i.length;){if(i[r].id===e){n=r;break}r++}return n},Pt=function(t){var e=t.replyId,t=t.replyList,i=void 0===t?[]:t,n=-1;if(i&&i.length)for(var r=0;r<i.length;){if(console.log(i[r].id,i[r].id===e),i[r].id===e){n=r;break}r++}return n},kt={};function Tt(t,e){t?(e=e?{id:t.id,reply_comment_id:e.id,reply_user_id:e.user.user_id,region_comment:e.text,region_comment_time:e.create_time,region_user_name:e.user.name,region_user_id:e.user.user_id}:{id:t.id,region_comment:t.text,region_comment_time:t.create_time,region_user_name:t.user.name,region_user_id:t.user.user_id},kt.extra=e,kt.targetComment=t):kt={}}var At=["contentText","replyBtn"],Dt=function(){return{config:{disableFunction:[]},meta:{groupId:"",groupSource:"",title:"",creatorUid:""},groupId:Et.group_id||"",groupSource:Et.group_source||2,title:Et.title||"",creatorUid:(window.GLOBAL_STATE||{}).creator_uid,commentList:[],offset:0,hasMore:!0,banComment:!1,totalNumber:0,loadingStatus:"",fetchCount:0,currentUser:{}}},Mt={getTargetComment:function(e){return function(t){return St({commentId:t,state:e})}},queryFunctionDisableStatus:function(e){return function(t){return-1!==(N()(e,"config.disableFunction")||[]).indexOf(t)}},queryIsCustomDiggAnimation:function(t){return function(){return!!N()(t,"config.isSupportCustomDigAni")}}},Ot={replaceStateField:function(t,e){var i=e.key,e=e.val;t[i]=e},setCommentConfig:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};t.config=wt(wt({},t.config),e)},setMeta:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};t.meta=wt(wt({},t.meta),e)},setCurrentUser:function(t){t.currentUser=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}},addCommentList:function(t,e){t.commentList=t.commentList.concat(e)},addNewComment:function(t,e){e&&(t.commentList.unshift(e),N()(t,"config.commentList.scrollToNewAdded")&&setTimeout(function(){Object(V.scrollYTo)(document.querySelector("[data-comment-id=".concat(e.id,"]"))||document.getElementById("commentList"),document.getElementById("commentList").parentNode,{pattern:"linear",duration:170})}))},updateCommentItem:function(){},deleteCommentItem:function(t,e){e=e.commentId,e=Ct({commentId:e,state:t}),t=t.commentList;-1!==e&&t.splice(e,1)},addReplyList:function(t,e){var i=e.commentId,e=e.newAddReplyList,t=St({commentId:i,state:t});t&&(t.replyList=t.replyList.concat(e))},addNewReply:function(t,e){var i=e.commentId,n=e.reply;n&&i&&((i=St({commentId:i,state:t}))&&(i.replyList.unshift(n),N()(t,"config.commentDetail.scrollToNewAdded")&&setTimeout(function(){Object(V.scrollYTo)(document.querySelector("[data-reply-id=".concat(n.id,"]"))||document.getElementById("commentDetail"),document.getElementById("commentDetail").parentNode,{pattern:"linear",duration:170})})))},deleteReplyItem:function(t,e){var i=e.commentId,e=e.replyId,t=St({commentId:i,state:t});!t||-1!==(e=Pt({replyId:e,replyList:t.replyList}))&&t.replyList.splice(e,1)},updateReplyItem:function(){},setCommentCache:function(t,e){Tt(e.targetComment,e.targetReply)}},It=function(){var u=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return{fetchCommentList:function(t){var r=t.commit,e=t.state,a=e.offset,i=e.hasMore,t=e.loadingStatus,s=e.fetchCount;"loading"!==t&&i&&(t=e.groupId,i=N()(e,"config.commentList.pageSize")||20,t&&(r("replaceStateField",{key:"loadingStatus",val:"loading"}),function(){return ft.apply(this,arguments)}({ouid:e.ouid,groupId:t,offset:a,count:i}).then(function(t){var e=t.commentList,i=t.hasMore,n=t.banComment,t=t.totalNumber,e=e.map(function(t){return t.replyListLoadingStatus="",t.replyListHasMore=!0,t.replyListFetchCount=0,t});u.processCommentListData&&(e=u.processCommentListData(e)||e),r("replaceStateField",{key:"loadingStatus",val:n||i?"":"finish"}),r("replaceStateField",{key:"fetchCount",val:s+1}),r("addCommentList",e),r("replaceStateField",{key:"offset",val:a+e.length}),r("replaceStateField",{key:"hasMore",val:i}),r("replaceStateField",{key:"banComment",val:n}),r("replaceStateField",{key:"totalNumber",val:t})}).catch(function(){r("replaceStateField",{key:"loadingStatus",val:"error"})})))},fetchReplyList:function(t){var e=t.state,n=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).commentId,r=St({commentId:n,state:e});"loading"!==r.replyListLoadingStatus&&r.replyListHasMore&&r&&(t=r.replyOffset,e=N()(e,"config.replyList.pageSize")||20,r.replyListLoadingStatus="loading",function(){return gt.apply(this,arguments)}({commentId:n,offset:t,count:e}).then(function(t){var e=t.replyList,t=t.hasMore,i=r.replyList.map(function(t){return t.id}),e=e.filter(function(t){return-1===i.indexOf(t.id)});u.processReplyListData&&(e=u.processReplyListData(n,e)||e),r.replyList=r.replyList.concat(e),r.replyOffset=r.replyOffset+e.length,r.replyListLoadingStatus=t?"":"finish",r.replyListHasMore=t,r.replyListFetchCount=r.replyListFetchCount+1}).catch(function(){r.replyListLoadingStatus="error"}))},resetReplyListFoldStatus:function(t){var e=t.state,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};N()(e,"config.replyList.isResetReplyLiAfterFolded")&&(t=i.commentId,i=St({commentId:t,state:e}),t=N()(e,"config.replyList.pageSize")||20,e=i.reply_count>t,i.replyList=i.replyList.slice(0,t),i.replyOffset=i.replyList.length,i.replyListLoadingStatus=e?"":"finish",i.replyListHasMore=e,i.replyListFetchCount=1)},toInputCommentText:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=e.targetComment,e=e.targetReply;Tt(i,e),u.callSoftKeyboard(i,e)},toggleDigg:function(t){var e,i,n,r,a,s=t.state,o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},t=o.targetComment,l=void 0===t?{}:t,h=o.targetReply,t=s.groupId;function c(){e.user_digg=!i,e.digg_count=e.digg_count-n,e.digg_active=!1}l.id&&((e=!h||!h.id?l:h).digging?u.toastMessage("操作过频繁，请稍后..."):(e.digging=!0,o=(i=!e.user_digg)?"digg":"cancel_digg",n=i?1:-1,r=!!N()(s,"config.isSupportCustomDigAni"),u.performDiggAnim(e,i),e.user_digg=i,e.digg_count=e.digg_count+n,a={group_id:t,item_id:t,action:o},u.beforeAuthOperate().then(function(){!function(){return yt.apply(this,arguments)}(e.id,Object.assign({},a,0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})).then(function(){e.digging=!1,r||(e.digg_active=!1),u.onActionSuccess("toggleDigg",{targetComment:l,targetReply:h})}).catch(function(){setTimeout(function(){e.digging=!1,c()},150),u.onActionError("toggleDigg",{targetComment:l,targetReply:h})})}).catch(function(){e.digging=!1,c(),u.onActionError("toggleDigg",{targetComment:l,targetReply:h})})))},executeDelete:function(t){var e=t.commit,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=t.targetComment,n=t.targetReply,r=(i||{}).id,a=(n||{}).id;r&&u.beforeAuthOperate().then(function(){!function(){return bt.apply(this,arguments)}(r,a,0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).then(function(){a?e("deleteReplyItem",{commentId:r,replyId:a}):e("deleteCommentItem",{commentId:r}),u.onActionSuccess("executeDelete",{targetComment:i,targetReply:n})},function(){u.onActionError("executeDelete",{targetComment:i,targetReply:n})})})},postSend:function(t){var h=t.commit,e=t.state,c=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).text,i=e.groupId,t=e.title,n=void 0===t?"":t,r=e.groupSource,p=e.currentUser;u.beforeAuthOperate().then(function(t){t=wt(wt({group_id:i,item_id:i,news_url:location.href.replace("/comment/","/"),news_title:n.replace("-今日头条",""),service_id:r&&-1!==[16,19,21].indexOf(r)?1128:""},kt.extra),t);console.info("extraParams: ",t),function(){return vt.apply(this,arguments)}(c,t).then(function(t){var e,i,n=t.comment_id,r=t.comment_text,a=t.user_id,s=t.user_name,o=N()(t,"data.comment.user")||{},l=String(n),t=r||c,n=a||p.id,r=s||p.name,a=parseInt((new Date).getTime()/1e3,10),s=kt.targetComment;Boolean(s)?(i={id:l,text:t,create_time:a,user:{user_id:n,name:r,avatar_url:o.avatar_url||p.avatar},reply_to_replyid:kt.extra.reply_comment_id,reply_to_userid:String(kt.extra.region_user_id),reply_to_username:kt.extra.region_user_name,user_digg:0,digg_count:0},h("addNewReply",{commentId:(e=s).id,reply:i=i})):(o={id:l,text:t,create_time:a,user:{user_id:n,name:r,avatar_url:o.avatar_url||p.avatar},user_digg:0,digg_count:0,reply_count:0,replyList:[],replyOffset:0,replyListLoadingStatus:"finish",replyListHasMore:!1,replyListFetchCount:0},h("addNewComment",e=o)),kt={},u.onActionSuccess("postSend",{comment:e,reply:i})},function(){u.onActionError("postSend",{})})})},viewCommentDetail:function(t){var e=t.commit,i=t.state,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},t=n.targetComment,n=n.targetReply;u.viewCommentDetail({commit:e,state:i},{targetComment:t,targetReply:n})},clickItemArea:function(t){var e=t.commit,i=t.state,n=t.dispatch,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=t.areaTag,a=t.targetComment,s=t.targetReply;-1!==(i.needSetCacheAreaTags||At).indexOf(r)&&Tt(a,s),u.clickItemAreaPromise({commit:e,state:i},{areaTag:r,targetComment:a,targetReply:s}).then(function(t){if(!t)switch(r){case"avatar":break;case"feedbackBtn":n("feedback",{targetComment:a,targetReply:s});break;case"diggBtn":n("toggleDigg",{targetComment:a,targetReply:s});break;case"deleteBtn":n("executeDelete",{targetComment:a,targetReply:s});break;default:n("toInputCommentText",{targetComment:a,targetReply:s})}})},feedback:function(t){var i=t.commit,n=t.state,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},t=e.targetComment,r=void 0===t?{}:t,t=e.targetReply,a=void 0===t?{}:t,e=e.extra,s=void 0===e?{}:e;u.reportComment(function(t){var e=a&&a.id;return function(){return _t.apply(this,arguments)}({commentId:(e?a:r).id,groupId:n.groupId,reportReason:t},s).then(function(){var t={commentId:r.id};return e?i("deleteReplyItem",Object.assign(t,{replyId:a.id})):i("deleteCommentItem",{commentId:r.id}),Promise.resolve(t)},Promise.reject)})}}};function jt(t,e){return new t.Store({state:Dt,getters:Mt,actions:It(e),mutations:Ot})}function Lt(e,t){var i,n=Object.keys(e);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(e),t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)),n}function Ft(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Lt(Object(i),!0).forEach(function(t){j()(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Lt(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}function Rt(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.tmpl,i=t.vuex,n=t.descendantTmpls,t=i.mapState,n=Ft({vuex:i},U("commentItem",["replyList","replyItem"],n));return{template:e||L,mixins:[z],components:{CommentItem:J(n)},props:{gid:{type:String,default:""},disableInfiniteScroll:{type:Boolean,default:!1},infiniteScrollOptions:{type:Object,default:function(){return{distance:20,immediateCheck:!1}}},isSupportDigAni:{type:Boolean,default:!1}},directives:{infiniteScroll:F.a},computed:Ft(Ft({},t(["commentList","offset","loadingStatus","groupId","config","hasMore","totalNumber"])),{},{commentListItemShowReplyList:function(){return N()(this.config,"commentListItemShowReplyList")||N()(this.config,"commentList.showReplyList")},loadMoreTip:function(){return this.t("rootComp.commentList.commentLoadingTip.".concat(this.loadingStatus||"default"))},loadMoreBarTip:function(){return this.t("rootComp.commentList.commentLoadingTip.".concat(this.loadingStatus||"expand"))},showEmptyStatus:function(){return!this.commentList.length&&!this.hasMore}}),mounted:function(){this.gid&&this.gid!==this.groupId&&(this.$store.commit("replaceStateField",{key:"commentList",val:[]}),this.$store.commit("replaceStateField",{key:"groupId",val:this.gid})),this.loadCommentList()},methods:{loadCommentList:function(){this.$store.dispatch("fetchCommentList",{groupId:this.groupId})},handleRetryLoadCommentList:function(){"error"===this.loadingStatus&&this.loadCommentList()}}}}var Bt=[w,C,r],Nt=[s,v,g],g=function(e){var i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};Bt.forEach(function(t){e.use(t,i[t.name]||{})}),Nt.forEach(function(t){e.component(t.name,t)}),e.use(y.a)};"undefined"!=typeof window&&window.Vue&&g(window.Vue);e.b={install:g}},function(t,e,i){"use strict";i.d(e,"e",function(){return a}),i.d(e,"c",function(){return s}),i.d(e,"b",function(){return h}),i.d(e,"d",function(){return c}),i.d(e,"a",function(){return p});var e=i(4),n=i.n(e),e=i(21),o=i.n(e),e=i(3),e=i.n(e);function r(e,t){var i,n=Object.keys(e);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(e),t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)),n}function l(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?r(Object(i),!0).forEach(function(t){n()(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}function a(t,i){var e=t.match(/\$\{[A-Za-z0-9_]*\}/g)||[],e=Array.from(new Set(e)),n={};e.forEach(function(t){var e=t.replace(/[\$\{|\}}]/g,"");Boolean(e)&&(n[t]=i[e])});var r=t;return Object.keys(n).forEach(function(t){var e="\\$\\{".concat(t.replace(/[\$\{|\}}]/g,""),"\\}");r=r.replace(new RegExp(e,"g"),n[t])}),r}function s(){return navigator.userAgent.match(/(?:ios|iphone|ipad|ipod)/i)}function h(t,e){if(!t)return"";if(t.indexOf("?")<0)return{};var t=t.split("?")[1].split("#")[0].split("&"),i={};return t.forEach(function(t){var e=t.split("=")[0],t=t.split("=")[1];i[e]?(Array.isArray(i[e])||(i[e]=[i[e]]),i[e].push(t)):i[e]=t}),e?i[e]&&1==i[e].length?i[e][0]:i[e]:i}function c(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:2,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},n=3<arguments.length?arguments[3]:void 0,r=5===e,a=h(location.href),e=a.utm_source,a=a.is_tt_test_env,s="";"string"!=typeof e&&e.length?e.some(function(t){if(t&&"singlemessage"!==t)return s=t,!0}):s=e;a={utm_source:s,is_tt_test_env:a},t="".concat(n?"https://partner-share.toutiao.com":"https://open.toutiao.com","/").concat(r?"w":"a").concat(t,"/");return o()(t,l(l({},a),i))}Object.keys||(Object.keys=function(t){if(t!==Object(t))throw new TypeError("Object.keys called on a non-object");var e,i=[];for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&i.push(e);return i});var p=e()("",location.search)},,function(t,h,e){"use strict";!function(t){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function p(t){return function(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var n=function(){function n(t,e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),this.el=t,this.observer=null,this.frozen=!1,this.createObserver(e,i)}var t,e,i;return t=n,(e=[{key:"createObserver",value:function(t,e){var i,n=this;this.observer&&this.destroyObserver(),this.frozen||(this.options=t="function"==typeof(t=t)?{callback:t}:t,this.callback=function(t,e){n.options.callback(t,e),t&&n.options.once&&(n.frozen=!0,n.destroyObserver())},this.callback&&this.options.throttle&&(i=(this.options.throttleOptions||{}).leading,this.callback=function(a,s,t){var o,l,h,c=2<arguments.length&&void 0!==t?t:{},t=function(t){for(var e,i=arguments.length,n=new Array(1<i?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];h=n,o&&t===l||("function"==typeof(e=c.leading)&&(e=e(t,l)),o&&t===l||!e||a.apply(void 0,[t].concat(p(h))),l=t,clearTimeout(o),o=setTimeout(function(){a.apply(void 0,[t].concat(p(h))),o=0},s))};return t._clear=function(){clearTimeout(o),o=null},t}(this.callback,this.options.throttle,{leading:function(t){return"both"===i||"visible"===i&&t||"hidden"===i&&!t}})),this.oldResult=void 0,this.observer=new IntersectionObserver(function(t){var e,i=t[0];1<t.length&&((e=t.find(function(t){return t.isIntersecting}))&&(i=e)),!n.callback||(e=i.isIntersecting&&i.intersectionRatio>=n.threshold)!==n.oldResult&&(n.oldResult=e,n.callback(e,i))},this.options.intersection),e.context.$nextTick(function(){n.observer&&n.observer.observe(n.el)}))}},{key:"destroyObserver",value:function(){this.observer&&(this.observer.disconnect(),this.observer=null),this.callback&&this.callback._clear&&(this.callback._clear(),this.callback=null)}},{key:"threshold",get:function(){return this.options.intersection&&this.options.intersection.threshold||0}}])&&a(t.prototype,e),i&&a(t,i),n}();function s(t,e,i){e=e.value;e&&("undefined"==typeof IntersectionObserver?console.warn("[vue-observe-visibility] IntersectionObserver API is not available in your browser. Please install this polyfill: https://github.com/w3c/IntersectionObserver/tree/master/polyfill"):(i=new n(t,e,i),t._vue_visibilityState=i))}function o(t){var e=t._vue_visibilityState;e&&(e.destroyObserver(),delete t._vue_visibilityState)}var e={bind:s,update:function(t,e,i){var n=e.value;!function t(e,i){if(e===i)return 1;if("object"===r(e)){for(var n in e)if(!t(e[n],i[n]))return;return 1}}(n,e.oldValue)&&(e=t._vue_visibilityState,n?e?e.createObserver(n,i):s(t,{value:n},i):o(t))},unbind:o};var i={version:"0.4.6",install:function(t){t.directive("observe-visibility",e)}},l=null;"undefined"!=typeof window?l=window.Vue:void 0!==t&&(l=t.Vue),l&&l.use(i),h.a=i}.call(this,e(23))},function(t,e,i){"use strict";var r=i(89),n=Object.prototype.toString;function a(t){return"[object Array]"===n.call(t)}function s(t){return void 0===t}function o(t){return null!==t&&"object"==typeof t}function l(t){return"[object Function]"===n.call(t)}function h(t,e){if(null!=t)if(a(t="object"!=typeof t?[t]:t))for(var i=0,n=t.length;i<n;i++)e.call(null,t[i],i,t);else for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.call(null,t[r],r,t)}t.exports={isArray:a,isArrayBuffer:function(t){return"[object ArrayBuffer]"===n.call(t)},isBuffer:function(t){return null!==t&&!s(t)&&null!==t.constructor&&!s(t.constructor)&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:o,isUndefined:s,isDate:function(t){return"[object Date]"===n.call(t)},isFile:function(t){return"[object File]"===n.call(t)},isBlob:function(t){return"[object Blob]"===n.call(t)},isFunction:l,isStream:function(t){return o(t)&&l(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:h,merge:function i(){var n={};function t(t,e){"object"==typeof n[e]&&"object"==typeof t?n[e]=i(n[e],t):n[e]=t}for(var e=0,r=arguments.length;e<r;e++)h(arguments[e],t);return n},deepMerge:function i(){var n={};function t(t,e){"object"==typeof n[e]&&"object"==typeof t?n[e]=i(n[e],t):n[e]="object"==typeof t?i({},t):t}for(var e=0,r=arguments.length;e<r;e++)h(arguments[e],t);return n},extend:function(i,t,n){return h(t,function(t,e){i[e]=n&&"function"==typeof t?r(t,n):t}),i},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(t,e,i){"use strict";function n(){return window.innerHeight||document.documentElement.clientHeight||(window.screen||{}).height||0}function r(t){var i,n,r=t.onScrollUp,a=t.onScrollDown,e=t.throttle,s=t.wait,o=void 0===s?120:s,t=t.immediate,l=window.pageYOffset||0;function h(t){var e=window.pageYOffset,i=e-l;0<i?r&&r(e,i):a&&a(e,i),l=e}window.addEventListener("scroll",void 0===e||e?(i=null,n=+new Date,function(t){var e=new Date;o<=e-n?(h(),n=e):(i&&(clearTimeout(i),i=null),i=setTimeout(function(){h()},o||10))}):h),t&&h()}function a(t){return{videoId:(/tt-videoid=['"](.*?)['"]/g.exec(t)||[])[1],poster:(/tt-poster=['"](.*?)['"]/g.exec(t)||[])[1]}}function s(t){for(var e,i=[],n=null,r=/tt-videoid=['"](.*?)['"]/g,a=/tt-poster=['"](.*?)['"]/g;null!==(e=r.exec(t))&&null!==(n=a.exec(t));)i.push({videoId:e[1],poster:n[1]});return i}i.d(e,"c",function(){return n}),i.d(e,"d",function(){return r}),i.d(e,"a",function(){return a}),i.d(e,"b",function(){return s})},function(t,e,i){t.exports=function(){"use strict";var a="@@InfiniteScroll",u=function t(e,i){var n,r,a,s,o;var l=function t(){e.apply(s,o);r=n};return function(){s=this;o=arguments;n=Date.now();if(a){clearTimeout(a);a=null}if(r){var t=i-(n-r);if(t<0)l();else a=setTimeout(function(){l()},t)}else l()}},h=function t(e){if(e===window)return Math.max(window.pageYOffset||0,document.documentElement.scrollTop);return e.scrollTop},r=document.defaultView.getComputedStyle,m=function t(e){var i=e;while(i&&i.tagName!=="HTML"&&i.tagName!=="BODY"&&i.nodeType===1){var n=r(i).overflowY;if(n==="scroll"||n==="auto")return i;i=i.parentNode}return window},c=function t(e){if(e===window)return document.documentElement.clientHeight;return e.clientHeight},p=function t(e){if(e===window)return h(window);return e.getBoundingClientRect().top+h(window)},s=function t(e){var i=e.parentNode;while(i){if(i.tagName==="HTML")return true;if(i.nodeType===11)return false;i=i.parentNode}return false},o=function t(){if(this.binded)return;this.binded=true;var e=this;var i=e.el;var n=i.getAttribute("infinite-scroll-throttle-delay");var r=200;if(n){r=Number(e.vm[n]||n);if(isNaN(r)||r<0)r=200}e.throttleDelay=r;e.scrollEventTarget=m(i);e.scrollListener=u(d.bind(e),e.throttleDelay);e.scrollEventTarget.addEventListener("scroll",e.scrollListener);this.vm.$on("hook:beforeDestroy",function(){e.scrollEventTarget.removeEventListener("scroll",e.scrollListener)});var a=i.getAttribute("infinite-scroll-disabled");var s=false;if(a){this.vm.$watch(a,function(t){e.disabled=t;if(!t&&e.immediateCheck)d.call(e)});s=Boolean(e.vm[a])}e.disabled=s;var o=i.getAttribute("infinite-scroll-distance");var l=0;if(o){l=Number(e.vm[o]||o);if(isNaN(l))l=0}e.distance=l;var h=i.getAttribute("infinite-scroll-immediate-check");var c=true;if(h)c=Boolean(e.vm[h]);e.immediateCheck=c;if(c)d.call(e);var p=i.getAttribute("infinite-scroll-listen-for-event");if(p)e.vm.$on(p,function(){d.call(e)})},d=function t(e){var i=this.scrollEventTarget;var n=this.el;var r=this.distance;if(e!==true&&this.disabled)return;var a=h(i);var s=a+c(i);var o=false;if(i===n)o=i.scrollHeight-s<=r;else{var l=p(n)-p(i)+n.offsetHeight+a;o=s+r>=l}if(o&&this.expression)this.expression()},i={bind:function t(e,i,n){e[a]={el:e,vm:n.context,expression:i.value};var r=arguments;e[a].vm.$on("hook:mounted",function(){e[a].vm.$nextTick(function(){if(s(e))o.call(e[a],r);e[a].bindTryCount=0;var t=function t(){if(e[a].bindTryCount>10)return;e[a].bindTryCount++;if(s(e))o.call(e[a],r);else setTimeout(t,50)};t()})})},unbind:function t(e){if(e&&e[a]&&e[a].scrollEventTarget)e[a].scrollEventTarget.removeEventListener("scroll",e[a].scrollListener)}},t=function t(e){e.directive("InfiniteScroll",i)};if(window.Vue){window.infiniteScroll=i;Vue.use(t)}return i.install=t,i}()},function(t,e,h){"use strict";h.d(e,"a",function(){return s}),h.d(e,"b",function(){return o});var c=h(1);var i=[{name:"ArticleContent"}],n={name:"Layout",props:{verticalLayout:{type:Array,default:function(){return[]}}},data:function(){return{}},computed:{componentsLayout:function(){return this.verticalLayout.length?this.verticalLayout:i}},render:function(a){var s=this,t=this.componentsLayout;return a("div",{attrs:{id:"contentIntegrationSuite"}},[t.map(function(t){if(!t)return null;var e=t.name,i=t.props,n=t.on,r=t.slotMap,t=t.ref;return a(e,{key:e,props:void 0===i?{}:i,ref:t,on:void 0===n?{}:n},r?Object.keys(r).map(function(t){return a("template",{slot:r[t]},s.$slots[t])}):[])})])}};var r=[],a={name:"Layout",props:{verticalLayout:{type:Array,default:function(){return[]}}},data:function(){return{}},computed:{componentsLayout:function(){return this.verticalLayout.length?this.verticalLayout:r}},render:function(a){var s=this,t=this.componentsLayout;return a("div",{attrs:{id:"sylPageDetail"}},[t.map(function(t){if(!t)return null;var e=t.name,i=t.props,n=t.on,r=t.slotMap,t=t.ref;return a(e,{key:e,props:void 0===i?{}:i,ref:t,on:void 0===n?{}:n},r?Object.keys(r).map(function(t){return a("template",{slot:r[t]},s.$slots[t])}):[])})])}},s={install:function(t){!function(t){var i,n,e=0<arguments.length&&void 0!==t?t:{},r=e.Sylpage,a=e.ArticleContent,t=void 0===a?{}:a,s=void 0===(a=e.VideoContent)?{}:a,o=void 0===(a=e.RelatedNews)?{}:a,l=void 0===(e=e.CommentList)?{}:e;(void 0===r?{}:r).ignore||c.a.component("SylPage",function(e){h.e(2).then(h.t.bind(null,290,7)),h.e(3).then(h.t.bind(null,291,7)).then(function(t){console.log(t,"componentOptions"),e(t)})}),t.ignore||c.a.component("ArticleContent",(i=t.registOptions,n=Promise.all([h.e(0),h.e(6)]).then(h.bind(null,299)),function(e){n.then(function(t){t=t.makeComponentOptions;e(t(i))})})),s.ignore||c.a.component("VideoContent",function(e){var i=s.registOptions;Promise.all([h.e(4),h.e(1),h.e(0),h.e(9)]).then(h.bind(null,298)).then(function(t){t=t.makeComponentOptions;e(t(i))})}),o.ignore||c.a.component("RelatedNews",function(e){var i=o.registOptions;Promise.all([h.e(1),h.e(0)]).then(h.bind(null,251)).then(function(t){t=t.makeComponentOptions;e(t(i))})}),l.ignore||c.a.component("CommentList",function(e){var i=l.registOptions;Promise.all([h.e(1),h.e(0),h.e(8)]).then(h.bind(null,295)).then(function(t){t=t.makeComponentOptions;e(t(i))})})}(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}),t.component("ContentIntegrationSuite",n)}},o={install:function(t){!function(t){var e=0<arguments.length&&void 0!==t?t:{},n=void 0===(i=e.ArticleHeader)?{}:i,t=e.Sylpage,i=void 0===t?{}:t,t=e.RelatedNews,r=void 0===t?{}:t,a=void 0===(e=e.CommentList)?{}:e;n.ignore||c.a.component("ArticleHeader",function(e){var i=n.registOptions;h.e(7).then(h.bind(null,300)).then(function(t){t=t.makeComponentOptions;e(t(i))})}),i.ignore||c.a.component("SylPage",function(e){h.e(2).then(h.t.bind(null,290,7)),h.e(3).then(h.t.bind(null,291,7)).then(function(t){e(t)})}),r.ignore||c.a.component("RelatedNews",function(e){var i=r.registOptions;Promise.all([h.e(1),h.e(0)]).then(h.bind(null,251)).then(function(t){t=t.makeComponentOptions;e(t(i))})}),a.ignore||c.a.component("CommentList",function(e){var i=a.registOptions;Promise.all([h.e(1),h.e(0),h.e(8)]).then(h.bind(null,295)).then(function(t){t=t.makeComponentOptions;e(t(i))})})}(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}),t.component("SylPageDetail",a)}}},function(t,e,i){},function(t,e,i){"use strict";var n=i(22);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var h=n(i(4)),c=n(i(33)),p=n(i(3)),u=n(i(133));function m(e,t){var i,n=Object.keys(e);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(e),t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)),n}function r(t,e,i){if(void 0===e||0===Object.keys(e).length)return t;var n,r=!1;"boolean"==typeof i||void 0===i?n=Boolean(i):(n=Boolean(i.encodeList),r=i.stable);var a,s=t.split("?"),o=(0,c.default)(s,2),i=o[0],s=o[1],o=void 0===s?"":s;a=o?(s=o.split("#"),o=(s=(0,c.default)(s,2))[0],void 0===(s=s[1])?"":s):(a=t.split("#"),i=(a=(0,c.default)(a,2))[0],void 0===(a=a[1])?"":a);var l=(0,p.default)(void 0,o),l=Object.assign(l,e);return r&&(l=Object.keys(l).sort(function(t,e){return e<t?1:-1}).reduce(function(t,e){return function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?m(Object(i),!0).forEach(function(t){(0,h.default)(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):m(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}({},t,(0,h.default)({},e,l[e]))},{})),o=(o=(0,u.default)(l,n))&&"?".concat(o),a=a&&"#".concat(a),"".concat(i).concat(o).concat(a)}e.default=r.default=r,t.exports=e.default},,,function(t,e,i){"use strict";var n=i(35),i=i.n(n),n={baseURL:location.origin},n=i.a.create(n);n.interceptors.response.use(function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.data,i=t.status;if(200===i)return e;t=t.request;return Promise.reject("status is ".concat(i,", request is ").concat(t.responseURL))},function(t){return Promise.reject(t)}),e.a=n},function(t,e,i){"use strict";i.d(e,"a",function(){return a});var n=i(13),r={RELATED_NEWS_LIST_URL:"/group/article/${groupId}/${groupId}/related/?noad&a_t=${accessToken}",GET_VIDEO_LIST_URL:"//ib.365yg.com/video/urls/v/1/toutiao/mp4/",COMMENT_LIST_URL:"/comments/v2/",REPLY_LIST_URL:"/comment/reply_list/v2/",DIGG_URL:"/data/stream/wap_action/v1/",DIGG_STATUS_URL:"/group/digg/status/v1/"};function a(t,e){t=t?r[t]:"";return t?Object(n.e)(t,e):""}},function(t,e){!function(){"use strict";var u,i,m,d;function l(t){this.time=t.time,this.target=t.target,this.rootBounds=r(t.rootBounds),this.boundingClientRect=r(t.boundingClientRect),this.intersectionRect=r(t.intersectionRect||n()),this.isIntersecting=!!t.intersectionRect;var e=this.boundingClientRect,t=e.width*e.height,e=this.intersectionRect,e=e.width*e.height;this.intersectionRatio=t?Number((e/t).toFixed(4)):this.isIntersecting?1:0}function t(t,e){var i,n,r,e=e||{};if("function"!=typeof t)throw new Error("callback must be a function");if(e.root&&1!=e.root.nodeType)throw new Error("root must be an Element");this._checkForIntersections=(i=this._checkForIntersections.bind(this),n=this.THROTTLE_TIMEOUT,r=null,function(){r=r||setTimeout(function(){i(),r=null},n)}),this._callback=t,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(e.rootMargin),this.thresholds=this._initThresholds(e.threshold),this.root=e.root||null,this.rootMargin=this._rootMarginValues.map(function(t){return t.value+t.unit}).join(" "),this._monitoringDocuments=[],this._monitoringUnsubscribes=[]}function a(t,e,i,n){"function"==typeof t.addEventListener?t.addEventListener(e,i,n||!1):"function"==typeof t.attachEvent&&t.attachEvent("on"+e,i)}function s(t,e,i,n){"function"==typeof t.removeEventListener?t.removeEventListener(e,i,n||!1):"function"==typeof t.detatchEvent&&t.detatchEvent("on"+e,i)}function f(t){var e;try{e=t.getBoundingClientRect()}catch(t){}return e?e.width&&e.height?e:{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.right-e.left,height:e.bottom-e.top}:n()}function n(){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}function r(t){return!t||"x"in t?t:{top:t.top,y:t.top,bottom:t.bottom,left:t.left,x:t.left,right:t.right,width:t.width,height:t.height}}function g(t,e){var i=e.top-t.top,t=e.left-t.left;return{top:i,left:t,height:e.height,width:e.width,bottom:i+e.height,right:t+e.width}}function e(t,e){for(var i=e;i;){if(i==t)return!0;i=y(i)}return!1}function y(t){var e=t.parentNode;return 9==t.nodeType&&t!=u?o(t):e&&11==e.nodeType&&e.host?e.host:e&&e.assignedSlot?e.assignedSlot.parentNode:e}function o(t){try{return t.defaultView&&t.defaultView.frameElement||null}catch(t){return null}}"object"==typeof window&&("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype?"isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return 0<this.intersectionRatio}}):(u=window.document,i=[],d=m=null,t.prototype.THROTTLE_TIMEOUT=100,t.prototype.POLL_INTERVAL=null,t.prototype.USE_MUTATION_OBSERVER=!0,t._setupCrossOriginUpdater=function(){return m=m||function(t,e){d=t&&e?g(t,e):n(),i.forEach(function(t){t._checkForIntersections()})}},t._resetCrossOriginUpdater=function(){d=m=null},t.prototype.observe=function(e){if(!this._observationTargets.some(function(t){return t.element==e})){if(!e||1!=e.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:e,entry:null}),this._monitorIntersections(e.ownerDocument),this._checkForIntersections()}},t.prototype.unobserve=function(e){this._observationTargets=this._observationTargets.filter(function(t){return t.element!=e}),this._unmonitorIntersections(e.ownerDocument),0==this._observationTargets.length&&this._unregisterInstance()},t.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorAllIntersections(),this._unregisterInstance()},t.prototype.takeRecords=function(){var t=this._queuedEntries.slice();return this._queuedEntries=[],t},t.prototype._initThresholds=function(t){t=t||[0];return(t=!Array.isArray(t)?[t]:t).sort().filter(function(t,e,i){if("number"!=typeof t||isNaN(t)||t<0||1<t)throw new Error("threshold must be a number between 0 and 1 inclusively");return t!==i[e-1]})},t.prototype._parseRootMargin=function(t){t=(t||"0px").split(/\s+/).map(function(t){t=/^(-?\d*\.?\d+)(px|%)$/.exec(t);if(!t)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(t[1]),unit:t[2]}});return t[1]=t[1]||t[0],t[2]=t[2]||t[0],t[3]=t[3]||t[1],t},t.prototype._monitorIntersections=function(e){var i,n,r,t=e.defaultView;t&&-1==this._monitoringDocuments.indexOf(e)&&(i=this._checkForIntersections,r=n=null,this.POLL_INTERVAL?n=t.setInterval(i,this.POLL_INTERVAL):(a(t,"resize",i,!0),a(e,"scroll",i,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in t&&(r=new t.MutationObserver(i)).observe(e,{attributes:!0,childList:!0,characterData:!0,subtree:!0})),this._monitoringDocuments.push(e),this._monitoringUnsubscribes.push(function(){var t=e.defaultView;t&&(n&&t.clearInterval(n),s(t,"resize",i,!0)),s(e,"scroll",i,!0),r&&r.disconnect()}),e==(this.root&&this.root.ownerDocument||u)||(t=o(e))&&this._monitorIntersections(t.ownerDocument))},t.prototype._unmonitorIntersections=function(n){var r,t,e=this._monitoringDocuments.indexOf(n);-1!=e&&(r=this.root&&this.root.ownerDocument||u,this._observationTargets.some(function(t){if((e=t.element.ownerDocument)==n)return!0;for(;e&&e!=r;){var e,i=o(e);if((e=i&&i.ownerDocument)==n)return!0}return!1})||(t=this._monitoringUnsubscribes[e],this._monitoringDocuments.splice(e,1),this._monitoringUnsubscribes.splice(e,1),t(),n==r||(t=o(n))&&this._unmonitorIntersections(t.ownerDocument)))},t.prototype._unmonitorAllIntersections=function(){var t=this._monitoringUnsubscribes.slice(0);this._monitoringDocuments.length=0;for(var e=this._monitoringUnsubscribes.length=0;e<t.length;e++)t[e]()},t.prototype._checkForIntersections=function(){var s,o;!this.root&&m&&!d||(s=this._rootIsInDom(),o=s?this._getRootRect():n(),this._observationTargets.forEach(function(t){var e=t.element,i=f(e),n=this._rootContainsTarget(e),r=t.entry,a=s&&n&&this._computeTargetAndRootIntersection(e,i,o),a=t.entry=new l({time:window.performance&&performance.now&&performance.now(),target:e,boundingClientRect:i,rootBounds:m&&!this.root?null:o,intersectionRect:a});r?s&&n?this._hasCrossedThreshold(r,a)&&this._queuedEntries.push(a):r&&r.isIntersecting&&this._queuedEntries.push(a):this._queuedEntries.push(a)},this),this._queuedEntries.length&&this._callback(this.takeRecords(),this))},t.prototype._computeTargetAndRootIntersection=function(t,e,i){if("none"!=window.getComputedStyle(t).display){for(var n=e,r=y(t),a=!1;!a&&r;){var s,o,l,h,c=null,p=1==r.nodeType?window.getComputedStyle(r):{};if("none"==p.display)return null;if(r==this.root||9==r.nodeType?(a=!0,r==this.root||r==u?m&&!this.root?!d||0==d.width&&0==d.height?n=c=r=null:c=d:c=i:(o=(s=y(r))&&f(s),l=s&&this._computeTargetAndRootIntersection(s,o,i),o&&l?(r=s,c=g(o,l)):n=r=null)):r!=(h=r.ownerDocument).body&&r!=h.documentElement&&"visible"!=p.overflow&&(c=f(r)),c&&(s=c,o=n,c=p=h=l=void 0,l=Math.max(s.top,o.top),h=Math.min(s.bottom,o.bottom),p=Math.max(s.left,o.left),c=Math.min(s.right,o.right),o=h-l,n=0<=(s=c-p)&&0<=o?{top:l,bottom:h,left:p,right:c,width:s,height:o}:null),!n)break;r=r&&y(r)}return n}},t.prototype._getRootRect=function(){var t,e;return e=this.root?f(this.root):(t=u.documentElement,e=u.body,{top:0,left:0,right:t.clientWidth||e.clientWidth,width:t.clientWidth||e.clientWidth,bottom:t.clientHeight||e.clientHeight,height:t.clientHeight||e.clientHeight}),this._expandRectByRootMargin(e)},t.prototype._expandRectByRootMargin=function(i){var t=this._rootMarginValues.map(function(t,e){return"px"==t.unit?t.value:t.value*(e%2?i.width:i.height)/100}),t={top:i.top-t[0],right:i.right+t[1],bottom:i.bottom+t[2],left:i.left-t[3]};return t.width=t.right-t.left,t.height=t.bottom-t.top,t},t.prototype._hasCrossedThreshold=function(t,e){var i=t&&t.isIntersecting?t.intersectionRatio||0:-1,n=e.isIntersecting?e.intersectionRatio||0:-1;if(i!==n)for(var r=0;r<this.thresholds.length;r++){var a=this.thresholds[r];if(a==i||a==n||a<i!=a<n)return!0}},t.prototype._rootIsInDom=function(){return!this.root||e(u,this.root)},t.prototype._rootContainsTarget=function(t){return e(this.root||u,t)&&(!this.root||this.root.ownerDocument==t.ownerDocument)},t.prototype._registerInstance=function(){i.indexOf(this)<0&&i.push(this)},t.prototype._unregisterInstance=function(){var t=i.indexOf(this);-1!=t&&i.splice(t,1)},window.IntersectionObserver=t,window.IntersectionObserverEntry=l))}()},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e){function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}t.exports=function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t},t.exports.default=t.exports,t.exports.__esModule=!0},,function(t,e,i){"use strict";e.a=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},n={};return e.forEach(function(t){n[t]=i[t]||""}),{tmpl:i[t]||"",descendantTmpls:n}}},function(t,e,i){"use strict";i.d(e,"a",function(){return n});var e=i(104),r=i.n(e),a=window.GLOBAL_STATE;function n(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.imgUrl,i=t.title,t=t.desc,n={title:a.article_info.title||i,desc:(null===(i=a.article_info)||void 0===i?void 0:i.abstract)||t||(null===(t=document.querySelector(".article_content"))||void 0===t?void 0:t.innerText.slice(0,100)),imgUrl:a.share_thumb_image||e};window.onload=function(){r()(n,{appId:"wx308bc3792ceb4557",menuList:[],signatureAPI:"//open.snssdk.com/jssdk_signature/",SDKUrl:"https://lf1-cdn-tos.bytescm.com/obj/cdn-static-resource/js/weixin_jssdk.js"})}}},function(t,e,i){t.exports=i(75)},function(t,e,i){var n=i(48),r=i(132),a=i(37),s=i(51);t.exports=function(t,e){return n(t)||r(t,e)||a(t,e)||s()},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,i){"use strict";i.d(e,"a",function(){return d});var n=i(4),a=i.n(n),e=i(14),r=i.n(e),n=i(8),s=i.n(n),o=i(24),e=i(3),n=i.n(e),e=i(109),l=i.n(e),h=i(25);function c(e,t){var i,n=Object.keys(e);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(e),t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)),n}var p,u=n()("a_t")||((p="toutiao_open_a_t")?p="undefined"===(p=l()(p))?void 0:p:"")||"",m=n()("utm_source");function d(t){return f.apply(this,arguments)}function f(){return(f=r()(s.a.mark(function t(e){var i,n,r=arguments;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?c(Object(i),!0).forEach(function(t){a()(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):c(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}({offset:0,count:3,disable_wap_rec:1,mix_mode:"mix",format:"json",utm_source:m},1<r.length&&void 0!==r[1]?r[1]:{}),i=Object(h.a)("RELATED_NEWS_LIST_URL",{groupId:e,accessToken:u}),t.next=5,o.a.get(i,{params:n});case 5:if(n=t.sent,"success"===n.message)return n.data=n.data.map(function(t){return t.image_url=(t.middle_image||{}).url,t}),t.abrupt("return",n);t.next=12;break;case 12:return t.abrupt("return",Promise.reject(new Error("getRelatedNews error")));case 13:case"end":return t.stop()}},t)}))).apply(this,arguments)}},function(t,e,i){t.exports=i(185)},function(t,e,i){"use strict";var n={props:{showDialog:{default:!1}},data:function(){return{linkIccon:i(147)}},methods:{handleCrancel:function(){this.$emit("closeDialog")},toCopyLink:function(){var t=document.createElement("input");t.value=location.href,document.body.appendChild(t),t.select(),document.execCommand("Copy"),document.body.removeChild(t),this.$emit("copyDialog")}}},r=(i(148),i(2)),a=Object(r.a)(n,function(){var t=this,e=t.$createElement,e=t._self._c||e;return e("div",{directives:[{name:"show",rawName:"v-show",value:t.showDialog,expression:"showDialog"}],staticClass:"dialog_box"},[e("div",{staticClass:"topBox"},[e("div",{staticClass:"moreBox"},[e("div",{staticClass:"link",on:{click:t.toCopyLink}},[e("img",{attrs:{src:t.linkIccon,alt:""}}),e("p",[t._v("复制链接")])])])]),e("div",{staticClass:"tips bottomCancel",on:{click:t.handleCrancel}},[t._v("取消")])])},[],!1,null,null,null).exports,s={props:{showToast:{default:!1},isCollect:{default:!1}},data:function(){return{collect_succIcon:i(149)}}},n=(i(150),Object(r.a)(s,function(){var t=this,e=t.$createElement,e=t._self._c||e;return e("div",{directives:[{name:"show",rawName:"v-show",value:t.showToast,expression:"showToast"}],ref:"toast_loding",staticClass:"toast_box"},[e("img",{attrs:{src:t.collect_succIcon,alt:""}}),t.isCollect?e("span",[t._v("收藏成功")]):e("span",[t._v("复制成功")])])},[],!1,null,null,null).exports),s=i(3),o=i.n(s),n={name:"ShareDemo",props:{showComment:{type:Boolean,default:!0},options:{type:Object,default:function(){return{enable:!0,isShowShare:!0,isShowCollect:!0,isShowComment:!0,isShowDigg:!0}}}},components:{ShareModal:a,ShareCollectToast:n},data:function(){return{flag1:"1"===o()("user_like"),flag2:"1"===o()("user_digg"),flag3:!1,showDialog:!1,showToast:!1,commentIcon:i(151),src:i(152),clickSrc:i(153),collectIcon:i(154),ClickCollectIcon:i(155),shareIcon:i(156),digg_count:window.GLOBAL_STATE.action.digg_count,collect_count:window.GLOBAL_STATE.action.bury_count,commentCount:window.GLOBAL_STATE.action.comment_count,isCollect:!0}},computed:{toolsShowOptions:function(){return Object.assign({isShowShare:!0,isShowCollect:!0,isShowComment:!0,isShowDigg:!0},this.options)}},methods:{formatCount:function(t){return(t=parseInt(t))<1e4?t:t<1e8?"".concat((t/1e4).toFixed(1),"万"):"".concat(Math.round(t/1e8),"亿")},toCommentList:function(){location.replace("#commentList")},toLike:function(){this.flag1=!this.flag1},toCollection:function(){this.flag2=!this.flag2,this.isCollect=!0,this.flag2&&(this.showToast=this.flag2,this.showCollectionToast())},toShare:function(){this.showDialog=!this.showDialog},closeDialog:function(){this.showDialog=!1},copyDialog:function(){this.closeDialog(),this.isCollect=!1,this.showToast=!0,this.showCollectionToast()},showCollectionToast:function(){var t=this;setTimeout(function(){t.showToast=!1},1500)}},created:function(){}},n=(i(157),Object(r.a)(n,function(){var e=this,t=e.$createElement,t=e._self._c||t;return t("div",{staticClass:"bottom-share"},[t("div",{staticClass:"flexBox"},[e.toolsShowOptions.isShowShare?t("div",{on:{click:function(t){return t.stopPropagation(),e.toShare.apply(null,arguments)}}},[t("img",{attrs:{src:e.shareIcon,alt:"/"}}),t("span",[e._v(" 分享 ")])]):e._e(),e.toolsShowOptions.isShowCollect?t("div",{on:{click:function(t){return t.stopPropagation(),e.toCollection.apply(null,arguments)}}},[t("img",{attrs:{src:e.flag2?e.ClickCollectIcon:e.collectIcon,alt:"/"}}),e.flag2?t("span",[e._v("\n        "+e._s(Number(e.collect_count)?e.formatCount(parseInt(e.collect_count)+1):1)+"\n      ")]):t("span",[e._v("\n        "+e._s(parseInt(e.collect_count)?e.formatCount(parseInt(e.collect_count)):"收藏")+"\n      ")])]):e._e(),e.toolsShowOptions.isShowComment?t("div",{on:{click:function(t){return t.stopPropagation(),e.toCommentList.apply(null,arguments)}}},[t("img",{attrs:{src:e.commentIcon,alt:"/"}}),t("span",[e._v(e._s(0<parseInt(e.commentCount)?e.formatCount(parseInt(e.commentCount)):"评论"))])]):e._e(),e.toolsShowOptions.isShowDigg?t("div",{on:{click:function(t){return t.stopPropagation(),e.toLike.apply(null,arguments)}}},[t("img",{attrs:{src:e.flag1?e.clickSrc:e.src,alt:"/"}}),e.flag1?t("span",[e._v(e._s(Number(e.digg_count)?e.formatCount(parseInt(e.digg_count)+1):1))]):t("span",[e._v(e._s(Number(e.digg_count)?e.formatCount(parseInt(e.digg_count)):"点赞"))])]):e._e()]),t("ShareModal",{attrs:{showDialog:e.showDialog},on:{closeDialog:e.closeDialog,copyDialog:e.copyDialog}}),t("ShareCollectToast",{attrs:{showToast:e.showToast,isCollect:e.isCollect}})],1)},[],!1,null,"464075d6",null));e.a=n.exports},,,,function(t,e,i){i=i(205).Symbol;t.exports=i},function(t,e,i){},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7),_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0__),jI,kI;"undefined"!=typeof navigator&&(jI=window||{},kI=function(window){var svgNS="http://www.w3.org/2000/svg",locationHref="",initialDefaultFrame=-999999,subframeEnabled=!0,expressionsPlugin,isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),cachedColors={},bm_rounder=Math.round,bm_rnd,bm_pow=Math.pow,bm_sqrt=Math.sqrt,bm_abs=Math.abs,bm_floor=Math.floor,bm_max=Math.max,bm_min=Math.min,blitter=10,BMMath={};function ProjectInterface(){return{}}!function(){for(var t=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],e=t.length,i=0;i<e;i+=1)BMMath[t[i]]=Math[t[i]]}(),BMMath.random=Math.random,BMMath.abs=function(t){if("object"===_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(t)&&t.length){for(var e=createSizedArray(t.length),i=t.length,n=0;n<i;n+=1)e[n]=Math.abs(t[n]);return e}return Math.abs(t)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function roundValues(t){bm_rnd=t?Math.round:function(t){return t}}function styleDiv(t){t.style.position="absolute",t.style.top=0,t.style.left=0,t.style.display="block",t.style.transformOrigin=t.style.webkitTransformOrigin="0 0",t.style.backfaceVisibility=t.style.webkitBackfaceVisibility="visible",t.style.transformStyle=t.style.webkitTransformStyle=t.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(t,e,i,n){this.type=t,this.currentTime=e,this.totalTime=i,this.direction=n<0?-1:1}function BMCompleteEvent(t,e){this.type=t,this.direction=e<0?-1:1}function BMCompleteLoopEvent(t,e,i,n){this.type=t,this.currentLoop=i,this.totalLoops=e,this.direction=n<0?-1:1}function BMSegmentStartEvent(t,e,i){this.type=t,this.firstFrame=e,this.totalFrames=i}function BMDestroyEvent(t,e){this.type=t,this.target=e}function BMRenderFrameErrorEvent(t,e){this.type="renderFrameError",this.nativeError=t,this.currentTime=e}function BMConfigErrorEvent(t){this.type="configError",this.nativeError=t}function BMAnimationConfigErrorEvent(t,e){this.type=t,this.nativeError=e,this.currentTime=currentTime}roundValues(!1);var createElementID=(G=0,function(){return"__lottie_element_"+ ++G}),G;function HSVtoRGB(t,e,i){var n,r,a,s,o=i*(1-e),l=i*(1-(t=6*t-(s=Math.floor(6*t)))*e),h=i*(1-(1-t)*e);switch(s%6){case 0:n=i,r=h,a=o;break;case 1:n=l,r=i,a=o;break;case 2:n=o,r=i,a=h;break;case 3:n=o,r=l,a=i;break;case 4:n=h,r=o,a=i;break;case 5:n=i,r=o,a=l}return[n,r,a]}function RGBtoHSV(t,e,i){var n,r=Math.max(t,e,i),a=Math.min(t,e,i),s=r-a,o=0===r?0:s/r,l=r/255;switch(r){case a:n=0;break;case t:n=e-i+s*(e<i?6:0),n/=6*s;break;case e:n=i-t+2*s,n/=6*s;break;case i:n=t-e+4*s,n/=6*s}return[n,o,l]}function addSaturationToRGB(t,e){t=RGBtoHSV(255*t[0],255*t[1],255*t[2]);return t[1]+=e,1<t[1]?t[1]=1:t[1]<=0&&(t[1]=0),HSVtoRGB(t[0],t[1],t[2])}function addBrightnessToRGB(t,e){t=RGBtoHSV(255*t[0],255*t[1],255*t[2]);return t[2]+=e,1<t[2]?t[2]=1:t[2]<0&&(t[2]=0),HSVtoRGB(t[0],t[1],t[2])}function addHueToRGB(t,e){t=RGBtoHSV(255*t[0],255*t[1],255*t[2]);return t[0]+=e/360,1<t[0]?--t[0]:t[0]<0&&(t[0]+=1),HSVtoRGB(t[0],t[1],t[2])}var rgbToHex=function(){for(var t,n=[],e=0;e<256;e+=1)t=e.toString(16),n[e]=1==t.length?"0"+t:t;return function(t,e,i){return"#"+n[t=t<0?0:t]+n[e=e<0?0:e]+n[i=i<0?0:i]}}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(t,e){if(this._cbs[t])for(var i=this._cbs[t].length,n=0;n<i;n++)this._cbs[t][n](e)},addEventListener:function(t,e){return this._cbs[t]||(this._cbs[t]=[]),this._cbs[t].push(e),function(){this.removeEventListener(t,e)}.bind(this)},removeEventListener:function(t,e){if(e){if(this._cbs[t]){for(var i=0,n=this._cbs[t].length;i<n;)this._cbs[t][i]===e&&(this._cbs[t].splice(i,1),--i,--n),i+=1;this._cbs[t].length||(this._cbs[t]=null)}}else this._cbs[t]=null}};var createTypedArray="function"==typeof Uint8ClampedArray&&"function"==typeof Float32Array?function(t,e){return"float32"===t?new Float32Array(e):"int16"===t?new Int16Array(e):"uint8c"===t?new Uint8ClampedArray(e):void 0}:function(t,e){var i,n=0,r=[];switch(t){case"int16":case"uint8c":i=1;break;default:i=1.1}for(n=0;n<e;n+=1)r.push(i);return r};function createSizedArray(t){return Array.apply(null,{length:t})}function createNS(t){return document.createElementNS(svgNS,t)}function createTag(t){return document.createElement(t)}function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(t){-1===this.dynamicProperties.indexOf(t)&&(this.dynamicProperties.push(t),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){this._mdf=!1;for(var t=this.dynamicProperties.length,e=0;e<t;e+=1)this.dynamicProperties[e].getValue(),this.dynamicProperties[e]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(t){this.container=t,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var getBlendMode=(Pa={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"},function(t){return Pa[t]||""}),Pa,Matrix=(_J=Math.cos,aK=Math.sin,bK=Math.tan,cK=Math.round,function(){this.reset=dK,this.rotate=eK,this.rotateX=fK,this.rotateY=gK,this.rotateZ=hK,this.skew=jK,this.skewFromAxis=kK,this.shear=iK,this.scale=lK,this.setTransform=mK,this.translate=nK,this.transform=oK,this.applyToPoint=tK,this.applyToX=uK,this.applyToY=vK,this.applyToZ=wK,this.applyToPointArray=BK,this.applyToTriplePoints=AK,this.applyToPointStringified=CK,this.toCSS=DK,this.to2dCSS=FK,this.clone=rK,this.cloneFromProps=sK,this.equals=qK,this.inversePoints=zK,this.inversePoint=yK,this.getInverseMatrix=xK,this._t=this.transform,this.isIdentity=pK,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}),_J,aK,bK,cK;function dK(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function eK(t){if(0===t)return this;var e=_J(t),t=aK(t);return this._t(e,-t,0,0,t,e,0,0,0,0,1,0,0,0,0,1)}function fK(t){if(0===t)return this;var e=_J(t),t=aK(t);return this._t(1,0,0,0,0,e,-t,0,0,t,e,0,0,0,0,1)}function gK(t){if(0===t)return this;var e=_J(t),t=aK(t);return this._t(e,0,t,0,0,1,0,0,-t,0,e,0,0,0,0,1)}function hK(t){if(0===t)return this;var e=_J(t),t=aK(t);return this._t(e,-t,0,0,t,e,0,0,0,0,1,0,0,0,0,1)}function iK(t,e){return this._t(1,e,t,1,0,0)}function jK(t,e){return this.shear(bK(t),bK(e))}function kK(t,e){var i=_J(e),e=aK(e);return this._t(i,e,0,0,-e,i,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,bK(t),1,0,0,0,0,1,0,0,0,0,1)._t(i,-e,0,0,e,i,0,0,0,0,1,0,0,0,0,1)}function lK(t,e,i){return i||0===i||(i=1),1===t&&1===e&&1===i?this:this._t(t,0,0,0,0,e,0,0,0,0,i,0,0,0,0,1)}function mK(t,e,i,n,r,a,s,o,l,h,c,p,u,m,d,f){return this.props[0]=t,this.props[1]=e,this.props[2]=i,this.props[3]=n,this.props[4]=r,this.props[5]=a,this.props[6]=s,this.props[7]=o,this.props[8]=l,this.props[9]=h,this.props[10]=c,this.props[11]=p,this.props[12]=u,this.props[13]=m,this.props[14]=d,this.props[15]=f,this}function nK(t,e,i){return i=i||0,0!==t||0!==e||0!==i?this._t(1,0,0,0,0,1,0,0,0,0,1,0,t,e,i,1):this}function oK(t,e,i,n,r,a,s,o,l,h,c,p,u,m,d,f){var g=this.props;if(1===t&&0===e&&0===i&&0===n&&0===r&&1===a&&0===s&&0===o&&0===l&&0===h&&1===c&&0===p)return g[12]=g[12]*t+g[15]*u,g[13]=g[13]*a+g[15]*m,g[14]=g[14]*c+g[15]*d,g[15]=g[15]*f,this._identityCalculated=!1,this;var y=g[0],v=g[1],_=g[2],b=g[3],x=g[4],w=g[5],E=g[6],S=g[7],C=g[8],P=g[9],k=g[10],T=g[11],A=g[12],D=g[13],M=g[14],O=g[15];return g[0]=y*t+v*r+_*l+b*u,g[1]=y*e+v*a+_*h+b*m,g[2]=y*i+v*s+_*c+b*d,g[3]=y*n+v*o+_*p+b*f,g[4]=x*t+w*r+E*l+S*u,g[5]=x*e+w*a+E*h+S*m,g[6]=x*i+w*s+E*c+S*d,g[7]=x*n+w*o+E*p+S*f,g[8]=C*t+P*r+k*l+T*u,g[9]=C*e+P*a+k*h+T*m,g[10]=C*i+P*s+k*c+T*d,g[11]=C*n+P*o+k*p+T*f,g[12]=A*t+D*r+M*l+O*u,g[13]=A*e+D*a+M*h+O*m,g[14]=A*i+D*s+M*c+O*d,g[15]=A*n+D*o+M*p+O*f,this._identityCalculated=!1,this}function pK(){return this._identityCalculated||(this._identity=!(1!==this.props[0]||0!==this.props[1]||0!==this.props[2]||0!==this.props[3]||0!==this.props[4]||1!==this.props[5]||0!==this.props[6]||0!==this.props[7]||0!==this.props[8]||0!==this.props[9]||1!==this.props[10]||0!==this.props[11]||0!==this.props[12]||0!==this.props[13]||0!==this.props[14]||1!==this.props[15]),this._identityCalculated=!0),this._identity}function qK(t){for(var e=0;e<16;){if(t.props[e]!==this.props[e])return!1;e+=1}return!0}function rK(t){for(var e=0;e<16;e+=1)t.props[e]=this.props[e];return t}function sK(t){for(var e=0;e<16;e+=1)this.props[e]=t[e]}function tK(t,e,i){return{x:t*this.props[0]+e*this.props[4]+i*this.props[8]+this.props[12],y:t*this.props[1]+e*this.props[5]+i*this.props[9]+this.props[13],z:t*this.props[2]+e*this.props[6]+i*this.props[10]+this.props[14]}}function uK(t,e,i){return t*this.props[0]+e*this.props[4]+i*this.props[8]+this.props[12]}function vK(t,e,i){return t*this.props[1]+e*this.props[5]+i*this.props[9]+this.props[13]}function wK(t,e,i){return t*this.props[2]+e*this.props[6]+i*this.props[10]+this.props[14]}function xK(){var t=this.props[0]*this.props[5]-this.props[1]*this.props[4],e=this.props[5]/t,i=-this.props[1]/t,n=-this.props[4]/t,r=this.props[0]/t,a=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/t,s=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/t,t=new Matrix;return t.props[0]=e,t.props[1]=i,t.props[4]=n,t.props[5]=r,t.props[12]=a,t.props[13]=s,t}function yK(t){return this.getInverseMatrix().applyToPointArray(t[0],t[1],t[2]||0)}function zK(t){for(var e=t.length,i=[],n=0;n<e;n+=1)i[n]=yK(t[n]);return i}function AK(t,e,i){var n,r,a,s,o,l,h=createTypedArray("float32",6);return this.isIdentity()?(h[0]=t[0],h[1]=t[1],h[2]=e[0],h[3]=e[1],h[4]=i[0],h[5]=i[1]):(n=this.props[0],r=this.props[1],a=this.props[4],s=this.props[5],o=this.props[12],l=this.props[13],h[0]=t[0]*n+t[1]*a+o,h[1]=t[0]*r+t[1]*s+l,h[2]=e[0]*n+e[1]*a+o,h[3]=e[0]*r+e[1]*s+l,h[4]=i[0]*n+i[1]*a+o,h[5]=i[0]*r+i[1]*s+l),h}function BK(t,e,i){return this.isIdentity()?[t,e,i]:[t*this.props[0]+e*this.props[4]+i*this.props[8]+this.props[12],t*this.props[1]+e*this.props[5]+i*this.props[9]+this.props[13],t*this.props[2]+e*this.props[6]+i*this.props[10]+this.props[14]]}function CK(t,e){if(this.isIdentity())return t+","+e;var i=this.props;return Math.round(100*(t*i[0]+e*i[4]+i[12]))/100+","+Math.round(100*(t*i[1]+e*i[5]+i[13]))/100}function DK(){for(var t=0,e=this.props,i="matrix3d(";t<16;)i+=cK(1e4*e[t])/1e4,i+=15===t?")":",",t+=1;return i}function EK(t){return t<1e-6&&0<t||-1e-6<t&&t<0?cK(1e4*t)/1e4:t}function FK(){var t=this.props;return"matrix("+EK(t[0])+","+EK(t[1])+","+EK(t[4])+","+EK(t[5])+","+EK(t[12])+","+EK(t[13])+")"}!function(a,s){var o=this,l=256,h=s.pow(l,6),c=s.pow(2,52),p=2*c,u=l-1;function m(t){var e,i=t.length,s=this,n=0,r=s.i=s.j=0,a=s.S=[];for(i||(t=[i++]);n<l;)a[n]=n++;for(n=0;n<l;n++)a[n]=a[r=u&r+t[n%i]+(e=a[n])],a[r]=e;s.g=function(t){for(var e,i=0,n=s.i,r=s.j,a=s.S;t--;)e=a[n=u&n+1],i=i*l+a[u&(a[n]=a[r=u&r+e])+(a[r]=e)];return s.i=n,s.j=r,i}}function d(t,e){return e.i=t.i,e.j=t.j,e.S=t.S.slice(),e}function f(t,e){for(var i,n=t+"",r=0;r<n.length;)e[u&r]=u&(i^=19*e[u&r])+n.charCodeAt(r++);return g(e)}function g(t){return String.fromCharCode.apply(0,t)}s.seedrandom=function(t,e,i){var n=[],t=f(function t(e,i){var n,r=[],a=_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(e);if(i&&"object"==a)for(n in e)try{r.push(t(e[n],i-1))}catch(t){}return r.length?r:"string"==a?e:e+"\0"}((e=!0===e?{entropy:!0}:e||{}).entropy?[t,g(a)]:null===t?function(){try{void 0;var t=new Uint8Array(l);return(o.crypto||o.msCrypto).getRandomValues(t),g(t)}catch(t){var e=o.navigator,e=e&&e.plugins;return[+new Date,o,e,o.screen,g(a)]}}():t,3),n),r=new m(n),n=function(){for(var t=r.g(6),e=h,i=0;t<c;)t=(t+i)*l,e*=l,i=r.g(1);for(;p<=t;)t/=2,e/=2,i>>>=1;return(t+i)/e};return n.int32=function(){return 0|r.g(4)},n.quick=function(){return r.g(4)/4294967296},n.double=n,f(g(r.S),a),(e.pass||i||function(t,e,i,n){return n&&(n.S&&d(n,r),t.state=function(){return d(r,{})}),i?(s.random=t,e):t})(n,t,"global"in e?e.global:this==s,e.state)},f(s.random(),a)}([],BMMath);var BezierFactory=(dO={getBezierEasing:function(t,e,i,n,r){r=r||("bez_"+t+"_"+e+"_"+i+"_"+n).replace(/\./g,"p");if(eO[r])return eO[r];n=new nO([t,e,i,n]);return eO[r]=n}},eO={},fO=11,gO=1/(fO-1),hO="function"==typeof Float32Array,nO.prototype={get:function(t){var e=this._p[0],i=this._p[1],n=this._p[2],r=this._p[3];return this._precomputed||this._precompute(),e===i&&n===r?t:0===t?0:1===t?1:lO(this._getTForX(t),i,r)},_precompute:function(){var t=this._p[0],e=this._p[1],i=this._p[2],n=this._p[3];this._precomputed=!0,t===e&&i===n||this._calcSampleValues()},_calcSampleValues:function(){for(var t=this._p[0],e=this._p[2],i=0;i<fO;++i)this._mSampleValues[i]=lO(i*gO,t,e)},_getTForX:function(t){for(var e=this._p[0],i=this._p[2],n=this._mSampleValues,r=0,a=1,s=fO-1;a!==s&&n[a]<=t;++a)r+=gO;var o=r+(t-n[--a])/(n[a+1]-n[a])*gO,l=mO(o,e,i);return.001<=l?function(t,e,i,n){for(var r=0;r<4;++r){var a=mO(e,i,n);if(0===a)return e;e-=(lO(e,i,n)-t)/a}return e}(t,o,e,i):0===l?o:function(t,e,i,n,r){for(var a,s,o=0;0<(a=lO(s=e+(i-e)/2,n,r)-t)?i=s:e=s,1e-7<Math.abs(a)&&++o<10;);return s}(t,r,r+gO,e,i)}},dO),dO,eO,fO,gO,hO;function iO(t,e){return 1-3*e+3*t}function lO(t,e,i){return((iO(e,i)*t+(3*i-6*e))*t+3*e)*t}function mO(t,e,i){return 3*iO(e,i)*t*t+2*(3*i-6*e)*t+3*e}function nO(t){this._p=t,this._mSampleValues=new(hO?Float32Array:Array)(fO),this._precomputed=!1,this.get=this.get.bind(this)}function extendPrototype(t,e){for(var i,n=t.length,r=0;r<n;r+=1)for(var a in i=t[r].prototype)i.hasOwnProperty(a)&&(e.prototype[a]=i[a])}function getDescriptor(t,e){return Object.getOwnPropertyDescriptor(t,e)}function createProxyFunction(t){function e(){}return e.prototype=t,e}function bezFunction(){function g(t,e,i,n,r,a){e=t*n+e*r+i*a-r*n-a*t-i*e;return-.001<e&&e<.001}Math;function c(t,e,i,n){for(var r,a,s,o,l=defaultCurveSegments,h=0,c=[],p=[],u=bezier_length_pool.newElement(),m=i.length,d=0;d<l;d+=1){for(s=d/(l-1),r=o=0;r<m;r+=1)a=bm_pow(1-s,3)*t[r]+3*bm_pow(1-s,2)*s*i[r]+3*(1-s)*bm_pow(s,2)*n[r]+bm_pow(s,3)*e[r],c[r]=a,null!==p[r]&&(o+=bm_pow(c[r]-p[r],2)),p[r]=c[r];o&&(h+=o=bm_sqrt(o)),u.percents[d]=s,u.lengths[d]=h}return u.addedLength=h,u}function y(t){this.segmentLength=0,this.points=new Array(t)}function v(t,e){this.partialLength=t,this.point=e}var _,t=(_={},function(t,e,i,n){var r=(t[0]+"_"+t[1]+"_"+e[0]+"_"+e[1]+"_"+i[0]+"_"+i[1]+"_"+n[0]+"_"+n[1]).replace(/\./g,"p");if(!_[r]){for(var a,s,o,l,h,c=defaultCurveSegments,p=0,u=null,m=new y(c=2===t.length&&(t[0]!=e[0]||t[1]!=e[1])&&g(t[0],t[1],e[0],e[1],t[0]+i[0],t[1]+i[1])&&g(t[0],t[1],e[0],e[1],e[0]+n[0],e[1]+n[1])?2:c),d=i.length,f=0;f<c;f+=1){for(h=createSizedArray(d),o=f/(c-1),a=l=0;a<d;a+=1)s=bm_pow(1-o,3)*t[a]+3*bm_pow(1-o,2)*o*(t[a]+i[a])+3*(1-o)*bm_pow(o,2)*(e[a]+n[a])+bm_pow(o,3)*e[a],h[a]=s,null!==u&&(l+=bm_pow(h[a]-u[a],2));p+=l=bm_sqrt(l),m.points[f]=new v(l,h),u=h}m.segmentLength=p,_[r]=m}return _[r]});function P(t,e){var i=e.percents,n=e.lengths,r=i.length,a=bm_floor((r-1)*t),s=t*e.addedLength,o=0;if(a===r-1||0===a||s===n[a])return i[a];for(var l=n[a]>s?-1:1,h=!0;h;)if(n[a]<=s&&n[a+1]>s?(o=(s-n[a])/(n[a+1]-n[a]),h=!1):a+=l,a<0||r-1<=a){if(a===r-1)return i[a];h=!1}return i[a]+(i[a+1]-i[a])*o}var k=createTypedArray("float32",8);return{getSegmentsLength:function(t){for(var e=segments_length_pool.newElement(),i=t.c,n=t.v,r=t.o,a=t.i,s=t._length,o=e.lengths,l=0,h=0;h<s-1;h+=1)o[h]=c(n[h],n[h+1],r[h],a[h+1]),l+=o[h].addedLength;return i&&s&&(o[h]=c(n[h],n[0],r[h],a[0]),l+=o[h].addedLength),e.totalLength=l,e},getNewSegment:function(t,e,i,n,r,a,s){for(var o=P(r=r<0?0:1<r?1:r,s),r=P(a=1<a?1:a,s),l=t.length,a=1-o,s=1-r,h=a*a*a,c=o*a*a*3,p=o*o*a*3,u=o*o*o,m=a*a*s,d=o*a*s+a*o*s+a*a*r,f=o*o*s+a*o*r+o*a*r,g=o*o*r,y=a*s*s,v=o*s*s+a*r*s+a*s*r,_=o*r*s+a*r*r+o*s*r,b=o*r*r,x=s*s*s,w=r*s*s+s*r*s+s*s*r,E=r*r*s+s*r*r+r*s*r,S=r*r*r,C=0;C<l;C+=1)k[4*C]=Math.round(1e3*(h*t[C]+c*i[C]+p*n[C]+u*e[C]))/1e3,k[4*C+1]=Math.round(1e3*(m*t[C]+d*i[C]+f*n[C]+g*e[C]))/1e3,k[4*C+2]=Math.round(1e3*(y*t[C]+v*i[C]+_*n[C]+b*e[C]))/1e3,k[4*C+3]=Math.round(1e3*(x*t[C]+w*i[C]+E*n[C]+S*e[C]))/1e3;return k},getPointInSegment:function(t,e,i,n,r,a){r=P(r,a),a=1-r;return[Math.round(1e3*(a*a*a*t[0]+(r*a*a+a*r*a+a*a*r)*i[0]+(r*r*a+a*r*r+r*a*r)*n[0]+r*r*r*e[0]))/1e3,Math.round(1e3*(a*a*a*t[1]+(r*a*a+a*r*a+a*a*r)*i[1]+(r*r*a+a*r*r+r*a*r)*n[1]+r*r*r*e[1]))/1e3]},buildBezierData:t,pointOnLine2D:g,pointOnLine3D:function(t,e,i,n,r,a,s,o,l){if(0===i&&0===a&&0===l)return g(t,e,n,r,s,o);var h=Math.sqrt(Math.pow(n-t,2)+Math.pow(r-e,2)+Math.pow(a-i,2)),i=Math.sqrt(Math.pow(s-t,2)+Math.pow(o-e,2)+Math.pow(l-i,2)),a=Math.sqrt(Math.pow(s-n,2)+Math.pow(o-r,2)+Math.pow(l-a,2));return-1e-4<(a=i<h?a<h?h-i-a:a-i-h:i<a?a-i-h:i-h-a)&&a<1e-4}}}!function(){for(var a=0,t=["ms","moz","webkit","o"],e=0;e<t.length&&!window.requestAnimationFrame;++e)window.requestAnimationFrame=window[t[e]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[e]+"CancelAnimationFrame"]||window[t[e]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t,e){var i=(new Date).getTime(),n=Math.max(0,16-(i-a)),r=setTimeout(function(){t(i+n)},n);return a=i+n,r}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}();var bez=bezFunction();function dataFunctionManager(){function p(t,e,i){for(var n,r,a,s=t.length,o=0;o<s;o+=1)if("ks"in(a=t[o])&&!a.completed){if(a.completed=!0,a.tt&&(t[o-1].td=a.tt),a.hasMask)for(var l=a.masksProperties,h=l.length,c=0;c<h;c+=1)if(l[c].pt.k.i)u(l[c].pt.k);else for(r=l[c].pt.k.length,n=0;n<r;n+=1)l[c].pt.k[n].s&&u(l[c].pt.k[n].s[0]),l[c].pt.k[n].e&&u(l[c].pt.k[n].e[0]);0===a.ty?(a.layers=function(t,e){for(var i=0,n=e.length;i<n;){if(e[i].id===t)return e[i].layers.__used?JSON.parse(JSON.stringify(e[i].layers)):(e[i].layers.__used=!0,e[i].layers);i+=1}}(a.refId,e),p(a.layers,e,i)):4===a.ty?function t(e){var i,n,r;for(i=e.length-1;0<=i;--i)if("sh"==e[i].ty)if(e[i].ks.k.i)u(e[i].ks.k);else for(r=e[i].ks.k.length,n=0;n<r;n+=1)e[i].ks.k[n].s&&u(e[i].ks.k[n].s[0]),e[i].ks.k[n].e&&u(e[i].ks.k[n].e[0]);else"gr"==e[i].ty&&t(e[i].it)}(a.shapes):5==a.ty&&(0!==(a=a).t.a.length||"m"in a.t.p||(a.singleShape=!0))}}function u(t){for(var e=t.i.length,i=0;i<e;i+=1)t.i[i][0]+=t.v[i][0],t.i[i][1]+=t.v[i][1],t.o[i][0]+=t.v[i][0],t.o[i][1]+=t.v[i][1]}function o(t,e){e=e?e.split("."):[100,100,100];return t[0]>e[0]||!(e[0]>t[0])&&(t[1]>e[1]||!(e[1]>t[1])&&(t[2]>e[2]||(e[2],t[2],0)))}var l,n,r,a,i=(a=[4,4,14],function(t){if(o(a,t.v)&&(f(t.layers),t.assets))for(var e=t.assets.length,i=0;i<e;i+=1)t.assets[i].layers&&f(t.assets[i].layers)}),s=(l=[4,7,99],function(t){if(t.chars&&!o(l,t.v))for(var e,i,n,r,a=t.chars.length,s=0;s<a;s+=1)if(t.chars[s].data&&t.chars[s].data.shapes)for(i=(r=t.chars[s].data.shapes[0].it).length,e=0;e<i;e+=1)(n=r[e].ks.k).__converted||(u(r[e].ks.k),n.__converted=!0)}),h=(r=[4,1,9],function(t){if(o(r,t.v)&&(d(t.layers),t.assets))for(var e=t.assets.length,i=0;i<e;i+=1)t.assets[i].layers&&d(t.assets[i].layers)}),c=(n=[4,4,18],function(t){if(o(n,t.v)&&(m(t.layers),t.assets))for(var e=t.assets.length,i=0;i<e;i+=1)t.assets[i].layers&&m(t.assets[i].layers)});function m(t){for(var e,i,n,r=t.length,a=0;a<r;a+=1){if((e=t[a]).hasMask)for(var s=e.masksProperties,o=s.length,l=0;l<o;l+=1)if(s[l].pt.k.i)s[l].pt.k.c=s[l].cl;else for(n=s[l].pt.k.length,i=0;i<n;i+=1)s[l].pt.k[i].s&&(s[l].pt.k[i].s[0].c=s[l].cl),s[l].pt.k[i].e&&(s[l].pt.k[i].e[0].c=s[l].cl);4===e.ty&&function t(e){for(var i,n,r=e.length-1;0<=r;--r)if("sh"==e[r].ty)if(e[r].ks.k.i)e[r].ks.k.c=e[r].closed;else for(n=e[r].ks.k.length,i=0;i<n;i+=1)e[r].ks.k[i].s&&(e[r].ks.k[i].s[0].c=e[r].closed),e[r].ks.k[i].e&&(e[r].ks.k[i].e[0].c=e[r].closed);else"gr"==e[r].ty&&t(e[r].it)}(e.shapes)}}function d(t){for(var e=t.length,i=0;i<e;i+=1)4===t[i].ty&&function t(e){for(var i,n,r=e.length,a=0;a<r;a+=1)if("gr"===e[a].ty)t(e[a].it);else if("fl"===e[a].ty||"st"===e[a].ty)if(e[a].c.k&&e[a].c.k[0].i)for(n=e[a].c.k.length,i=0;i<n;i+=1)e[a].c.k[i].s&&(e[a].c.k[i].s[0]/=255,e[a].c.k[i].s[1]/=255,e[a].c.k[i].s[2]/=255,e[a].c.k[i].s[3]/=255),e[a].c.k[i].e&&(e[a].c.k[i].e[0]/=255,e[a].c.k[i].e[1]/=255,e[a].c.k[i].e[2]/=255,e[a].c.k[i].e[3]/=255);else e[a].c.k[0]/=255,e[a].c.k[1]/=255,e[a].c.k[2]/=255,e[a].c.k[3]/=255}(t[i].shapes)}function f(t){for(var e,i,n=t.length,r=0;r<n;r+=1)5===t[r].ty&&(i=(e=t[r]).t.d,e.t.d={k:[{s:i,t:0}]})}var t={completeData:function(t,e){t.__complete||(h(t),i(t),s(t),c(t),p(t.layers,t.assets,e),t.__complete=!0)}};return t.checkColors=h,t.checkChars=s,t.checkShapes=c,t.completeLayers=p,t}var dataManager=dataFunctionManager(),FontManager=(LT={w:0,size:0,shapes:[]},MT=(MT=[]).concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]),OT.getCombinedCharacterCodes=function(){return MT},OT.prototype={addChars:function(t){if(t){this.chars||(this.chars=[]);for(var e,i,n=t.length,r=this.chars.length,a=0;a<n;a+=1){for(e=0,i=!1;e<r;)this.chars[e].style===t[a].style&&this.chars[e].fFamily===t[a].fFamily&&this.chars[e].ch===t[a].ch&&(i=!0),e+=1;i||(this.chars.push(t[a]),r+=1)}}},addFonts:function(t,e){if(t){if(this.chars)return this.isLoaded=!0,void(this.fonts=t.list);for(var i=t.list,n=i.length,r=n,a=0;a<n;a+=1){var s,o,l,h,c,p=!0;if(i[a].loaded=!1,i[a].monoCase=NT(i[a].fFamily,"monospace"),i[a].sansCase=NT(i[a].fFamily,"sans-serif"),i[a].fPath){if("p"===i[a].fOrigin||3===i[a].origin)(p=!(0<(s=document.querySelectorAll('style[f-forigin="p"][f-family="'+i[a].fFamily+'"], style[f-origin="3"][f-family="'+i[a].fFamily+'"]')).length)&&p)&&((l=createTag("style")).setAttribute("f-forigin",i[a].fOrigin),l.setAttribute("f-origin",i[a].origin),l.setAttribute("f-family",i[a].fFamily),l.type="text/css",l.innerText="@font-face {font-family: "+i[a].fFamily+"; font-style: normal; src: url('"+i[a].fPath+"');}",e.appendChild(l));else if("g"===i[a].fOrigin||1===i[a].origin){for(s=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),o=0;o<s.length;o++)-1!==s[o].href.indexOf(i[a].fPath)&&(p=!1);p&&((h=createTag("link")).setAttribute("f-forigin",i[a].fOrigin),h.setAttribute("f-origin",i[a].origin),h.type="text/css",h.rel="stylesheet",h.href=i[a].fPath,document.body.appendChild(h))}else if("t"===i[a].fOrigin||2===i[a].origin){for(s=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),o=0;o<s.length;o++)i[a].fPath===s[o].src&&(p=!1);p&&((c=createTag("link")).setAttribute("f-forigin",i[a].fOrigin),c.setAttribute("f-origin",i[a].origin),c.setAttribute("rel","stylesheet"),c.setAttribute("href",i[a].fPath),e.appendChild(c))}}else i[a].loaded=!0,--r;i[a].helper=(l=e,h=i[a],c=void 0,(c=createNS("text")).style.fontSize="100px",c.setAttribute("font-family",h.fFamily),c.setAttribute("font-style",h.fStyle),c.setAttribute("font-weight",h.fWeight),c.textContent="1",h.fClass?(c.style.fontFamily="inherit",c.setAttribute("class",h.fClass)):c.style.fontFamily=h.fFamily,l.appendChild(c),createTag("canvas").getContext("2d").font=h.fWeight+" "+h.fStyle+" 100px "+h.fFamily,c),i[a].cache={},this.fonts.push(i[a])}0===r?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}else this.isLoaded=!0},getCharData:function(t,e,i){for(var n=0,r=this.chars.length;n<r;){if(this.chars[n].ch===t&&this.chars[n].style===e&&this.chars[n].fFamily===i)return this.chars[n];n+=1}return("string"==typeof t&&13!==t.charCodeAt(0)||!t)&&console&&console.warn&&!this._warned&&(this._warned=!0,console.warn("Missing character from exported characters list: ",t,e,i)),LT},getFontByName:function(t){for(var e=0,i=this.fonts.length;e<i;){if(this.fonts[e].fName===t)return this.fonts[e];e+=1}return this.fonts[0]},measureText:function(t,e,i){var n,r,a=this.getFontByName(e),s=t.charCodeAt(0);return a.cache[s+1]||(n=a.helper," "===t?(n.textContent="|"+t+"|",r=n.getComputedTextLength(),n.textContent="||",e=n.getComputedTextLength(),a.cache[s+1]=(r-e)/100):(n.textContent=t,a.cache[s+1]=n.getComputedTextLength()/100)),a.cache[s+1]*i},checkLoadedFonts:function(){for(var t,e,i=this.fonts.length,n=i,r=0;r<i;r+=1)this.fonts[r].loaded?--n:"n"===this.fonts[r].fOrigin||0===this.fonts[r].origin?this.fonts[r].loaded=!0:(t=this.fonts[r].monoCase.node,e=this.fonts[r].monoCase.w,t.offsetWidth!==e?(--n,this.fonts[r].loaded=!0):(t=this.fonts[r].sansCase.node,e=this.fonts[r].sansCase.w,t.offsetWidth!==e&&(--n,this.fonts[r].loaded=!0)),this.fonts[r].loaded&&(this.fonts[r].sansCase.parent.parentNode.removeChild(this.fonts[r].sansCase.parent),this.fonts[r].monoCase.parent.parentNode.removeChild(this.fonts[r].monoCase.parent)));0!==n&&Date.now()-this.initTime<5e3?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)},setIsLoaded:function(){this.isLoaded=!0}},OT),PropertyFactory=(VU=initialDefaultFrame,WU=Math.abs,{getProp:function(t,e,i,n,r){var a;if(e.k.length)if("number"==typeof e.k[0])a=new cV(t,e,n,r);else switch(i){case 0:a=new dV(t,e,n,r);break;case 1:a=new eV(t,e,n,r)}else a=new bV(t,e,n,r);return a.effectsSequence.length&&r.addDynamicProperty(a),a}}),TransformPropertyFactory=(iX=[0,0],jX.prototype={applyToMatrix:function(t){var e=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||e,this.a&&t.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&t.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&t.skewFromAxis(-this.sk.v,this.sa.v),this.r?t.rotate(-this.r.v):t.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?t.translate(this.px.v,this.py.v,-this.pz.v):t.translate(this.px.v,this.py.v,0):t.translate(this.p.v[0],this.p.v[1],-this.p.v[2])},getValue:function(t){var e,i,n,r;this.elem.globalData.frameId!==this.frameId&&(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),(this._mdf||t)&&(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented&&(e=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime?n=this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(i=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/e,0),this.p.getValueAtTime(this.p.keyframes[0].t/e,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(i=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/e,0),this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/e,0)):(i=this.p.pv,this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/e,this.p.offsetTime)):this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime?(i=[],n=[],r=this.px,t=this.py,r._caching.lastFrame+r.offsetTime<=r.keyframes[0].t?(i[0]=r.getValueAtTime((r.keyframes[0].t+.01)/e,0),i[1]=t.getValueAtTime((t.keyframes[0].t+.01)/e,0),n[0]=r.getValueAtTime(r.keyframes[0].t/e,0),n[1]=t.getValueAtTime(t.keyframes[0].t/e,0)):r._caching.lastFrame+r.offsetTime>=r.keyframes[r.keyframes.length-1].t?(i[0]=r.getValueAtTime(r.keyframes[r.keyframes.length-1].t/e,0),i[1]=t.getValueAtTime(t.keyframes[t.keyframes.length-1].t/e,0),n[0]=r.getValueAtTime((r.keyframes[r.keyframes.length-1].t-.01)/e,0),n[1]=t.getValueAtTime((t.keyframes[t.keyframes.length-1].t-.01)/e,0)):(i=[r.pv,t.pv],n[0]=r.getValueAtTime((r._caching.lastFrame+r.offsetTime-.01)/e,r.offsetTime),n[1]=t.getValueAtTime((t._caching.lastFrame+t.offsetTime-.01)/e,t.offsetTime))):i=n=iX,this.v.rotate(-Math.atan2(i[1]-n[1],i[0]-n[0]))),this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])),this.frameId=this.elem.globalData.frameId)},precalculateMatrix:function(){if(!this.a.k&&(this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1,!this.s.effectsSequence.length)){if(this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2,this.sk){if(this.sk.effectsSequence.length||this.sa.effectsSequence.length)return;this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3}this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):this.rz.effectsSequence.length||this.ry.effectsSequence.length||this.rx.effectsSequence.length||this.or.effectsSequence.length||(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}},autoOrient:function(){}},extendPrototype([DynamicPropertyContainer],jX),jX.prototype.addDynamicProperty=function(t){this._addDynamicProperty(t),this.elem.addDynamicProperty(t),this._isDirty=!0},jX.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty,{getTransformProperty:function(t,e,i){return new jX(t,e,i)}}),iX,VU,WU,LT,MT;function jX(t,e,i){if(this.elem=t,this.frameId=-1,this.propType="transform",this.data=e,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(i||t),e.p&&e.p.s?(this.px=PropertyFactory.getProp(t,e.p.x,0,0,this),this.py=PropertyFactory.getProp(t,e.p.y,0,0,this),e.p.z&&(this.pz=PropertyFactory.getProp(t,e.p.z,0,0,this))):this.p=PropertyFactory.getProp(t,e.p||{k:[0,0,0]},1,0,this),e.rx){if(this.rx=PropertyFactory.getProp(t,e.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(t,e.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(t,e.rz,0,degToRads,this),e.or.k[0].ti)for(var n=e.or.k.length,r=0;r<n;r+=1)e.or.k[r].to=e.or.k[r].ti=null;this.or=PropertyFactory.getProp(t,e.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(t,e.r||{k:0},0,degToRads,this);e.sk&&(this.sk=PropertyFactory.getProp(t,e.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(t,e.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(t,e.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(t,e.s||{k:[100,100,100]},1,.01,this),e.o?this.o=PropertyFactory.getProp(t,e.o,0,.01,t):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}function XU(t,e){var i,n=this.offsetTime;"multidimensional"===this.propType&&(i=createTypedArray("float32",this.pv.length));for(var r,a,s,o=e.lastIndex,l=o,h=this.keyframes.length-1,c=!0;c;){if(r=this.keyframes[l],a=this.keyframes[l+1],l===h-1&&t>=a.t-n){r.h&&(r=a),o=0;break}if(a.t-n>t){o=l;break}l<h-1?l+=1:(o=0,c=!1)}var p,u,m,d,f,g,y,v,_,b,x,w=a.t-n,E=r.t-n;if(r.to){r.bezierData||(r.bezierData=bez.buildBezierData(r.s,a.s||r.e,r.to,r.ti));var S=r.bezierData;if(w<=t||t<E)for(var C=w<=t?S.points.length-1:0,P=S.points[C].point.length,k=0;k<P;k+=1)i[k]=S.points[C].point[k];else{r.__fnct?s=r.__fnct:(s=BezierFactory.getBezierEasing(r.o.x,r.o.y,r.i.x,r.i.y,r.n).get,r.__fnct=s);for(var T,A=s((t-E)/(w-E)),D=S.segmentLength*A,M=e.lastFrame<t&&e._lastKeyframeIndex===l?e._lastAddedLength:0,O=e.lastFrame<t&&e._lastKeyframeIndex===l?e._lastPoint:0,c=!0,I=S.points.length;c;){if(M+=S.points[O].partialLength,0==D||0===A||O===S.points.length-1){for(P=S.points[O].point.length,k=0;k<P;k+=1)i[k]=S.points[O].point[k];break}if(M<=D&&D<M+S.points[O+1].partialLength){for(T=(D-M)/S.points[O+1].partialLength,P=S.points[O].point.length,k=0;k<P;k+=1)i[k]=S.points[O].point[k]+(S.points[O+1].point[k]-S.points[O].point[k])*T;break}O<I-1?O+=1:c=!1}e._lastPoint=O,e._lastAddedLength=M-S.points[O].partialLength,e._lastKeyframeIndex=l}}else{var j,L,F,R,B,N,V,z,h=r.s.length,H=a.s||r.e;if(this.sh&&1!==r.h)w<=t?(i[0]=H[0],i[1]=H[1],i[2]=H[2]):t<=E?(i[0]=r.s[0],i[1]=r.s[1],i[2]=r.s[2]):(N=YU(r.s),V=YU(H),z=i,p=(t-E)/(w-E),m=[],d=N[0],f=N[1],g=N[2],y=N[3],v=V[0],_=V[1],b=V[2],x=V[3],(N=d*v+f*_+g*b+y*x)<0&&(N=-N,v=-v,_=-_,b=-b,x=-x),p=1e-6<1-N?(V=Math.acos(N),N=Math.sin(V),u=Math.sin((1-p)*V)/N,Math.sin(p*V)/N):(u=1-p,p),m[0]=u*d+p*v,m[1]=u*f+p*_,m[2]=u*g+p*b,m[3]=u*y+p*x,b=m[0],u=m[1],y=m[2],p=m[3],x=Math.atan2(2*u*p-2*b*y,1-2*u*u-2*y*y),m=Math.asin(2*b*u+2*y*p),y=Math.atan2(2*b*p-2*u*y,1-2*b*b-2*y*y),z[0]=x/degToRads,z[1]=m/degToRads,z[2]=y/degToRads);else for(l=0;l<h;l+=1)1!==r.h&&(A=w<=t?1:t<E?0:(r.o.x.constructor===Array?(r.__fnct||(r.__fnct=[]),r.__fnct[l]?s=r.__fnct[l]:(j=void 0===r.o.x[l]?r.o.x[0]:r.o.x[l],L=void 0===r.o.y[l]?r.o.y[0]:r.o.y[l],F=void 0===r.i.x[l]?r.i.x[0]:r.i.x[l],R=void 0===r.i.y[l]?r.i.y[0]:r.i.y[l],s=BezierFactory.getBezierEasing(j,L,F,R).get,r.__fnct[l]=s)):r.__fnct?s=r.__fnct:(j=r.o.x,L=r.o.y,F=r.i.x,R=r.i.y,s=BezierFactory.getBezierEasing(j,L,F,R).get,r.__fnct=s),s((t-E)/(w-E)))),H=a.s||r.e,B=1===r.h?r.s[l]:r.s[l]+(H[l]-r.s[l])*A,"multidimensional"===this.propType?i[l]=B:i=B}return e.lastIndex=o,i}function YU(t){var e=t[0]*degToRads,i=t[1]*degToRads,n=t[2]*degToRads,r=Math.cos(e/2),a=Math.cos(i/2),t=Math.cos(n/2),e=Math.sin(e/2),i=Math.sin(i/2),n=Math.sin(n/2);return[e*i*t+r*a*n,e*a*t+r*i*n,r*i*t-e*a*n,r*a*t-e*i*n]}function ZU(){var t=this.comp.renderedFrame-this.offsetTime,e=this.keyframes[0].t-this.offsetTime,i=this.keyframes[this.keyframes.length-1].t-this.offsetTime;return t===this._caching.lastFrame||this._caching.lastFrame!==VU&&(this._caching.lastFrame>=i&&i<=t||this._caching.lastFrame<e&&t<e)||(this._caching.lastFrame>=t&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0),e=this.interpolateValue(t,this._caching),this.pv=e),this._caching.lastFrame=t,this.pv}function $U(t){var e;if("unidimensional"===this.propType)e=t*this.mult,1e-5<WU(this.v-e)&&(this.v=e,this._mdf=!0);else for(var i=0,n=this.v.length;i<n;)e=t[i]*this.mult,1e-5<WU(this.v[i]-e)&&(this.v[i]=e,this._mdf=!0),i+=1}function _U(){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{this.lock=!0,this._mdf=this._isFirstFrame;for(var t=this.effectsSequence.length,e=this.kf?this.pv:this.data.k,i=0;i<t;i+=1)e=this.effectsSequence[i](e);this.setVValue(e),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function aV(t){this.effectsSequence.push(t),this.container.addDynamicProperty(this)}function bV(t,e,i,n){this.propType="unidimensional",this.mult=i||1,this.data=e,this.v=i?e.k*i:e.k,this.pv=e.k,this._mdf=!1,this.elem=t,this.container=n,this.comp=t.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=_U,this.setVValue=$U,this.addEffect=aV}function cV(t,e,i,n){this.propType="multidimensional",this.mult=i||1,this.data=e,this._mdf=!1,this.elem=t,this.container=n,this.comp=t.comp,this.k=!1,this.kf=!1,this.frameId=-1;var r,a=e.k.length;for(this.v=createTypedArray("float32",a),this.pv=createTypedArray("float32",a),createTypedArray("float32",a),this.vel=createTypedArray("float32",a),r=0;r<a;r+=1)this.v[r]=e.k[r]*this.mult,this.pv[r]=e.k[r];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=_U,this.setVValue=$U,this.addEffect=aV}function dV(t,e,i,n){this.propType="unidimensional",this.keyframes=e.k,this.offsetTime=t.data.st,this.frameId=-1,this._caching={lastFrame:VU,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=e,this.mult=i||1,this.elem=t,this.container=n,this.comp=t.comp,this.v=VU,this.pv=VU,this._isFirstFrame=!0,this.getValue=_U,this.setVValue=$U,this.interpolateValue=XU,this.effectsSequence=[ZU.bind(this)],this.addEffect=aV}function eV(t,e,i,n){this.propType="multidimensional";for(var r,a,s,o,l=e.k.length,h=0;h<l-1;h+=1)e.k[h].to&&e.k[h].s&&e.k[h+1]&&e.k[h+1].s&&(r=e.k[h].s,a=e.k[h+1].s,s=e.k[h].to,o=e.k[h].ti,(2===r.length&&(r[0]!==a[0]||r[1]!==a[1])&&bez.pointOnLine2D(r[0],r[1],a[0],a[1],r[0]+s[0],r[1]+s[1])&&bez.pointOnLine2D(r[0],r[1],a[0],a[1],a[0]+o[0],a[1]+o[1])||3===r.length&&(r[0]!==a[0]||r[1]!==a[1]||r[2]!==a[2])&&bez.pointOnLine3D(r[0],r[1],r[2],a[0],a[1],a[2],r[0]+s[0],r[1]+s[1],r[2]+s[2])&&bez.pointOnLine3D(r[0],r[1],r[2],a[0],a[1],a[2],a[0]+o[0],a[1]+o[1],a[2]+o[2]))&&(e.k[h].to=null,e.k[h].ti=null),r[0]===a[0]&&r[1]===a[1]&&0===s[0]&&0===s[1]&&0===o[0]&&0===o[1]&&(2===r.length||r[2]===a[2]&&0===s[2]&&0===o[2])&&(e.k[h].to=null,e.k[h].ti=null));this.effectsSequence=[ZU.bind(this)],this.data=e,this.keyframes=e.k,this.offsetTime=t.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=i||1,this.elem=t,this.container=n,this.comp=t.comp,this.getValue=_U,this.setVValue=$U,this.interpolateValue=XU,this.frameId=-1;var c=e.k[0].s.length;for(this.v=createTypedArray("float32",c),this.pv=createTypedArray("float32",c),h=0;h<c;h+=1)this.v[h]=VU,this.pv[h]=VU;this._caching={lastFrame:VU,lastIndex:0,value:createTypedArray("float32",c)},this.addEffect=aV}function NT(r,t){var e=createTag("span");e.style.fontFamily=t;var i=createTag("span");i.innerText="giItT1WQy@!-/#",e.style.position="absolute",e.style.left="-10000px",e.style.top="-10000px",e.style.fontSize="300px",e.style.fontVariant="normal",e.style.fontStyle="normal",e.style.fontWeight="normal",e.style.letterSpacing="0",e.appendChild(i),document.body.appendChild(e);var n=i.offsetWidth;return i.style.fontFamily=function(){for(var t=r.split(","),e=t.length,i=[],n=0;n<e;n+=1)"sans-serif"!==t[n]&&"monospace"!==t[n]&&i.push(t[n]);return i.join(",")}()+", "+t,{node:i,w:n,parent:e}}function OT(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)}function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(t,e){this.c=t,this.setLength(e);for(var i=0;i<e;)this.v[i]=point_pool.newElement(),this.o[i]=point_pool.newElement(),this.i[i]=point_pool.newElement(),i+=1},ShapePath.prototype.setLength=function(t){for(;this._maxLength<t;)this.doubleArrayLength();this._length=t},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(t,e,i,n,r){var a;switch(this._length=Math.max(this._length,n+1),this._length>=this._maxLength&&this.doubleArrayLength(),i){case"v":a=this.v;break;case"i":a=this.i;break;case"o":a=this.o}a[n]&&(!a[n]||r)||(a[n]=point_pool.newElement()),a[n][0]=t,a[n][1]=e},ShapePath.prototype.setTripleAt=function(t,e,i,n,r,a,s,o){this.setXYAt(t,e,"v",s,o),this.setXYAt(i,n,"o",s,o),this.setXYAt(r,a,"i",s,o)},ShapePath.prototype.reverse=function(){var t=new ShapePath;t.setPathData(this.c,this._length);var e=this.v,i=this.o,n=this.i,r=0;this.c&&(t.setTripleAt(e[0][0],e[0][1],n[0][0],n[0][1],i[0][0],i[0][1],0,!1),r=1);for(var a=this._length-1,s=this._length,o=r;o<s;o+=1)t.setTripleAt(e[a][0],e[a][1],n[a][0],n[a][1],i[a][0],i[a][1],o,!1),--a;return t};var ShapePropertyFactory=function(){var r=-999999;function t(t,e,i){var n,r,a,s,o,l,h,c=i.lastIndex,p=this.keyframes;if(t<p[0].t-this.offsetTime)n=p[0].s[0],r=!0,c=0;else if(t>=p[p.length-1].t-this.offsetTime)n=(p[p.length-1].s?p[p.length-1].s:p[p.length-2].e)[0],r=!0;else{for(var u,m,d=c,f=p.length-1,g=!0;g&&(u=p[d],!((m=p[d+1]).t-this.offsetTime>t));)d<f-1?d+=1:g=!1;var y,v,_,c=d;(r=1===u.h)||(v=t>=m.t-this.offsetTime?1:t<u.t-this.offsetTime?0:(u.__fnct?y=u.__fnct:(y=BezierFactory.getBezierEasing(u.o.x,u.o.y,u.i.x,u.i.y).get,u.__fnct=y),y((t-(u.t-this.offsetTime))/(m.t-this.offsetTime-(u.t-this.offsetTime)))),_=(m.s||u.e)[0]),n=u.s[0]}for(o=e._length,l=n.i[0].length,i.lastIndex=c,a=0;a<o;a+=1)for(s=0;s<l;s+=1)h=r?n.i[a][s]:n.i[a][s]+(_.i[a][s]-n.i[a][s])*v,e.i[a][s]=h,h=r?n.o[a][s]:n.o[a][s]+(_.o[a][s]-n.o[a][s])*v,e.o[a][s]=h,h=r?n.v[a][s]:n.v[a][s]+(_.v[a][s]-n.v[a][s])*v,e.v[a][s]=h}function n(){this.paths=this.localShapeCollection}function e(t){!function(t,e){if(t._length===e._length&&t.c===e.c){for(var i=t._length,n=0;n<i;n+=1)if(t.v[n][0]!==e.v[n][0]||t.v[n][1]!==e.v[n][1]||t.o[n][0]!==e.o[n][0]||t.o[n][1]!==e.o[n][1]||t.i[n][0]!==e.i[n][0]||t.i[n][1]!==e.i[n][1])return;return 1}}(this.v,t)&&(this.v=shape_pool.clone(t),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function i(){if(this.elem.globalData.frameId!==this.frameId)if(this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{this.lock=!0,this._mdf=!1;for(var t=this.kf?this.pv:(this.data.ks||this.data.pt).k,e=this.effectsSequence.length,i=0;i<e;i+=1)t=this.effectsSequence[i](t);this.setVValue(t),this.lock=!1,this.frameId=this.elem.globalData.frameId}else this._mdf=!1}function a(t,e,i){this.propType="shape",this.comp=t.comp,this.container=t,this.elem=t,this.data=e,this.k=!1,this.kf=!1,this._mdf=!1;e=(3===i?e.pt:e.ks).k;this.v=shape_pool.clone(e),this.pv=shape_pool.clone(this.v),this.localShapeCollection=shapeCollection_pool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=n,this.effectsSequence=[]}function s(t){this.effectsSequence.push(t),this.container.addDynamicProperty(this)}function o(t,e,i){this.propType="shape",this.comp=t.comp,this.elem=t,this.container=t,this.offsetTime=t.data.st,this.keyframes=(3===i?e.pt:e.ks).k,this.k=!0,this.kf=!0;e=this.keyframes[0].s[0].i.length;this.keyframes[0].s[0].i[0].length,this.v=shape_pool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,e),this.pv=shape_pool.clone(this.v),this.localShapeCollection=shapeCollection_pool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=r,this.reset=n,this._caching={lastFrame:r,lastIndex:0},this.effectsSequence=[function(){var t=this.comp.renderedFrame-this.offsetTime,e=this.keyframes[0].t-this.offsetTime,i=this.keyframes[this.keyframes.length-1].t-this.offsetTime,n=this._caching.lastFrame;return n!==r&&(n<e&&t<e||i<n&&i<t)||(this._caching.lastIndex=n<t?this._caching.lastIndex:0,this.interpolateShape(t,this.pv,this._caching)),this._caching.lastFrame=t,this.pv}.bind(this)]}a.prototype.interpolateShape=t,a.prototype.getValue=i,a.prototype.setVValue=e,a.prototype.addEffect=s,o.prototype.getValue=i,o.prototype.interpolateShape=t,o.prototype.setVValue=e,o.prototype.addEffect=s;var l,h=(l=roundCorner,d.prototype={reset:n,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var t=this.p.v[0],e=this.p.v[1],i=this.s.v[0]/2,n=this.s.v[1]/2,r=3!==this.d,a=this.v;a.v[0][0]=t,a.v[0][1]=e-n,a.v[1][0]=r?t+i:t-i,a.v[1][1]=e,a.v[2][0]=t,a.v[2][1]=e+n,a.v[3][0]=r?t-i:t+i,a.v[3][1]=e,a.i[0][0]=r?t-i*l:t+i*l,a.i[0][1]=e-n,a.i[1][0]=r?t+i:t-i,a.i[1][1]=e-n*l,a.i[2][0]=r?t+i*l:t-i*l,a.i[2][1]=e+n,a.i[3][0]=r?t-i:t+i,a.i[3][1]=e+n*l,a.o[0][0]=r?t+i*l:t-i*l,a.o[0][1]=e-n,a.o[1][0]=r?t+i:t-i,a.o[1][1]=e+n*l,a.o[2][0]=r?t-i*l:t+i*l,a.o[2][1]=e+n,a.o[3][0]=r?t-i:t+i,a.o[3][1]=e-n*l}},extendPrototype([DynamicPropertyContainer],d),d),c=(m.prototype={reset:n,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var t=2*Math.floor(this.pt.v),e=2*Math.PI/t,i=!0,n=this.or.v,r=this.ir.v,a=this.os.v,s=this.is.v,o=2*Math.PI*n/(2*t),l=2*Math.PI*r/(2*t),h=-Math.PI/2;h+=this.r.v;for(var c=3===this.data.d?-1:1,p=this.v._length=0;p<t;p+=1){var u=i?a:s,m=i?o:l,d=(y=i?n:r)*Math.cos(h),f=y*Math.sin(h),g=0===d&&0===f?0:f/Math.sqrt(d*d+f*f),y=0===d&&0===f?0:-d/Math.sqrt(d*d+f*f);d+=+this.p.v[0],f+=+this.p.v[1],this.v.setTripleAt(d,f,d-g*m*u*c,f-y*m*u*c,d+g*m*u*c,f+y*m*u*c,p,!0),i=!i,h+=e*c}},convertPolygonToPath:function(){var t,e=Math.floor(this.pt.v),i=2*Math.PI/e,n=this.or.v,r=this.os.v,a=2*Math.PI*n/(4*e),s=-Math.PI/2,o=3===this.data.d?-1:1;for(s+=this.r.v,t=this.v._length=0;t<e;t+=1){var l=n*Math.cos(s),h=n*Math.sin(s),c=0===l&&0===h?0:h/Math.sqrt(l*l+h*h),p=0===l&&0===h?0:-l/Math.sqrt(l*l+h*h);l+=+this.p.v[0],h+=+this.p.v[1],this.v.setTripleAt(l,h,l-c*a*r*o,h-p*a*r*o,l+c*a*r*o,h+p*a*r*o,t,!0),s+=i*o}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],m),m),p=(u.prototype={convertRectToPath:function(){var t=this.p.v[0],e=this.p.v[1],i=this.s.v[0]/2,n=this.s.v[1]/2,r=bm_min(i,n,this.r.v),a=r*(1-roundCorner);this.v._length=0,2===this.d||1===this.d?(this.v.setTripleAt(t+i,e-n+r,t+i,e-n+r,t+i,e-n+a,0,!0),this.v.setTripleAt(t+i,e+n-r,t+i,e+n-a,t+i,e+n-r,1,!0),0!==r?(this.v.setTripleAt(t+i-r,e+n,t+i-r,e+n,t+i-a,e+n,2,!0),this.v.setTripleAt(t-i+r,e+n,t-i+a,e+n,t-i+r,e+n,3,!0),this.v.setTripleAt(t-i,e+n-r,t-i,e+n-r,t-i,e+n-a,4,!0),this.v.setTripleAt(t-i,e-n+r,t-i,e-n+a,t-i,e-n+r,5,!0),this.v.setTripleAt(t-i+r,e-n,t-i+r,e-n,t-i+a,e-n,6,!0),this.v.setTripleAt(t+i-r,e-n,t+i-a,e-n,t+i-r,e-n,7,!0)):(this.v.setTripleAt(t-i,e+n,t-i+a,e+n,t-i,e+n,2),this.v.setTripleAt(t-i,e-n,t-i,e-n+a,t-i,e-n,3))):(this.v.setTripleAt(t+i,e-n+r,t+i,e-n+a,t+i,e-n+r,0,!0),0!==r?(this.v.setTripleAt(t+i-r,e-n,t+i-r,e-n,t+i-a,e-n,1,!0),this.v.setTripleAt(t-i+r,e-n,t-i+a,e-n,t-i+r,e-n,2,!0),this.v.setTripleAt(t-i,e-n+r,t-i,e-n+r,t-i,e-n+a,3,!0),this.v.setTripleAt(t-i,e+n-r,t-i,e+n-a,t-i,e+n-r,4,!0),this.v.setTripleAt(t-i+r,e+n,t-i+r,e+n,t-i+a,e+n,5,!0),this.v.setTripleAt(t+i-r,e+n,t+i-a,e+n,t+i-r,e+n,6,!0),this.v.setTripleAt(t+i,e+n-r,t+i,e+n-r,t+i,e+n-a,7,!0)):(this.v.setTripleAt(t-i,e-n,t-i+a,e-n,t-i,e-n,1,!0),this.v.setTripleAt(t-i,e+n,t-i,e+n-a,t-i,e+n,2,!0),this.v.setTripleAt(t+i,e+n,t+i-a,e+n,t+i,e+n,3,!0)))},getValue:function(t){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:n},extendPrototype([DynamicPropertyContainer],u),u);function u(t,e){this.v=shape_pool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollection_pool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=t,this.comp=t.comp,this.frameId=-1,this.d=e.d,this.initDynamicPropertyContainer(t),this.p=PropertyFactory.getProp(t,e.p,1,0,this),this.s=PropertyFactory.getProp(t,e.s,1,0,this),this.r=PropertyFactory.getProp(t,e.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}function m(t,e){this.v=shape_pool.newElement(),this.v.setPathData(!0,0),this.elem=t,this.comp=t.comp,this.data=e,this.frameId=-1,this.d=e.d,this.initDynamicPropertyContainer(t),1===e.sy?(this.ir=PropertyFactory.getProp(t,e.ir,0,0,this),this.is=PropertyFactory.getProp(t,e.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(t,e.pt,0,0,this),this.p=PropertyFactory.getProp(t,e.p,1,0,this),this.r=PropertyFactory.getProp(t,e.r,0,degToRads,this),this.or=PropertyFactory.getProp(t,e.or,0,0,this),this.os=PropertyFactory.getProp(t,e.os,0,.01,this),this.localShapeCollection=shapeCollection_pool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}function d(t,e){this.v=shape_pool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollection_pool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=e.d,this.elem=t,this.comp=t.comp,this.frameId=-1,this.initDynamicPropertyContainer(t),this.p=PropertyFactory.getProp(t,e.p,1,0,this),this.s=PropertyFactory.getProp(t,e.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return{getShapeProp:function(t,e,i){var n;return 3===i||4===i?n=new((3===i?e.pt:e.ks).k.length?o:a)(t,e,i):5===i?n=new p(t,e):6===i?n=new h(t,e):7===i&&(n=new c(t,e)),n.k&&t.addDynamicProperty(n),n},getConstructorFunction:function(){return a},getKeyframedConstructorFunction:function(){return o}}}(),ShapeModifiers=(fs={},gs={},fs.registerModifier=function(t,e){gs[t]||(gs[t]=e)},fs.getModifier=function(t,e,i){return new gs[t](e,i)},fs),fs,gs;function ShapeModifier(){}function TrimModifier(){}function RoundCornersModifier(){}function PuckerAndBloatModifier(){}function RepeaterModifier(){}function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}function DashProperty(t,e,i,n){this.elem=t,this.frameId=-1,this.dataProps=createSizedArray(e.length),this.renderer=i,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",e.length?e.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(n);for(var r,a=e.length||0,s=0;s<a;s+=1)r=PropertyFactory.getProp(t,e[s].v,0,0,this),this.k=r.k||this.k,this.dataProps[s]={n:e[s].n,p:r};this.k||this.getValue(!0),this._isAnimated=this.k}function GradientProperty(t,e,i){this.data=e,this.c=createTypedArray("uint8c",4*e.p);var n=e.k.k[0].s?e.k.k[0].s.length-4*e.p:e.k.k.length-4*e.p;this.o=createTypedArray("float32",n),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=n,this.initDynamicPropertyContainer(i),this.prop=PropertyFactory.getProp(t,e.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(t){var e;this.closed||(t.sh.container.addDynamicProperty(t.sh),e={shape:t.sh,data:t,localShapeCollection:shapeCollection_pool.newShapeCollection()},this.shapes.push(e),this.addShapeToModifier(e),this._isAnimated&&t.setAsAnimated())},ShapeModifier.prototype.init=function(t,e){this.shapes=[],this.elem=t,this.initDynamicPropertyContainer(t),this.initModifierProperties(t,e),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier),extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(t,e){this.s=PropertyFactory.getProp(t,e.s,0,.01,this),this.e=PropertyFactory.getProp(t,e.e,0,.01,this),this.o=PropertyFactory.getProp(t,e.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=e.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(t){t.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(t,e,i,n,r){var a=[];e<=1?a.push({s:t,e:e}):1<=t?a.push({s:t-1,e:e-1}):(a.push({s:t,e:1}),a.push({s:0,e:e-1}));for(var s,o,l=[],h=a.length,c=0;c<h;c+=1)(o=a[c]).e*r<n||o.s*r>n+i||(s=o.s*r<=n?0:(o.s*r-n)/i,o=o.e*r>=n+i?1:(o.e*r-n)/i,l.push([s,o]));return l.length||l.push([0,0]),l},TrimModifier.prototype.releasePathsData=function(t){for(var e=t.length,i=0;i<e;i+=1)segments_length_pool.release(t[i]);return t.length=0,t},TrimModifier.prototype.processShapes=function(t){var e,i,n,r;this._mdf||t?((i=this.o.v%360/360)<0&&(i+=1),n=(1<this.s.v?1:this.s.v<0?0:this.s.v)+i,(r=(1<this.e.v?1:this.e.v<0?0:this.e.v)+i)<n&&(i=n,n=r,r=i),n=1e-4*Math.round(1e4*n),r=1e-4*Math.round(1e4*r),this.sValue=n,this.eValue=r):(n=this.sValue,r=this.eValue);var a,s,o,l,h,c=this.shapes.length,p=0;if(r===n)for(f=0;f<c;f+=1)this.shapes[f].localShapeCollection.releaseShapes(),this.shapes[f].shape._mdf=!0,this.shapes[f].shape.paths=this.shapes[f].localShapeCollection,this._mdf&&(this.shapes[f].pathsData.length=0);else if(1===r&&0===n||0===r&&1===n){if(this._mdf)for(f=0;f<c;f+=1)this.shapes[f].pathsData.length=0,this.shapes[f].shape._mdf=!0}else{for(var u,m,d=[],f=0;f<c;f+=1)if((u=this.shapes[f]).shape._mdf||this._mdf||t||2===this.m){if(s=(e=u.shape.paths)._length,h=0,!u.shape._mdf&&u.pathsData.length)h=u.totalShapeLength;else{for(o=this.releasePathsData(u.pathsData),a=0;a<s;a+=1)l=bez.getSegmentsLength(e.shapes[a]),o.push(l),h+=l.totalLength;u.totalShapeLength=h,u.pathsData=o}p+=h,u.shape._mdf=!0}else u.shape.paths=u.localShapeCollection;var g,y=n,v=r,_=0;for(f=c-1;0<=f;--f)if((u=this.shapes[f]).shape._mdf){for((m=u.localShapeCollection).releaseShapes(),2===this.m&&1<c?(g=this.calculateShapeEdges(n,r,u.totalShapeLength,_,p),_+=u.totalShapeLength):g=[[y,v]],s=g.length,a=0;a<s;a+=1){y=g[a][0],v=g[a][1],d.length=0,v<=1?d.push({s:u.totalShapeLength*y,e:u.totalShapeLength*v}):1<=y?d.push({s:u.totalShapeLength*(y-1),e:u.totalShapeLength*(v-1)}):(d.push({s:u.totalShapeLength*y,e:u.totalShapeLength}),d.push({s:0,e:u.totalShapeLength*(v-1)}));var b,x=this.addShapes(u,d[0]);d[0].s!==d[0].e&&(1<d.length&&(x=u.shape.paths.shapes[u.shape.paths._length-1].c?(b=x.pop(),this.addPaths(x,m),this.addShapes(u,d[1],b)):(this.addPaths(x,m),this.addShapes(u,d[1]))),this.addPaths(x,m))}u.shape.paths=m}}},TrimModifier.prototype.addPaths=function(t,e){for(var i=t.length,n=0;n<i;n+=1)e.addShape(t[n])},TrimModifier.prototype.addSegment=function(t,e,i,n,r,a,s){r.setXYAt(e[0],e[1],"o",a),r.setXYAt(i[0],i[1],"i",a+1),s&&r.setXYAt(t[0],t[1],"v",a),r.setXYAt(n[0],n[1],"v",a+1)},TrimModifier.prototype.addSegmentFromArray=function(t,e,i,n){e.setXYAt(t[1],t[5],"o",i),e.setXYAt(t[2],t[6],"i",i+1),n&&e.setXYAt(t[0],t[4],"v",i),e.setXYAt(t[3],t[7],"v",i+1)},TrimModifier.prototype.addShapes=function(t,e,i){var n,r,a,s,o,l,h,c,p=t.pathsData,u=t.shape.paths.shapes,m=t.shape.paths._length,d=0,f=[],g=!0,y=i?(s=i._length,i._length):(i=shape_pool.newElement(),s=0);for(f.push(i),n=0;n<m;n+=1){for(o=p[n].lengths,i.c=u[n].c,a=u[n].c?o.length:o.length+1,r=1;r<a;r+=1)if(d+(c=o[r-1]).addedLength<e.s)d+=c.addedLength,i.c=!1;else{if(d>e.e){i.c=!1;break}e.s<=d&&e.e>=d+c.addedLength?(this.addSegment(u[n].v[r-1],u[n].o[r-1],u[n].i[r],u[n].v[r],i,s,g),g=!1):(l=bez.getNewSegment(u[n].v[r-1],u[n].v[r],u[n].o[r-1],u[n].i[r],(e.s-d)/c.addedLength,(e.e-d)/c.addedLength,o[r-1]),this.addSegmentFromArray(l,i,s,g),i.c=g=!1),d+=c.addedLength,s+=1}if(u[n].c&&o.length&&(c=o[r-1],d<=e.e?(h=o[r-1].addedLength,e.s<=d&&e.e>=d+h?(this.addSegment(u[n].v[r-1],u[n].o[r-1],u[n].i[0],u[n].v[0],i,s,g),g=!1):(l=bez.getNewSegment(u[n].v[r-1],u[n].v[0],u[n].o[r-1],u[n].i[0],(e.s-d)/h,(e.e-d)/h,o[r-1]),this.addSegmentFromArray(l,i,s,g),i.c=g=!1)):i.c=!1,d+=c.addedLength,s+=1),i._length&&(i.setXYAt(i.v[y][0],i.v[y][1],"i",y),i.setXYAt(i.v[i._length-1][0],i.v[i._length-1][1],"o",i._length-1)),d>e.e)break;n<m-1&&(i=shape_pool.newElement(),g=!0,f.push(i),s=0)}return f},ShapeModifiers.registerModifier("tm",TrimModifier),extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(t,e.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(t,e){var i=shape_pool.newElement();i.c=t.c;for(var n,r,a,s,o,l,h,c,p,u,m=t._length,d=0,f=0;f<m;f+=1)n=t.v[f],a=t.o[f],r=t.i[f],n[0]===a[0]&&n[1]===a[1]&&n[0]===r[0]&&n[1]===r[1]?0!==f&&f!==m-1||t.c?(s=0===f?t.v[m-1]:t.v[f-1],l=(o=Math.sqrt(Math.pow(n[0]-s[0],2)+Math.pow(n[1]-s[1],2)))?Math.min(o/2,e)/o:0,p=n[0]+(s[0]-n[0])*l,u=n[1]-(n[1]-s[1])*l,h=p-(p-n[0])*roundCorner,c=u-(u-n[1])*roundCorner,i.setTripleAt(p,u,h,c,p,u,d),d+=1,s=f===m-1?t.v[0]:t.v[f+1],l=(o=Math.sqrt(Math.pow(n[0]-s[0],2)+Math.pow(n[1]-s[1],2)))?Math.min(o/2,e)/o:0,h=n[0]+(s[0]-n[0])*l,c=n[1]+(s[1]-n[1])*l,p=h-(h-n[0])*roundCorner,u=c-(c-n[1])*roundCorner,i.setTripleAt(h,c,h,c,p,u,d)):i.setTripleAt(n[0],n[1],a[0],a[1],r[0],r[1],d):i.setTripleAt(t.v[f][0],t.v[f][1],t.o[f][0],t.o[f][1],t.i[f][0],t.i[f][1],d),d+=1;return i},RoundCornersModifier.prototype.processShapes=function(t){var e,i,n,r,a,s,o=this.shapes.length,l=this.rd.v;if(0!==l)for(i=0;i<o;i+=1){if((a=this.shapes[i]).shape.paths,s=a.localShapeCollection,a.shape._mdf||this._mdf||t)for(s.releaseShapes(),a.shape._mdf=!0,e=a.shape.paths.shapes,r=a.shape.paths._length,n=0;n<r;n+=1)s.addShape(this.processPath(e[n],l));a.shape.paths=a.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},ShapeModifiers.registerModifier("rd",RoundCornersModifier),extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(t,e.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(t,e){for(var i=e/100,n=[0,0],r=t._length,a=0,a=0;a<r;a+=1)n[0]+=t.v[a][0],n[1]+=t.v[a][1];n[0]/=r,n[1]/=r;var s,o,l,h,c,p,u=shape_pool.newElement();for(u.c=t.c,a=0;a<r;a+=1)s=t.v[a][0]+(n[0]-t.v[a][0])*i,o=t.v[a][1]+(n[1]-t.v[a][1])*i,l=t.o[a][0]+(n[0]-t.o[a][0])*-i,h=t.o[a][1]+(n[1]-t.o[a][1])*-i,c=t.i[a][0]+(n[0]-t.i[a][0])*-i,p=t.i[a][1]+(n[1]-t.i[a][1])*-i,u.setTripleAt(s,o,l,h,c,p,a);return u},PuckerAndBloatModifier.prototype.processShapes=function(t){var e,i,n,r,a,s,o=this.shapes.length,l=this.amount.v;if(0!==l)for(i=0;i<o;i+=1){if((a=this.shapes[i]).shape.paths,s=a.localShapeCollection,a.shape._mdf||this._mdf||t)for(s.releaseShapes(),a.shape._mdf=!0,e=a.shape.paths.shapes,r=a.shape.paths._length,n=0;n<r;n+=1)s.addShape(this.processPath(e[n],l));a.shape.paths=a.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(t,e.c,0,null,this),this.o=PropertyFactory.getProp(t,e.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(t,e.tr,this),this.so=PropertyFactory.getProp(t,e.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(t,e.tr.eo,0,.01,this),this.data=e,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(t,e,i,n,r,a){var s=a?-1:1,o=n.s.v[0]+(1-n.s.v[0])*(1-r),l=n.s.v[1]+(1-n.s.v[1])*(1-r);t.translate(n.p.v[0]*s*r,n.p.v[1]*s*r,n.p.v[2]),e.translate(-n.a.v[0],-n.a.v[1],n.a.v[2]),e.rotate(-n.r.v*s*r),e.translate(n.a.v[0],n.a.v[1],n.a.v[2]),i.translate(-n.a.v[0],-n.a.v[1],n.a.v[2]),i.scale(a?1/o:o,a?1/l:l),i.translate(n.a.v[0],n.a.v[1],n.a.v[2])},RepeaterModifier.prototype.init=function(t,e,i,n){for(this.elem=t,this.arr=e,this.pos=i,this.elemsData=n,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(t),this.initModifierProperties(t,e[i]);0<i;)this._elements.unshift(e[--i]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(t){for(var e=t.length,i=0;i<e;i+=1)t[i]._processed=!1,"gr"===t[i].ty&&this.resetElements(t[i].it)},RepeaterModifier.prototype.cloneElements=function(t){t.length;t=JSON.parse(JSON.stringify(t));return this.resetElements(t),t},RepeaterModifier.prototype.changeGroupRender=function(t,e){for(var i=t.length,n=0;n<i;n+=1)t[n]._render=e,"gr"===t[n].ty&&this.changeGroupRender(t[n].it,e)},RepeaterModifier.prototype.processShapes=function(t){var e,i,n,r,a;if(this._mdf||t){var s,o=Math.ceil(this.c.v);if(this._groups.length<o){for(;this._groups.length<o;){var l={it:this.cloneElements(this._elements),ty:"gr"};l.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,l),this._groups.splice(0,0,l),this._currentCopies+=1}this.elem.reloadShapes()}for(n=a=0;n<=this._groups.length-1;n+=1)this._groups[n]._render=s=a<o,this.changeGroupRender(this._groups[n].it,s),a+=1;this._currentCopies=o;var h=this.o.v,t=h%1,c=0<h?Math.floor(h):Math.ceil(h),p=(this.tr.v.props,this.pMatrix.props),u=this.rMatrix.props,m=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var d,f,g=0;if(0<h){for(;g<c;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),g+=1;t&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,t,!1),g+=t)}else if(h<0){for(;c<g;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),--g;t&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-t,!0),g-=t)}for(n=1===this.data.m?0:this._currentCopies-1,r=1===this.data.m?1:-1,a=this._currentCopies;a;){if(f=(i=(e=this.elemsData[n].it)[e.length-1].transform.mProps.v.props).length,e[e.length-1].transform.mProps._mdf=!0,e[e.length-1].transform.op._mdf=!0,e[e.length-1].transform.op.v=this.so.v+(this.eo.v-this.so.v)*(n/(this._currentCopies-1)),0!==g){for((0!==n&&1===r||n!==this._currentCopies-1&&-1===r)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(u[0],u[1],u[2],u[3],u[4],u[5],u[6],u[7],u[8],u[9],u[10],u[11],u[12],u[13],u[14],u[15]),this.matrix.transform(m[0],m[1],m[2],m[3],m[4],m[5],m[6],m[7],m[8],m[9],m[10],m[11],m[12],m[13],m[14],m[15]),this.matrix.transform(p[0],p[1],p[2],p[3],p[4],p[5],p[6],p[7],p[8],p[9],p[10],p[11],p[12],p[13],p[14],p[15]),d=0;d<f;d+=1)i[d]=this.matrix.props[d];this.matrix.reset()}else for(this.matrix.reset(),d=0;d<f;d+=1)i[d]=this.matrix.props[d];g+=1,--a,n+=r}}else for(a=this._currentCopies,n=0,r=1;a;)i=(e=this.elemsData[n].it)[e.length-1].transform.mProps.v.props,e[e.length-1].transform.mProps._mdf=!1,e[e.length-1].transform.op._mdf=!1,--a,n+=r},RepeaterModifier.prototype.addShape=function(){},ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeCollection.prototype.addShape=function(t){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=t,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){for(var t=0;t<this._length;t+=1)shape_pool.release(this.shapes[t]);this._length=0},DashProperty.prototype.getValue=function(t){if((this.elem.globalData.frameId!==this.frameId||t)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||t,this._mdf)){var e=0,i=this.dataProps.length;for("svg"===this.renderer&&(this.dashStr=""),e=0;e<i;e+=1)"o"!=this.dataProps[e].n?"svg"===this.renderer?this.dashStr+=" "+this.dataProps[e].p.v:this.dashArray[e]=this.dataProps[e].p.v:this.dashoffset[0]=this.dataProps[e].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty),GradientProperty.prototype.comparePoints=function(t,e){for(var i=0,n=this.o.length/2;i<n;){if(.01<Math.abs(t[4*i]-t[4*e+2*i]))return!1;i+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!=this.c.length/4)return!1;if(this.data.k.k[0].s)for(var t=0,e=this.data.k.k.length;t<e;){if(!this.comparePoints(this.data.k.k[t].s,this.data.p))return!1;t+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(t){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||t){for(var e,i,n=4*this.data.p,r=0;r<n;r+=1)e=r%4==0?100:255,i=Math.round(this.prop.v[r]*e),this.c[r]!==i&&(this.c[r]=i,this._cmdf=!t);if(this.o.length)for(n=this.prop.v.length,r=4*this.data.p;r<n;r+=1)e=r%2==0?100:1,i=r%2==0?Math.round(100*this.prop.v[r]):this.prop.v[r],this.o[r-4*this.data.p]!==i&&(this.o[r-4*this.data.p]=i,this._omdf=!t);this._mdf=!t}},extendPrototype([DynamicPropertyContainer],GradientProperty);var buildShapeString=function(t,e,i,n){if(0===e)return"";for(var r=t.o,a=t.i,s=t.v,o=" M"+n.applyToPointStringified(s[0][0],s[0][1]),l=1;l<e;l+=1)o+=" C"+n.applyToPointStringified(r[l-1][0],r[l-1][1])+" "+n.applyToPointStringified(a[l][0],a[l][1])+" "+n.applyToPointStringified(s[l][0],s[l][1]);return i&&e&&(o+=" C"+n.applyToPointStringified(r[l-1][0],r[l-1][1])+" "+n.applyToPointStringified(a[0][0],a[0][1])+" "+n.applyToPointStringified(s[0][0],s[0][1]),o+="z"),o},audioControllerFactory=(rba.prototype={addAudio:function(t){this.audios.push(t)},pause:function(){for(var t=this.audios.length,e=0;e<t;e+=1)this.audios[e].pause()},resume:function(){for(var t=this.audios.length,e=0;e<t;e+=1)this.audios[e].resume()},setRate:function(t){for(var e=this.audios.length,i=0;i<e;i+=1)this.audios[i].setRate(t)},createAudio:function(t){return this.audioFactory?this.audioFactory(t):Howl?new Howl({src:[t]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(t){this.audioFactory=t},setVolume:function(t){this._volume=t,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(t){return this._volume},_updateVolume:function(){for(var t=this.audios.length,e=0;e<t;e+=1)this.audios[e].volume(this._volume*(this._isMuted?0:1))}},function(){return new rba}),ImagePreloader=(Xba=function(){var t=createTag("canvas");t.width=1,t.height=1;var e=t.getContext("2d");return e.fillStyle="rgba(0,0,0,0)",e.fillRect(0,0,1,1),t}(),$ba.prototype={loadAssets:function(t,e){this.imagesLoadedCb=e;for(var i=t.length,n=0;n<i;n+=1)t[n].layers||(this.totalImages+=1,this.images.push(this._createImageData(t[n])))},setAssetsPath:function(t){this.assetsPath=t||""},setPath:function(t){this.path=t||""},loaded:function(){return this.totalImages===this.loadedAssets},destroy:function(){this.imagesLoadedCb=null,this.images.length=0},getImage:function(t){for(var e=0,i=this.images.length;e<i;){if(this.images[e].assetData===t)return this.images[e].img;e+=1}},createImgData:function(t){var e=Zba(t,this.assetsPath,this.path),i=createTag("img");i.crossOrigin="anonymous",i.addEventListener("load",this._imageLoaded,!1),i.addEventListener("error",function(){n.img=Xba,this._imageLoaded()}.bind(this),!1),i.src=e;var n={img:i,assetData:t};return n},createImageData:function(t){var e=Zba(t,this.assetsPath,this.path),i=createNS("image");isSafari?this.testImageLoaded(i):i.addEventListener("load",this._imageLoaded,!1),i.addEventListener("error",function(){n.img=Xba,this._imageLoaded()}.bind(this),!1),i.setAttributeNS("http://www.w3.org/1999/xlink","href",e),this._elementHelper.append(i);var n={img:i,assetData:t};return n},imageLoaded:Yba,setCacheType:function(t,e){this._createImageData="svg"===t?(this._elementHelper=e,this.createImageData.bind(this)):this.createImgData.bind(this)}},$ba),featureSupport=(Ax={maskType:!0},(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(Ax.maskType=!1),Ax),Ax,filtersFactory=(Bx={},Bx.createFilter=function(t){var e=createNS("filter");return e.setAttribute("id",t),e.setAttribute("filterUnits","objectBoundingBox"),e.setAttribute("x","0%"),e.setAttribute("y","0%"),e.setAttribute("width","100%"),e.setAttribute("height","100%"),e},Bx.createAlphaToLuminanceFilter=function(){var t=createNS("feColorMatrix");return t.setAttribute("type","matrix"),t.setAttribute("color-interpolation-filters","sRGB"),t.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),t},Bx),Bx,assetLoader={load:function(t,e,i){var n,r=new XMLHttpRequest;r.open("GET",t,!0);try{r.responseType="json"}catch(t){}r.send(),r.onreadystatechange=function(){if(4==r.readyState)if(200==r.status)n=P1a(r),e(n);else try{n=P1a(r),e(n)}catch(t){i&&i(t)}}}},Xba;function P1a(t){return t.response&&"object"==_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(t.response)?t.response:t.response&&"string"==typeof t.response?JSON.parse(t.response):t.responseText?JSON.parse(t.responseText):void 0}function Yba(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function Zba(t,e,i){var n="";return t.e?n=t.p:e?n=e+(e=-1!==(e=t.p).indexOf("images/")?e.split("/")[1]:e):(n=i,n+=t.u||"",n+=t.p),n}function $ba(t){this._imageLoaded=Yba.bind(this),this.testImageLoaded=function(t){var e=0,i=setInterval(function(){(t.getBBox().width||500<e)&&(this._imageLoaded(),clearInterval(i)),e+=1}.bind(this),50)}.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.loadedAssets=0,this.imagesLoadedCb=null,this.images=[]}function rba(t){this.audios=[],this.audioFactory=t,this._volume=1,this._isMuted=!1}function TextAnimatorProperty(t,e,i){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=t,this._renderType=e,this._elem=i,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(i)}function TextAnimatorDataProperty(t,e,i){var n={propType:!1},r=PropertyFactory.getProp,a=e.a;this.a={r:a.r?r(t,a.r,0,degToRads,i):n,rx:a.rx?r(t,a.rx,0,degToRads,i):n,ry:a.ry?r(t,a.ry,0,degToRads,i):n,sk:a.sk?r(t,a.sk,0,degToRads,i):n,sa:a.sa?r(t,a.sa,0,degToRads,i):n,s:a.s?r(t,a.s,1,.01,i):n,a:a.a?r(t,a.a,1,0,i):n,o:a.o?r(t,a.o,0,.01,i):n,p:a.p?r(t,a.p,1,0,i):n,sw:a.sw?r(t,a.sw,0,0,i):n,sc:a.sc?r(t,a.sc,1,0,i):n,fc:a.fc?r(t,a.fc,1,0,i):n,fh:a.fh?r(t,a.fh,0,0,i):n,fs:a.fs?r(t,a.fs,0,.01,i):n,fb:a.fb?r(t,a.fb,0,.01,i):n,t:a.t?r(t,a.t,0,0,i):n},this.s=TextSelectorProp.getTextSelectorProp(t,e.s,i),this.s.t=e.s.t}function LetterProps(t,e,i,n,r,a){this.o=t,this.sw=e,this.sc=i,this.fc=n,this.m=r,this.p=a,this._mdf={o:!0,sw:!!e,sc:!!i,fc:!!n,m:!0,p:!0}}function TextProperty(t,e){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,this.data=e,this.elem=t,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}TextAnimatorProperty.prototype.searchProperties=function(){for(var t,e=this._textData.a.length,i=PropertyFactory.getProp,n=0;n<e;n+=1)t=this._textData.a[n],this._animatorsData[n]=new TextAnimatorDataProperty(this._elem,t,this);this._textData.p&&"m"in this._textData.p?(this._pathData={f:i(this._elem,this._textData.p.f,0,0,this),l:i(this._elem,this._textData.p.l,0,0,this),r:this._textData.p.r,m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=i(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(t,e){if(this.lettersChangedFlag=e,this._mdf||this._isFirstFrame||e||this._hasMaskedPath&&this._pathData.m._mdf){this._isFirstFrame=!1;var i,n,r,a,s,o,l,h,c,p,u,m,d,f,g=this._moreOptions.alignment.v,y=this._animatorsData,v=this._textData,_=this.mHelper,b=this._renderType,x=this.renderedLetters.length,w=(this.data,t.l);if(this._hasMaskedPath){if(f=this._pathData.m,!this._pathData.n||this._pathData._mdf){for(var E,S=f.v,C={tLength:0,segments:[]},P=(S=this._pathData.r?S.reverse():S)._length-1,k=m=0;k<P;k+=1)E=bez.buildBezierData(S.v[k],S.v[k+1],[S.o[k][0]-S.v[k][0],S.o[k][1]-S.v[k][1]],[S.i[k+1][0]-S.v[k+1][0],S.i[k+1][1]-S.v[k+1][1]]),C.tLength+=E.segmentLength,C.segments.push(E),m+=E.segmentLength;k=P,f.v.c&&(E=bez.buildBezierData(S.v[k],S.v[0],[S.o[k][0]-S.v[k][0],S.o[k][1]-S.v[k][1]],[S.i[0][0]-S.v[0][0],S.i[0][1]-S.v[0][1]]),C.tLength+=E.segmentLength,C.segments.push(E),m+=E.segmentLength),this._pathData.pi=C}if(C=this._pathData.pi,n=this._pathData.f.v,o=1,s=!(a=l=0),p=C.segments,n<0&&f.v.c)for(C.tLength<Math.abs(n)&&(n=-Math.abs(n)%C.tLength),o=(c=p[l=p.length-1].points).length-1;n<0;)n+=c[o].partialLength,--o<0&&(o=(c=p[--l].points).length-1);h=(c=p[l].points)[o-1],u=(r=c[o]).partialLength}P=w.length;var T,A,D,M,O,I,j,L,F,R,B,N,V,z,H,G,q=i=0,U=1.2*t.finalSize*.714,$=!0,K=y.length,W=-1,Y=n,X=l,J=o,Q=-1,Z="",tt=this.defaultPropsArray;if(2===t.j||1===t.j){var et=0,it=0,nt=2===t.j?-.5:-1,rt=0,at=!0;for(k=0;k<P;k+=1)if(w[k].n){for(et&&(et+=it);rt<k;)w[rt].animatorJustifyOffset=et,rt+=1;at=!(et=0)}else{for(ot=0;ot<K;ot+=1)(T=y[ot].a).t.propType&&(at&&2===t.j&&(it+=T.t.v*nt),(D=y[ot].s.getMult(w[k].anIndexes[ot],v.a[ot].s.totalChars)).length?et+=T.t.v*D[0]*nt:et+=T.t.v*D*nt);at=!1}for(et&&(et+=it);rt<k;)w[rt].animatorJustifyOffset=et,rt+=1}for(k=0;k<P;k+=1){if(_.reset(),j=1,w[k].n)i=0,q+=t.yOffset,q+=$?1:0,n=Y,$=!1,this._hasMaskedPath&&(h=(c=p[l=X].points)[(o=J)-1],u=(r=c[o]).partialLength,a=0),H=N=z=Z="",tt=this.defaultPropsArray;else{if(this._hasMaskedPath){if(Q!==w[k].line){switch(t.j){case 1:n+=m-t.lineWidths[w[k].line];break;case 2:n+=(m-t.lineWidths[w[k].line])/2}Q=w[k].line}W!==w[k].ind&&(w[W]&&(n+=w[W].extra),n+=w[k].an/2,W=w[k].ind),n+=g[0]*w[k].an/200;for(var st=0,ot=0;ot<K;ot+=1)(T=y[ot].a).p.propType&&((D=y[ot].s.getMult(w[k].anIndexes[ot],v.a[ot].s.totalChars)).length?st+=T.p.v[0]*D[0]:st+=T.p.v[0]*D),T.a.propType&&((D=y[ot].s.getMult(w[k].anIndexes[ot],v.a[ot].s.totalChars)).length?st+=T.a.v[0]*D[0]:st+=T.a.v[0]*D);for(s=!0;s;)n+st<=a+u||!c?(d=(n+st-a)/r.partialLength,O=h.point[0]+(r.point[0]-h.point[0])*d,I=h.point[1]+(r.point[1]-h.point[1])*d,_.translate(-g[0]*w[k].an/200,-g[1]*U/100),s=!1):c&&(a+=r.partialLength,(o+=1)>=c.length&&(o=0,c=p[l+=1]?p[l].points:f.v.c?p[l=o=0].points:(a-=r.partialLength,null)),c&&(h=r,u=(r=c[o]).partialLength));M=w[k].an/2-w[k].add,_.translate(-M,0,0)}else M=w[k].an/2-w[k].add,_.translate(-M,0,0),_.translate(-g[0]*w[k].an/200,-g[1]*U/100,0);for(w[k].l,ot=0;ot<K;ot+=1)(T=y[ot].a).t.propType&&(D=y[ot].s.getMult(w[k].anIndexes[ot],v.a[ot].s.totalChars),0===i&&0===t.j||(this._hasMaskedPath?D.length?n+=T.t.v*D[0]:n+=T.t.v*D:D.length?i+=T.t.v*D[0]:i+=T.t.v*D));for(w[k].l,t.strokeWidthAnim&&(F=t.sw||0),t.strokeColorAnim&&(L=t.sc?[t.sc[0],t.sc[1],t.sc[2]]:[0,0,0]),t.fillColorAnim&&t.fc&&(R=[t.fc[0],t.fc[1],t.fc[2]]),ot=0;ot<K;ot+=1)(T=y[ot].a).a.propType&&((D=y[ot].s.getMult(w[k].anIndexes[ot],v.a[ot].s.totalChars)).length?_.translate(-T.a.v[0]*D[0],-T.a.v[1]*D[1],T.a.v[2]*D[2]):_.translate(-T.a.v[0]*D,-T.a.v[1]*D,T.a.v[2]*D));for(ot=0;ot<K;ot+=1)(T=y[ot].a).s.propType&&((D=y[ot].s.getMult(w[k].anIndexes[ot],v.a[ot].s.totalChars)).length?_.scale(1+(T.s.v[0]-1)*D[0],1+(T.s.v[1]-1)*D[1],1):_.scale(1+(T.s.v[0]-1)*D,1+(T.s.v[1]-1)*D,1));for(ot=0;ot<K;ot+=1){if(T=y[ot].a,D=y[ot].s.getMult(w[k].anIndexes[ot],v.a[ot].s.totalChars),T.sk.propType&&(D.length?_.skewFromAxis(-T.sk.v*D[0],T.sa.v*D[1]):_.skewFromAxis(-T.sk.v*D,T.sa.v*D)),T.r.propType&&(D.length?_.rotateZ(-T.r.v*D[2]):_.rotateZ(-T.r.v*D)),T.ry.propType&&(D.length?_.rotateY(T.ry.v*D[1]):_.rotateY(T.ry.v*D)),T.rx.propType&&(D.length?_.rotateX(T.rx.v*D[0]):_.rotateX(T.rx.v*D)),T.o.propType&&(D.length?j+=(T.o.v*D[0]-j)*D[0]:j+=(T.o.v*D-j)*D),t.strokeWidthAnim&&T.sw.propType&&(D.length?F+=T.sw.v*D[0]:F+=T.sw.v*D),t.strokeColorAnim&&T.sc.propType)for(B=0;B<3;B+=1)D.length?L[B]=L[B]+(T.sc.v[B]-L[B])*D[0]:L[B]=L[B]+(T.sc.v[B]-L[B])*D;if(t.fillColorAnim&&t.fc){if(T.fc.propType)for(B=0;B<3;B+=1)D.length?R[B]=R[B]+(T.fc.v[B]-R[B])*D[0]:R[B]=R[B]+(T.fc.v[B]-R[B])*D;T.fh.propType&&(R=D.length?addHueToRGB(R,T.fh.v*D[0]):addHueToRGB(R,T.fh.v*D)),T.fs.propType&&(R=D.length?addSaturationToRGB(R,T.fs.v*D[0]):addSaturationToRGB(R,T.fs.v*D)),T.fb.propType&&(R=D.length?addBrightnessToRGB(R,T.fb.v*D[0]):addBrightnessToRGB(R,T.fb.v*D))}}for(ot=0;ot<K;ot+=1)(T=y[ot].a).p.propType&&(D=y[ot].s.getMult(w[k].anIndexes[ot],v.a[ot].s.totalChars),this._hasMaskedPath?D.length?_.translate(0,T.p.v[1]*D[0],-T.p.v[2]*D[1]):_.translate(0,T.p.v[1]*D,-T.p.v[2]*D):D.length?_.translate(T.p.v[0]*D[0],T.p.v[1]*D[1],-T.p.v[2]*D[2]):_.translate(T.p.v[0]*D,T.p.v[1]*D,-T.p.v[2]*D));if(t.strokeWidthAnim&&(N=F<0?0:F),t.strokeColorAnim&&(V="rgb("+Math.round(255*L[0])+","+Math.round(255*L[1])+","+Math.round(255*L[2])+")"),t.fillColorAnim&&t.fc&&(z="rgb("+Math.round(255*R[0])+","+Math.round(255*R[1])+","+Math.round(255*R[2])+")"),this._hasMaskedPath)_.translate(0,-t.ls),_.translate(0,g[1]*U/100+q,0),v.p.p&&(G=(r.point[1]-h.point[1])/(r.point[0]-h.point[0]),G=180*Math.atan(G)/Math.PI,r.point[0]<h.point[0]&&(G+=180),_.rotate(-G*Math.PI/180)),_.translate(O,I,0),n-=g[0]*w[k].an/200,w[k+1]&&W!==w[k+1].ind&&(n+=w[k].an/2,n+=t.tr/1e3*t.finalSize);else{switch(_.translate(i,q,0),t.ps&&_.translate(t.ps[0],t.ps[1]+t.ascent,0),t.j){case 1:_.translate(w[k].animatorJustifyOffset+t.justifyOffset+(t.boxWidth-t.lineWidths[w[k].line]),0,0);break;case 2:_.translate(w[k].animatorJustifyOffset+t.justifyOffset+(t.boxWidth-t.lineWidths[w[k].line])/2,0,0)}_.translate(0,-t.ls),_.translate(M,0,0),_.translate(g[0]*w[k].an/200,g[1]*U/100,0),i+=w[k].l+t.tr/1e3*t.finalSize}"html"===b?Z=_.toCSS():"svg"===b?Z=_.to2dCSS():tt=[_.props[0],_.props[1],_.props[2],_.props[3],_.props[4],_.props[5],_.props[6],_.props[7],_.props[8],_.props[9],_.props[10],_.props[11],_.props[12],_.props[13],_.props[14],_.props[15]],H=j}this.lettersChangedFlag=x<=k?(A=new LetterProps(H,N,V,z,Z,tt),this.renderedLetters.push(A),x+=1,!0):(A=this.renderedLetters[k]).update(H,N,V,z,Z,tt)||this.lettersChangedFlag}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty),LetterProps.prototype.update=function(t,e,i,n,r,a){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1;var s=this._mdf.p=!1;return this.o!==t&&(this.o=t,s=this._mdf.o=!0),this.sw!==e&&(this.sw=e,s=this._mdf.sw=!0),this.sc!==i&&(this.sc=i,s=this._mdf.sc=!0),this.fc!==n&&(this.fc=n,s=this._mdf.fc=!0),this.m!==r&&(this.m=r,s=this._mdf.m=!0),!a.length||this.p[0]===a[0]&&this.p[1]===a[1]&&this.p[4]===a[4]&&this.p[5]===a[5]&&this.p[12]===a[12]&&this.p[13]===a[13]||(this.p=a,s=this._mdf.p=!0),s},TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t},TextProperty.prototype.setCurrentData=function(t){t.__complete||this.completeTextData(t),this.currentData=t,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=1<this.data.d.k.length,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(t){this.effectsSequence.push(t),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(t){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length||t){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var e=this.currentData,i=this.keysIndex;if(this.lock)this.setCurrentData(this.currentData);else{this.lock=!0,this._mdf=!1;for(var n=this.effectsSequence.length,r=t||this.data.d.k[this.keysIndex].s,a=0;a<n;a+=1)r=i!==this.keysIndex?this.effectsSequence[a](r,r.t):this.effectsSequence[a](this.currentData,r.t);e!==r&&this.setCurrentData(r),this.pv=this.v=this.currentData,this.lock=!1,this.frameId=this.elem.globalData.frameId}}},TextProperty.prototype.getKeyframeValue=function(){for(var t=this.data.d.k,e=this.elem.comp.renderedFrame,i=0,n=t.length;i<=n-1&&(t[i].s,!(i===n-1||t[i+1].t>e));)i+=1;return this.keysIndex!==i&&(this.keysIndex=i),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(t){for(var e,i=FontManager.getCombinedCharacterCodes(),n=[],r=0,a=t.length;r<a;)e=t.charCodeAt(r),-1!==i.indexOf(e)?n[n.length-1]+=t.charAt(r):55296<=e&&e<=56319&&56320<=(e=t.charCodeAt(r+1))&&e<=57343?(n.push(t.substr(r,2)),++r):n.push(t.charAt(r)),r+=1;return n},TextProperty.prototype.completeTextData=function(t){t.__complete=!0;var e,i,n,r=this.elem.globalData.fontManager,a=this.data,s=[],o=0,l=a.m.g,h=0,c=0,p=0,u=[],m=0,d=0,f=r.getFontByName(t.f),g=0,y=f.fStyle?f.fStyle.split(" "):[],v="normal",_="normal";for(k=y.length,A=0;A<k;A+=1)switch(y[A].toLowerCase()){case"italic":_="italic";break;case"bold":v="700";break;case"black":v="900";break;case"medium":v="500";break;case"regular":case"normal":v="400";break;case"light":case"thin":v="200"}t.fWeight=f.fWeight||v,t.fStyle=_,t.finalSize=t.s,t.finalText=this.buildFinalText(t.t),k=t.finalText.length,t.finalLineHeight=t.lh;var b,x=t.tr/1e3*t.finalSize;if(t.sz)for(var w,E,S=!0,C=t.sz[0],P=t.sz[1];S;){for(var m=w=0,k=(E=this.buildFinalText(t.t)).length,x=t.tr/1e3*t.finalSize,T=-1,A=0;A<k;A+=1)b=E[A].charCodeAt(0),e=!1," "===E[A]?T=A:13!==b&&3!==b||(e=!(m=0),w+=t.finalLineHeight||1.2*t.finalSize),C<m+(g=r.chars?(n=r.getCharData(E[A],f.fStyle,f.fFamily),e?0:n.w*t.finalSize/100):r.measureText(E[A],t.f,t.finalSize))&&" "!==E[A]?(-1===T?k+=1:A=T,w+=t.finalLineHeight||1.2*t.finalSize,E.splice(A,T===A?1:0,"\r"),T=-1,m=0):(m+=g,m+=x);w+=f.ascent*t.finalSize/100,this.canResize&&t.finalSize>this.minimumFontSize&&P<w?(--t.finalSize,t.finalLineHeight=t.finalSize*t.lh/t.s):(t.finalText=E,k=t.finalText.length,S=!1)}m=-x;var D,M=g=0;for(A=0;A<k;A+=1)if(e=!1,13===(b=(D=t.finalText[A]).charCodeAt(0))||3===b?(M=0,u.push(m),d=d<m?m:d,m=-2*x,e=!(i=""),p+=1):i=D,g=r.chars?(n=r.getCharData(D,f.fStyle,r.getFontByName(t.f).fFamily),e?0:n.w*t.finalSize/100):r.measureText(i,t.f,t.finalSize)," "===D?M+=g+x:(m+=g+x+M,M=0),s.push({l:g,an:g,add:h,n:e,anIndexes:[],val:i,line:p,animatorJustifyOffset:0}),2==l){if(h+=g,""===i||" "===i||A===k-1){for(""!==i&&" "!==i||(h-=g);c<=A;)s[c].an=h,s[c].ind=o,s[c].extra=g,c+=1;o+=1,h=0}}else if(3==l){if(h+=g,""===i||A===k-1){for(""===i&&(h-=g);c<=A;)s[c].an=h,s[c].ind=o,s[c].extra=g,c+=1;h=0,o+=1}}else s[o].ind=o,s[o].extra=0,o+=1;if(t.l=s,d=d<m?m:d,u.push(m),t.sz)t.boxWidth=t.sz[0],t.justifyOffset=0;else switch(t.boxWidth=d,t.j){case 1:t.justifyOffset=-t.boxWidth;break;case 2:t.justifyOffset=-t.boxWidth/2;break;default:t.justifyOffset=0}t.lineWidths=u;for(var O,I,j,L,F=a.a,R=F.length,B=[],N=0;N<R;N+=1){for((O=F[N]).a.sc&&(t.strokeColorAnim=!0),O.a.sw&&(t.strokeWidthAnim=!0),(O.a.fc||O.a.fh||O.a.fs||O.a.fb)&&(t.fillColorAnim=!0),j=O.s.b,A=L=0;A<k;A+=1)(I=s[A]).anIndexes[N]=L,(1==j&&""!==I.val||2==j&&""!==I.val&&" "!==I.val||3==j&&(I.n||" "==I.val||A==k-1)||4==j&&(I.n||A==k-1))&&(1===O.s.rn&&B.push(L),L+=1);a.a[N].s.totalChars=L;var V,z=-1;if(1===O.s.rn)for(A=0;A<k;A+=1)z!=(I=s[A]).anIndexes[N]&&(z=I.anIndexes[N],V=B.splice(Math.floor(Math.random()*B.length),1)[0]),I.anIndexes[N]=V}t.yOffset=t.finalLineHeight||1.2*t.finalSize,t.ls=t.ls||0,t.ascent=f.ascent*t.finalSize/100},TextProperty.prototype.updateDocumentData=function(t,e){e=void 0===e?this.keysIndex:e;var i=this.copyData({},this.data.d.k[e].s),i=this.copyData(i,t);this.data.d.k[e].s=i,this.recalculate(e),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(t){t=this.data.d.k[t].s;t.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(t)},TextProperty.prototype.canResizeFont=function(t){this.canResize=t,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(t){this.minimumFontSize=Math.floor(t)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=(Xda=Math.max,Yda=Math.min,Zda=Math.floor,$da.prototype={getMult:function(t){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var e=0,i=0,n=1,r=1;0<this.ne.v?e=this.ne.v/100:i=-this.ne.v/100,0<this.xe.v?n=1-this.xe.v/100:r=1+this.xe.v/100;var a=BezierFactory.getBezierEasing(e,i,n,r).get,s=0,o=this.finalS,e=this.finalE,i=this.data.sh;return(s=2===i?a(s=e===o?e<=t?1:0:Xda(0,Yda(.5/(e-o)+(t-o)/(e-o),1))):3===i?a(s=e===o?e<=t?0:1:1-Xda(0,Yda(.5/(e-o)+(t-o)/(e-o),1))):4===i?(e===o?s=0:(s=Xda(0,Yda(.5/(e-o)+(t-o)/(e-o),1)))<.5?s*=2:s=1-2*(s-.5),a(s)):5===i?a(s=e===o?0:(r=-(n=e-o)/2+(t=Yda(Xda(0,t+.5-o),e-o)),n=n/2,Math.sqrt(1-r*r/(n*n)))):6===i?a(s=e===o?0:(t=Yda(Xda(0,t+.5-o),e-o),(1+Math.cos(Math.PI+2*Math.PI*t/(e-o)))/2)):a(s=t>=Zda(o)?Xda(0,Yda(t-o<0?Yda(e,1)-(o-t):e-t,1)):s))*this.a.v},getValue:function(t){this.iterateDynamicProperties(),this._mdf=t||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,t&&2===this.data.r&&(this.e.v=this._currentTextLength);var e=2===this.data.r?1:100/this.data.totalChars,i=this.o.v/e,t=this.s.v/e+i,e=this.e.v/e+i;e<t&&(i=t,t=e,e=i),this.finalS=t,this.finalE=e}},extendPrototype([DynamicPropertyContainer],$da),{getTextSelectorProp:function(t,e,i){return new $da(t,e)}}),pool_factory=function(t,e,i,n){var r=0,a=t,s=createSizedArray(a);return{newElement:function(){return r?s[--r]:e()},release:function(t){r===a&&(s=pooling.double(s),a*=2),i&&i(t),s[r]=t,r+=1}}},pooling={double:function(t){return t.concat(createSizedArray(t.length))}},point_pool=pool_factory(8,function(){return createTypedArray("float32",2)}),shape_pool=(SB=pool_factory(4,function(){return new ShapePath},function(t){for(var e=t._length,i=0;i<e;i+=1)point_pool.release(t.v[i]),point_pool.release(t.i[i]),point_pool.release(t.o[i]),t.v[i]=null,t.i[i]=null,t.o[i]=null;t._length=0,t.c=!1}),SB.clone=function(t){var e,i=SB.newElement(),n=void 0===t._length?t.v.length:t._length;for(i.setLength(n),i.c=t.c,e=0;e<n;e+=1)i.setTripleAt(t.v[e][0],t.v[e][1],t.o[e][0],t.o[e][1],t.i[e][0],t.i[e][1],e);return i},SB),SB,shapeCollection_pool=(_B={newShapeCollection:function(){return aC?cC[--aC]:new ShapeCollection},release:function(t){for(var e=t._length,i=0;i<e;i+=1)shape_pool.release(t.shapes[i]);t._length=0,aC===bC&&(cC=pooling.double(cC),bC*=2),cC[aC]=t,aC+=1}},aC=0,bC=4,cC=createSizedArray(bC),_B),_B,aC,bC,cC,segments_length_pool=pool_factory(8,function(){return{lengths:[],totalLength:0}},function(t){for(var e=t.lengths.length,i=0;i<e;i+=1)bezier_length_pool.release(t.lengths[i]);t.lengths.length=0}),bezier_length_pool=pool_factory(8,function(){return{addedLength:0,percents:createTypedArray("float32",defaultCurveSegments),lengths:createTypedArray("float32",defaultCurveSegments)}}),Xda,Yda,Zda;function $da(t,e){this._currentTextLength=-1,this.k=!1,this.data=e,this.elem=t,this.comp=t.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(t),this.s=PropertyFactory.getProp(t,e.s||{k:0},0,0,this),this.e="e"in e?PropertyFactory.getProp(t,e.e,0,0,this):{v:100},this.o=PropertyFactory.getProp(t,e.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(t,e.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(t,e.ne||{k:0},0,0,this),this.a=PropertyFactory.getProp(t,e.a,0,.01,this),this.dynamicProperties.length||this.getValue()}function BaseRenderer(){}function SVGRenderer(t,e){this.animationItem=t,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var i,n="";e&&e.title&&(t=createNS("title"),i=createElementID(),t.setAttribute("id",i),t.textContent=e.title,this.svgElement.appendChild(t),n+=i),e&&e.description&&(i=createNS("desc"),r=createElementID(),i.setAttribute("id",r),i.textContent=e.description,this.svgElement.appendChild(i),n+=" "+r),n&&this.svgElement.setAttribute("aria-labelledby",n);var r=createNS("defs");this.svgElement.appendChild(r);n=createNS("g");this.svgElement.appendChild(n),this.layerElement=n,this.renderConfig={preserveAspectRatio:e&&e.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",progressiveLoad:e&&e.progressiveLoad||!1,hideOnTransparent:!e||!1!==e.hideOnTransparent,viewBoxOnly:e&&e.viewBoxOnly||!1,viewBoxSize:e&&e.viewBoxSize||!1,className:e&&e.className||"",id:e&&e.id||"",focusable:e&&e.focusable,filterSize:{width:e&&e.filterSize&&e.filterSize.width||"100%",height:e&&e.filterSize&&e.filterSize.height||"100%",x:e&&e.filterSize&&e.filterSize.x||"0%",y:e&&e.filterSize&&e.filterSize.y||"0%"}},this.globalData={_mdf:!1,frameNum:-1,defs:r,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}function CanvasRenderer(t,e){this.animationItem=t,this.renderConfig={clearCanvas:!e||void 0===e.clearCanvas||e.clearCanvas,context:e&&e.context||null,progressiveLoad:e&&e.progressiveLoad||!1,preserveAspectRatio:e&&e.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",className:e&&e.className||"",id:e&&e.id||""},this.renderConfig.dpr=e&&e.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=e&&e.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas"}function HybridRenderer(t,e){this.animationItem=t,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:e&&e.className||"",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!e||!1!==e.hideOnTransparent,filterSize:{width:e&&e.filterSize&&e.filterSize.width||"400%",height:e&&e.filterSize&&e.filterSize.height||"400%",x:e&&e.filterSize&&e.filterSize.x||"-100%",y:e&&e.filterSize&&e.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}function MaskElement(t,e,i){this.data=t,this.element=e,this.globalData=i,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var n=this.globalData.defs,r=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(r),this.solidPath="";for(var a,s,o,l,h,c=this.masksProperties,p=0,u=[],m=createElementID(),d="clipPath",f="clip-path",g=0;g<r;g++)if(("a"!==c[g].mode&&"n"!==c[g].mode||c[g].inv||100!==c[g].o.k||c[g].o.x)&&(f=d="mask"),"s"!=c[g].mode&&"i"!=c[g].mode||0!==p?s=null:((s=createNS("rect")).setAttribute("fill","#ffffff"),s.setAttribute("width",this.element.comp.data.w||0),s.setAttribute("height",this.element.comp.data.h||0),u.push(s)),a=createNS("path"),"n"!=c[g].mode){if(p+=1,a.setAttribute("fill","s"===c[g].mode?"#000000":"#ffffff"),a.setAttribute("clip-rule","nonzero"),0!==c[g].x.k?(f=d="mask",l=PropertyFactory.getProp(this.element,c[g].x,0,null,this.element),h=createElementID(),(b=createNS("filter")).setAttribute("id",h),(o=createNS("feMorphology")).setAttribute("operator","erode"),o.setAttribute("in","SourceGraphic"),o.setAttribute("radius","0"),b.appendChild(o),n.appendChild(b),a.setAttribute("stroke","s"===c[g].mode?"#000000":"#ffffff")):l=o=null,this.storedData[g]={elem:a,x:l,expan:o,lastPath:"",lastOperator:"",filterId:h,lastRadius:0},"i"==c[g].mode){for(var y=u.length,v=createNS("g"),_=0;_<y;_+=1)v.appendChild(u[_]);var b=createNS("mask");b.setAttribute("mask-type","alpha"),b.setAttribute("id",m+"_"+p),b.appendChild(a),n.appendChild(b),v.setAttribute("mask","url("+locationHref+"#"+m+"_"+p+")"),u.length=0,u.push(v)}else u.push(a);c[g].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[g]={elem:a,lastPath:"",op:PropertyFactory.getProp(this.element,c[g].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,c[g],3),invRect:s},this.viewData[g].prop.k||this.drawPath(c[g],this.viewData[g].prop.v,this.viewData[g])}else this.viewData[g]={op:PropertyFactory.getProp(this.element,c[g].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,c[g],3),elem:a,lastPath:""},n.appendChild(a);for(this.maskElement=createNS(d),r=u.length,g=0;g<r;g+=1)this.maskElement.appendChild(u[g]);0<p&&(this.maskElement.setAttribute("id",m),this.element.maskedElement.setAttribute(f,"url("+locationHref+"#"+m+")"),n.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}function HierarchyElement(){}function FrameElement(){}function TransformElement(){}function RenderableElement(){}function RenderableDOMElement(){}function ProcessedElement(t,e){this.elem=t,this.pos=e}function SVGStyleData(t,e){this.data=t,this.type=t.ty,this.d="",this.lvl=e,this._mdf=!1,this.closed=!0===t.hd,this.pElem=createNS("path"),this.msElem=null}function SVGShapeData(t,e,i){this.caches=[],this.styles=[],this.transformers=t,this.lStr="",this.sh=i,this.lvl=e,this._isAnimated=!!i.k;for(var n=0,r=t.length;n<r;){if(t[n].mProps.dynamicProperties.length){this._isAnimated=!0;break}n+=1}}function SVGTransformData(t,e,i){this.transform={mProps:t,op:e,container:i},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}function SVGStrokeStyleData(t,e,i){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(t,e.o,0,.01,this),this.w=PropertyFactory.getProp(t,e.w,0,null,this),this.d=new DashProperty(t,e.d||{},"svg",this),this.c=PropertyFactory.getProp(t,e.c,1,255,this),this.style=i,this._isAnimated=!!this._isAnimated}function SVGFillStyleData(t,e,i){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(t,e.o,0,.01,this),this.c=PropertyFactory.getProp(t,e.c,1,255,this),this.style=i}function SVGGradientFillStyleData(t,e,i){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.initGradientData(t,e,i)}function SVGGradientStrokeStyleData(t,e,i){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(t,e.w,0,null,this),this.d=new DashProperty(t,e.d||{},"svg",this),this.initGradientData(t,e,i),this._isAnimated=!!this._isAnimated}function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}BaseRenderer.prototype.checkLayers=function(t){var e,i,n=this.layers.length;for(this.completeLayers=!0,e=n-1;0<=e;e--)this.elements[e]||(i=this.layers[e]).ip-i.st<=t-this.layers[e].st&&i.op-i.st>t-this.layers[e].st&&this.buildItem(e),this.completeLayers=!!this.elements[e]&&this.completeLayers;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(t){switch(t.ty){case 2:return this.createImage(t);case 0:return this.createComp(t);case 1:return this.createSolid(t);case 3:return this.createNull(t);case 4:return this.createShape(t);case 5:return this.createText(t);case 6:return this.createAudio(t);case 13:return this.createCamera(t)}return this.createNull(t)},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(t){return new AudioElement(t,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){for(var t=this.layers.length,e=0;e<t;e+=1)this.buildItem(e);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(t){this.completeLayers=!1;for(var e,i=t.length,n=this.layers.length,r=0;r<i;r+=1)for(e=0;e<n;){if(this.layers[e].id==t[r].id){this.layers[e]=t[r];break}e+=1}},BaseRenderer.prototype.setProjectInterface=function(t){this.globalData.projectInterface=t},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(t,e,i){for(var n=this.elements,r=this.layers,a=0,s=r.length;a<s;)r[a].ind==e&&(n[a]&&!0!==n[a]?(i.push(n[a]),n[a].setAsParent(),void 0!==r[a].parent?this.buildElementParenting(t,r[a].parent,i):t.setHierarchy(i)):(this.buildItem(a),this.addPendingElement(t))),a+=1},BaseRenderer.prototype.addPendingElement=function(t){this.pendingElements.push(t)},BaseRenderer.prototype.searchExtraCompositions=function(t){for(var e,i=t.length,n=0;n<i;n+=1)t[n].xt&&((e=this.createComp(t[n])).initExpressions(),this.globalData.projectInterface.registerComposition(e))},BaseRenderer.prototype.setupGlobalData=function(t,e){this.globalData.fontManager=new FontManager,this.globalData.fontManager.addChars(t.chars),this.globalData.fontManager.addFonts(t.fonts,e),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=t.fr,this.globalData.nm=t.nm,this.globalData.compSize={w:t.w,h:t.h}},extendPrototype([BaseRenderer],SVGRenderer),SVGRenderer.prototype.createNull=function(t){return new NullElement(t,this.globalData,this)},SVGRenderer.prototype.createShape=function(t){return new SVGShapeElement(t,this.globalData,this)},SVGRenderer.prototype.createText=function(t){return new SVGTextElement(t,this.globalData,this)},SVGRenderer.prototype.createImage=function(t){return new IImageElement(t,this.globalData,this)},SVGRenderer.prototype.createComp=function(t){return new SVGCompElement(t,this.globalData,this)},SVGRenderer.prototype.createSolid=function(t){return new ISolidElement(t,this.globalData,this)},SVGRenderer.prototype.configAnimation=function(t){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+t.w+" "+t.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",t.w),this.svgElement.setAttribute("height",t.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)"),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),void 0!==this.renderConfig.focusable&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var e=this.globalData.defs;this.setupGlobalData(t,e),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=t;var i=createNS("clipPath"),n=createNS("rect");n.setAttribute("width",t.w),n.setAttribute("height",t.h),n.setAttribute("x",0),n.setAttribute("y",0);var r=createElementID();i.setAttribute("id",r),i.appendChild(n),this.layerElement.setAttribute("clip-path","url("+locationHref+"#"+r+")"),e.appendChild(i),this.layers=t.layers,this.elements=createSizedArray(t.layers.length)},SVGRenderer.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;for(var t=this.layers?this.layers.length:0,e=0;e<t;e++)this.elements[e]&&this.elements[e].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRenderer.prototype.updateContainerSize=function(){},SVGRenderer.prototype.buildItem=function(t){var e,i=this.elements;i[t]||99==this.layers[t].ty||(i[t]=!0,e=this.createItem(this.layers[t]),i[t]=e,expressionsPlugin&&(0===this.layers[t].ty&&this.globalData.projectInterface.registerComposition(e),e.initExpressions()),this.appendElementInPos(e,t),this.layers[t].tt&&(this.elements[t-1]&&!0!==this.elements[t-1]?e.setMatte(i[t-1].layerId):(this.buildItem(t-1),this.addPendingElement(e))))},SVGRenderer.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var t=this.pendingElements.pop();if(t.checkParenting(),t.data.tt)for(var e=0,i=this.elements.length;e<i;){if(this.elements[e]===t){t.setMatte(this.elements[e-1].layerId);break}e+=1}}},SVGRenderer.prototype.renderFrame=function(t){if(this.renderedFrame!==t&&!this.destroyed){null===t?t=this.renderedFrame:this.renderedFrame=t,this.globalData.frameNum=t,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=t,this.globalData._mdf=!1;var e,i=this.layers.length;for(this.completeLayers||this.checkLayers(t),e=i-1;0<=e;e--)(this.completeLayers||this.elements[e])&&this.elements[e].prepareFrame(t-this.layers[e].st);if(this.globalData._mdf)for(e=0;e<i;e+=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame()}},SVGRenderer.prototype.appendElementInPos=function(t,e){t=t.getBaseElement();if(t){for(var i,n=0;n<e;)this.elements[n]&&!0!==this.elements[n]&&this.elements[n].getBaseElement()&&(i=this.elements[n].getBaseElement()),n+=1;i?this.layerElement.insertBefore(t,i):this.layerElement.appendChild(t)}},SVGRenderer.prototype.hide=function(){this.layerElement.style.display="none"},SVGRenderer.prototype.show=function(){this.layerElement.style.display="block"},extendPrototype([BaseRenderer],CanvasRenderer),CanvasRenderer.prototype.createShape=function(t){return new CVShapeElement(t,this.globalData,this)},CanvasRenderer.prototype.createText=function(t){return new CVTextElement(t,this.globalData,this)},CanvasRenderer.prototype.createImage=function(t){return new CVImageElement(t,this.globalData,this)},CanvasRenderer.prototype.createComp=function(t){return new CVCompElement(t,this.globalData,this)},CanvasRenderer.prototype.createSolid=function(t){return new CVSolidElement(t,this.globalData,this)},CanvasRenderer.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRenderer.prototype.ctxTransform=function(t){var e;1===t[0]&&0===t[1]&&0===t[4]&&1===t[5]&&0===t[12]&&0===t[13]||(this.renderConfig.clearCanvas?(this.transformMat.cloneFromProps(t),e=this.contextData.cTr.props,this.transformMat.transform(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15]),this.contextData.cTr.cloneFromProps(this.transformMat.props),e=this.contextData.cTr.props,this.canvasContext.setTransform(e[0],e[1],e[4],e[5],e[12],e[13])):this.canvasContext.transform(t[0],t[1],t[4],t[5],t[12],t[13]))},CanvasRenderer.prototype.ctxOpacity=function(t){if(!this.renderConfig.clearCanvas)return this.canvasContext.globalAlpha*=t<0?0:t,void(this.globalData.currentGlobalAlpha=this.contextData.cO);this.contextData.cO*=t<0?0:t,this.globalData.currentGlobalAlpha!==this.contextData.cO&&(this.canvasContext.globalAlpha=this.contextData.cO,this.globalData.currentGlobalAlpha=this.contextData.cO)},CanvasRenderer.prototype.reset=function(){this.renderConfig.clearCanvas?this.contextData.reset():this.canvasContext.restore()},CanvasRenderer.prototype.save=function(t){if(this.renderConfig.clearCanvas){t&&this.canvasContext.save();var e=this.contextData.cTr.props;this.contextData._length<=this.contextData.cArrPos&&this.contextData.duplicate();for(var i=this.contextData.saved[this.contextData.cArrPos],n=0;n<16;n+=1)i[n]=e[n];this.contextData.savedOp[this.contextData.cArrPos]=this.contextData.cO,this.contextData.cArrPos+=1}else this.canvasContext.save()},CanvasRenderer.prototype.restore=function(t){if(this.renderConfig.clearCanvas){t&&(this.canvasContext.restore(),this.globalData.blendMode="source-over"),--this.contextData.cArrPos;for(var e=this.contextData.saved[this.contextData.cArrPos],i=this.contextData.cTr.props,n=0;n<16;n+=1)i[n]=e[n];this.canvasContext.setTransform(e[0],e[1],e[4],e[5],e[12],e[13]),e=this.contextData.savedOp[this.contextData.cArrPos],this.contextData.cO=e,this.globalData.currentGlobalAlpha!==e&&(this.canvasContext.globalAlpha=e,this.globalData.currentGlobalAlpha=e)}else this.canvasContext.restore()},CanvasRenderer.prototype.configAnimation=function(t){this.animationItem.wrapper?(this.animationItem.container=createTag("canvas"),this.animationItem.container.style.width="100%",this.animationItem.container.style.height="100%",this.animationItem.container.style.transformOrigin=this.animationItem.container.style.mozTransformOrigin=this.animationItem.container.style.webkitTransformOrigin=this.animationItem.container.style["-webkit-transform"]="0px 0px 0px",this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)):this.canvasContext=this.renderConfig.context,this.data=t,this.layers=t.layers,this.transformCanvas={w:t.w,h:t.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(t,document.body),this.globalData.canvasContext=this.canvasContext,(this.globalData.renderer=this).globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(t.layers.length),this.updateContainerSize()},CanvasRenderer.prototype.updateContainerSize=function(){var t,e,i,n,r,a,s;this.reset(),this.animationItem.wrapper&&this.animationItem.container?(t=this.animationItem.wrapper.offsetWidth,e=this.animationItem.wrapper.offsetHeight,this.animationItem.container.setAttribute("width",t*this.renderConfig.dpr),this.animationItem.container.setAttribute("height",e*this.renderConfig.dpr)):(t=this.canvasContext.canvas.width*this.renderConfig.dpr,e=this.canvasContext.canvas.height*this.renderConfig.dpr),-1!==this.renderConfig.preserveAspectRatio.indexOf("meet")||-1!==this.renderConfig.preserveAspectRatio.indexOf("slice")?(i=(s=this.renderConfig.preserveAspectRatio.split(" "))[1]||"meet",n=(a=s[0]||"xMidYMid").substr(0,4),r=a.substr(4),s=this.transformCanvas.w/this.transformCanvas.h,this.transformCanvas.sy=(a=t/e)<s&&"meet"===i||s<a&&"slice"===i?(this.transformCanvas.sx=t/(this.transformCanvas.w/this.renderConfig.dpr),t/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=e/(this.transformCanvas.h/this.renderConfig.dpr),e/(this.transformCanvas.h/this.renderConfig.dpr)),this.transformCanvas.tx="xMid"===n&&(s<a&&"meet"===i||a<s&&"slice"===i)?(t-this.transformCanvas.w*(e/this.transformCanvas.h))/2*this.renderConfig.dpr:"xMax"===n&&(s<a&&"meet"===i||a<s&&"slice"===i)?(t-this.transformCanvas.w*(e/this.transformCanvas.h))*this.renderConfig.dpr:0,this.transformCanvas.ty="YMid"===r&&(a<s&&"meet"===i||s<a&&"slice"===i)?(e-this.transformCanvas.h*(t/this.transformCanvas.w))/2*this.renderConfig.dpr:"YMax"===r&&(a<s&&"meet"===i||s<a&&"slice"===i)?(e-this.transformCanvas.h*(t/this.transformCanvas.w))*this.renderConfig.dpr:0):("none"==this.renderConfig.preserveAspectRatio?(this.transformCanvas.sx=t/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=e/(this.transformCanvas.h/this.renderConfig.dpr)):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0),this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRenderer.prototype.destroy=function(){var t;for(this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),t=(this.layers?this.layers.length:0)-1;0<=t;--t)this.elements[t]&&this.elements[t].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRenderer.prototype.renderFrame=function(t,e){if((this.renderedFrame!==t||!0!==this.renderConfig.clearCanvas||e)&&!this.destroyed&&-1!==t){this.renderedFrame=t,this.globalData.frameNum=t-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||e,this.globalData.projectInterface.currentFrame=t;var i,n=this.layers.length;for(this.completeLayers||this.checkLayers(t),i=0;i<n;i++)(this.completeLayers||this.elements[i])&&this.elements[i].prepareFrame(t-this.layers[i].st);if(this.globalData._mdf){for(!0===this.renderConfig.clearCanvas?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),i=n-1;0<=i;--i)(this.completeLayers||this.elements[i])&&this.elements[i].renderFrame();!0!==this.renderConfig.clearCanvas&&this.restore()}}},CanvasRenderer.prototype.buildItem=function(t){var e,i=this.elements;i[t]||99==this.layers[t].ty||(e=this.createItem(this.layers[t],this,this.globalData),(i[t]=e).initExpressions())},CanvasRenderer.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},CanvasRenderer.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRenderer.prototype.show=function(){this.animationItem.container.style.display="block"},extendPrototype([BaseRenderer],HybridRenderer),HybridRenderer.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRenderer.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},HybridRenderer.prototype.appendElementInPos=function(t,e){var i=t.getBaseElement();if(i){t=this.layers[e];if(t.ddd&&this.supports3d)this.addTo3dContainer(i,e);else if(this.threeDElements)this.addTo3dContainer(i,e);else{for(var n,r,a=0;a<e;)this.elements[a]&&!0!==this.elements[a]&&this.elements[a].getBaseElement&&(r=this.elements[a],n=(this.layers[a].ddd?this.getThreeDContainerByPos(a):r.getBaseElement())||n),a+=1;n?t.ddd&&this.supports3d||this.layerElement.insertBefore(i,n):t.ddd&&this.supports3d||this.layerElement.appendChild(i)}}},HybridRenderer.prototype.createShape=function(t){return new(this.supports3d?HShapeElement:SVGShapeElement)(t,this.globalData,this)},HybridRenderer.prototype.createText=function(t){return new(this.supports3d?HTextElement:SVGTextElement)(t,this.globalData,this)},HybridRenderer.prototype.createCamera=function(t){return this.camera=new HCameraElement(t,this.globalData,this),this.camera},HybridRenderer.prototype.createImage=function(t){return new(this.supports3d?HImageElement:IImageElement)(t,this.globalData,this)},HybridRenderer.prototype.createComp=function(t){return new(this.supports3d?HCompElement:SVGCompElement)(t,this.globalData,this)},HybridRenderer.prototype.createSolid=function(t){return new(this.supports3d?HSolidElement:ISolidElement)(t,this.globalData,this)},HybridRenderer.prototype.createNull=SVGRenderer.prototype.createNull,HybridRenderer.prototype.getThreeDContainerByPos=function(t){for(var e=0,i=this.threeDElements.length;e<i;){if(this.threeDElements[e].startPos<=t&&this.threeDElements[e].endPos>=t)return this.threeDElements[e].perspectiveElem;e+=1}},HybridRenderer.prototype.createThreeDContainer=function(t,e){var i=createTag("div");styleDiv(i);var n=createTag("div");styleDiv(n),"3d"===e&&(i.style.width=this.globalData.compSize.w+"px",i.style.height=this.globalData.compSize.h+"px",i.style.transformOrigin=i.style.mozTransformOrigin=i.style.webkitTransformOrigin="50% 50%",n.style.transform=n.style.webkitTransform="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)"),i.appendChild(n);e={container:n,perspectiveElem:i,startPos:t,endPos:t,type:e};return this.threeDElements.push(e),e},HybridRenderer.prototype.build3dContainers=function(){for(var t,e=this.layers.length,i="",n=0;n<e;n+=1)this.layers[n].ddd&&3!==this.layers[n].ty?"3d"!==i&&(t=this.createThreeDContainer(n,i="3d")):"2d"!==i&&(t=this.createThreeDContainer(n,i="2d")),t.endPos=Math.max(t.endPos,n);for(n=(e=this.threeDElements.length)-1;0<=n;n--)this.resizerElem.appendChild(this.threeDElements[n].perspectiveElem)},HybridRenderer.prototype.addTo3dContainer=function(t,e){for(var i=0,n=this.threeDElements.length;i<n;){if(e<=this.threeDElements[i].endPos){for(var r,a=this.threeDElements[i].startPos;a<e;)this.elements[a]&&this.elements[a].getBaseElement&&(r=this.elements[a].getBaseElement()),a+=1;r?this.threeDElements[i].container.insertBefore(t,r):this.threeDElements[i].container.appendChild(t);break}i+=1}},HybridRenderer.prototype.configAnimation=function(t){var e=createTag("div"),i=this.animationItem.wrapper;e.style.width=t.w+"px",e.style.height=t.h+"px",styleDiv(this.resizerElem=e),e.style.transformStyle=e.style.webkitTransformStyle=e.style.mozTransformStyle="flat",this.renderConfig.className&&e.setAttribute("class",this.renderConfig.className),i.appendChild(e),e.style.overflow="hidden";i=createNS("svg");i.setAttribute("width","1"),i.setAttribute("height","1"),styleDiv(i),this.resizerElem.appendChild(i);e=createNS("defs");i.appendChild(e),this.data=t,this.setupGlobalData(t,i),this.globalData.defs=e,this.layers=t.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRenderer.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;for(var t=this.layers?this.layers.length:0,e=0;e<t;e++)this.elements[e].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRenderer.prototype.updateContainerSize=function(){var t,e,i,n=this.animationItem.wrapper.offsetWidth,r=this.animationItem.wrapper.offsetHeight,r=n/r<this.globalData.compSize.w/this.globalData.compSize.h?(t=n/this.globalData.compSize.w,e=n/this.globalData.compSize.w,i=0,(r-this.globalData.compSize.h*(n/this.globalData.compSize.w))/2):(t=r/this.globalData.compSize.h,e=r/this.globalData.compSize.h,i=(n-this.globalData.compSize.w*(r/this.globalData.compSize.h))/2,0);this.resizerElem.style.transform=this.resizerElem.style.webkitTransform="matrix3d("+t+",0,0,0,0,"+e+",0,0,0,0,1,0,"+i+","+r+",0,1)"},HybridRenderer.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRenderer.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRenderer.prototype.show=function(){this.resizerElem.style.display="block"},HybridRenderer.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else for(var t=this.globalData.compSize.w,e=this.globalData.compSize.h,i=this.threeDElements.length,n=0;n<i;n+=1)this.threeDElements[n].perspectiveElem.style.perspective=this.threeDElements[n].perspectiveElem.style.webkitPerspective=Math.sqrt(Math.pow(t,2)+Math.pow(e,2))+"px"},HybridRenderer.prototype.searchExtraCompositions=function(t){for(var e,i=t.length,n=createTag("div"),r=0;r<i;r+=1)t[r].xt&&((e=this.createComp(t[r],n,this.globalData.comp,null)).initExpressions(),this.globalData.projectInterface.registerComposition(e))},MaskElement.prototype.getMaskProperty=function(t){return this.viewData[t].prop},MaskElement.prototype.renderFrame=function(t){for(var e,i=this.element.finalTransform.mat,n=this.masksProperties.length,r=0;r<n;r++)(this.viewData[r].prop._mdf||t)&&this.drawPath(this.masksProperties[r],this.viewData[r].prop.v,this.viewData[r]),(this.viewData[r].op._mdf||t)&&this.viewData[r].elem.setAttribute("fill-opacity",this.viewData[r].op.v),"n"!==this.masksProperties[r].mode&&(this.viewData[r].invRect&&(this.element.finalTransform.mProp._mdf||t)&&this.viewData[r].invRect.setAttribute("transform",i.getInverseMatrix().to2dCSS()),this.storedData[r].x&&(this.storedData[r].x._mdf||t))&&(e=this.storedData[r].expan,this.storedData[r].x.v<0?("erode"!==this.storedData[r].lastOperator&&(this.storedData[r].lastOperator="erode",this.storedData[r].elem.setAttribute("filter","url("+locationHref+"#"+this.storedData[r].filterId+")")),e.setAttribute("radius",-this.storedData[r].x.v)):("dilate"!==this.storedData[r].lastOperator&&(this.storedData[r].lastOperator="dilate",this.storedData[r].elem.setAttribute("filter",null)),this.storedData[r].elem.setAttribute("stroke-width",2*this.storedData[r].x.v)))},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var t="M0,0 ";return t+=" h"+this.globalData.compSize.w,t+=" v"+this.globalData.compSize.h,(t+=" h-"+this.globalData.compSize.w)+(" v-"+this.globalData.compSize.h)+" "},MaskElement.prototype.drawPath=function(t,e,i){for(var n,r=" M"+e.v[0][0]+","+e.v[0][1],a=e._length,s=1;s<a;s+=1)r+=" C"+e.o[s-1][0]+","+e.o[s-1][1]+" "+e.i[s][0]+","+e.i[s][1]+" "+e.v[s][0]+","+e.v[s][1];e.c&&1<a&&(r+=" C"+e.o[s-1][0]+","+e.o[s-1][1]+" "+e.i[0][0]+","+e.i[0][1]+" "+e.v[0][0]+","+e.v[0][1]),i.lastPath!==r&&(n="",i.elem&&(e.c&&(n=t.inv?this.solidPath+r:r),i.elem.setAttribute("d",n)),i.lastPath=r)},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null},HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(t){this.hierarchy=t},setAsParent:function(){this._isParent=!0},checkParenting:function(){void 0!==this.data.parent&&this.comp.buildElementParenting(this,this.data.parent,[])}},FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(t,e){for(var i=this.dynamicProperties.length,n=0;n<i;n+=1)(e||this._isParent&&"transform"===this.dynamicProperties[n].propType)&&(this.dynamicProperties[n].getValue(),this.dynamicProperties[n]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(t){-1===this.dynamicProperties.indexOf(t)&&this.dynamicProperties.push(t)}},TransformElement.prototype={initTransform:function(){this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_opMdf:!1,mat:new Matrix},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var t,e=this.finalTransform.mat,i=0,n=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;i<n;){if(this.hierarchy[i].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}i+=1}if(this.finalTransform._matMdf)for(t=this.finalTransform.mProp.v.props,e.cloneFromProps(t),i=0;i<n;i+=1)t=this.hierarchy[i].finalTransform.mProp.v.props,e.transform(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])}},globalToLocal:function(t){var e=[];e.push(this.finalTransform);for(var i=!0,n=this.comp;i;)n.finalTransform?(n.data.hasMask&&e.splice(0,0,n.finalTransform),n=n.comp):i=!1;for(var r,a=e.length,s=0;s<a;s+=1)r=e[s].mat.applyToPointArray(0,0,0),t=[t[0]-r[0],t[1]-r[1],0];return t},mHelper:new Matrix},RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(t){-1===this.renderableComponents.indexOf(t)&&this.renderableComponents.push(t)},removeRenderableComponent:function(t){-1!==this.renderableComponents.indexOf(t)&&this.renderableComponents.splice(this.renderableComponents.indexOf(t),1)},prepareRenderableFrame:function(t){this.checkLayerLimits(t)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(t){this.data.ip-this.data.st<=t&&this.data.op-this.data.st>t?!0!==this.isInRange&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):!1!==this.isInRange&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){for(var t=this.renderableComponents.length,e=0;e<t;e+=1)this.renderableComponents[e].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return 5===this.data.ty?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}},extendPrototype([RenderableElement,createProxyFunction({initElement:function(t,e,i){this.initFrame(),this.initBaseData(t,e,i),this.initTransform(t,e,i),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){this.hidden||this.isInRange&&!this.isTransparent||((this.baseElement||this.layerElement).style.display="none",this.hidden=!0)},show:function(){this.isInRange&&!this.isTransparent&&(this.data.hd||((this.baseElement||this.layerElement).style.display="block"),this.hidden=!1,this._isFirstFrame=!0)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(t){this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}})],RenderableDOMElement),SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1},SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0},extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData),extendPrototype([DynamicPropertyContainer],SVGFillStyleData),SVGGradientFillStyleData.prototype.initGradientData=function(t,e,i){this.o=PropertyFactory.getProp(t,e.o,0,.01,this),this.s=PropertyFactory.getProp(t,e.s,1,null,this),this.e=PropertyFactory.getProp(t,e.e,1,null,this),this.h=PropertyFactory.getProp(t,e.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(t,e.a||{k:0},0,degToRads,this),this.g=new GradientProperty(t,e.g,this),this.style=i,this.stops=[],this.setGradientData(i.pElem,e),this.setGradientOpacity(e,i),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(t,e){var i=createElementID(),n=createNS(1===e.t?"linearGradient":"radialGradient");n.setAttribute("id",i),n.setAttribute("spreadMethod","pad"),n.setAttribute("gradientUnits","userSpaceOnUse");for(var r,a=[],s=4*e.g.p,o=0;o<s;o+=4)r=createNS("stop"),n.appendChild(r),a.push(r);t.setAttribute("gf"===e.ty?"fill":"stroke","url("+locationHref+"#"+i+")"),this.gf=n,this.cst=a},SVGGradientFillStyleData.prototype.setGradientOpacity=function(t,e){if(this.g._hasOpacity&&!this.g._collapsable){var i,n=createNS("mask"),r=createNS("path");n.appendChild(r);var a=createElementID(),s=createElementID();n.setAttribute("id",s);var o=createNS(1===t.t?"linearGradient":"radialGradient");o.setAttribute("id",a),o.setAttribute("spreadMethod","pad"),o.setAttribute("gradientUnits","userSpaceOnUse");for(var l=(t.g.k.k[0].s||t.g.k.k).length,h=this.stops,c=4*t.g.p;c<l;c+=2)(i=createNS("stop")).setAttribute("stop-color","rgb(255,255,255)"),o.appendChild(i),h.push(i);r.setAttribute("gf"===t.ty?"fill":"stroke","url("+locationHref+"#"+a+")"),this.of=o,this.ms=n,this.ost=h,this.maskId=s,e.msElem=r}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData),extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);var SVGElementsRenderer=(w6a=new Matrix,x6a=new Matrix,{createRenderFunction:function(t){switch(t.ty,t.ty){case"fl":return A6a;case"gf":return C6a;case"gs":return B6a;case"st":return D6a;case"sh":case"el":case"rc":case"sr":return z6a;case"tr":return y6a}}}),w6a,x6a;function y6a(t,e,i){(i||e.transform.op._mdf)&&e.transform.container.setAttribute("opacity",e.transform.op.v),(i||e.transform.mProps._mdf)&&e.transform.container.setAttribute("transform",e.transform.mProps.v.to2dCSS())}function z6a(t,e,i){for(var n,r,a,s,o,l,h,c,p,u,m=e.styles.length,d=e.lvl,f=0;f<m;f+=1){if(s=e.sh._mdf||i,e.styles[f].lvl<d){for(h=x6a.reset(),p=d-e.styles[f].lvl,u=e.transformers.length-1;!s&&0<p;)s=e.transformers[u].mProps._mdf||s,p--,u--;if(s)for(p=d-e.styles[f].lvl,u=e.transformers.length-1;0<p;)c=e.transformers[u].mProps.v.props,h.transform(c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7],c[8],c[9],c[10],c[11],c[12],c[13],c[14],c[15]),p--,u--}else h=w6a;if(r=(l=e.sh.paths)._length,s){for(a="",n=0;n<r;n+=1)(o=l.shapes[n])&&o._length&&(a+=buildShapeString(o,o._length,o.c,h));e.caches[f]=a}else a=e.caches[f];e.styles[f].d+=!0===t.hd?"":a,e.styles[f]._mdf=s||e.styles[f]._mdf}}function A6a(t,e,i){var n=e.style;(e.c._mdf||i)&&n.pElem.setAttribute("fill","rgb("+bm_floor(e.c.v[0])+","+bm_floor(e.c.v[1])+","+bm_floor(e.c.v[2])+")"),(e.o._mdf||i)&&n.pElem.setAttribute("fill-opacity",e.o.v)}function B6a(t,e,i){C6a(t,e,i),D6a(0,e,i)}function C6a(t,e,i){var n,r,a,s,o=e.gf,l=e.g._hasOpacity,h=e.s.v,c=e.e.v;if((e.o._mdf||i)&&(a="gf"===t.ty?"fill-opacity":"stroke-opacity",e.style.pElem.setAttribute(a,e.o.v)),(e.s._mdf||i)&&(a="x1"==(r=1===t.t?"x1":"cx")?"y1":"cy",o.setAttribute(r,h[0]),o.setAttribute(a,h[1]),l&&!e.g._collapsable&&(e.of.setAttribute(r,h[0]),e.of.setAttribute(a,h[1]))),e.g._cmdf||i)for(var p=e.cst,u=e.g.c,m=p.length,d=0;d<m;d+=1)(n=p[d]).setAttribute("offset",u[4*d]+"%"),n.setAttribute("stop-color","rgb("+u[4*d+1]+","+u[4*d+2]+","+u[4*d+3]+")");if(l&&(e.g._omdf||i)){var f=e.g.o;for(m=(p=e.g._collapsable?e.cst:e.ost).length,d=0;d<m;d+=1)n=p[d],e.g._collapsable||n.setAttribute("offset",f[2*d]+"%"),n.setAttribute("stop-opacity",f[2*d+1])}1===t.t?(e.e._mdf||i)&&(o.setAttribute("x2",c[0]),o.setAttribute("y2",c[1]),l&&!e.g._collapsable&&(e.of.setAttribute("x2",c[0]),e.of.setAttribute("y2",c[1]))):((e.s._mdf||e.e._mdf||i)&&(s=Math.sqrt(Math.pow(h[0]-c[0],2)+Math.pow(h[1]-c[1],2)),o.setAttribute("r",s),l&&!e.g._collapsable&&e.of.setAttribute("r",s)),(e.e._mdf||e.h._mdf||e.a._mdf||i)&&(s=s||Math.sqrt(Math.pow(h[0]-c[0],2)+Math.pow(h[1]-c[1],2)),i=Math.atan2(c[1]-h[1],c[0]-h[0]),c=s*(1<=e.h.v?.99:e.h.v<=-1?-.99:e.h.v),s=Math.cos(i+e.a.v)*c+h[0],h=Math.sin(i+e.a.v)*c+h[1],o.setAttribute("fx",s),o.setAttribute("fy",h),l&&!e.g._collapsable&&(e.of.setAttribute("fx",s),e.of.setAttribute("fy",h))))}function D6a(t,e,i){var n=e.style,r=e.d;r&&(r._mdf||i)&&r.dashStr&&(n.pElem.setAttribute("stroke-dasharray",r.dashStr),n.pElem.setAttribute("stroke-dashoffset",r.dashoffset[0])),e.c&&(e.c._mdf||i)&&n.pElem.setAttribute("stroke","rgb("+bm_floor(e.c.v[0])+","+bm_floor(e.c.v[1])+","+bm_floor(e.c.v[2])+")"),(e.o._mdf||i)&&n.pElem.setAttribute("stroke-opacity",e.o.v),(e.w._mdf||i)&&(n.pElem.setAttribute("stroke-width",e.w.v),n.msElem&&n.msElem.setAttribute("stroke-width",e.w.v))}function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}function CVShapeData(t,e,i,n){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var r=4;"rc"==e.ty?r=5:"el"==e.ty?r=6:"sr"==e.ty&&(r=7),this.sh=ShapePropertyFactory.getShapeProp(t,e,r,t);for(var a,s=i.length,o=0;o<s;o+=1)i[o].closed||(a={transforms:n.addTransformSequence(i[o].transforms),trNodes:[]},this.styledShapes.push(a),i[o].elements.push(a))}function BaseElement(){}function NullElement(t,e,i){this.initFrame(),this.initBaseData(t,e,i),this.initFrame(),this.initTransform(t,e,i),this.initHierarchy()}function SVGBaseElement(){}function IShapeElement(){}function ITextElement(){}function ICompElement(){}function IImageElement(t,e,i){this.assetData=e.getAssetData(t.refId),this.initElement(t,e,i),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}function ISolidElement(t,e,i){this.initElement(t,e,i)}function AudioElement(t,e,i){this.initFrame(),this.initRenderable(),this.assetData=e.getAssetData(t.refId),this.initBaseData(t,e,i),this._isPlaying=!1,this._canPlay=!1;i=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(i),this._currentTime=0,this.globalData.audioController.addAudio(this),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}function SVGCompElement(t,e,i){this.layers=t.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(t,e,i),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}function SVGTextElement(t,e,i){this.textSpans=[],this.renderType="svg",this.initElement(t,e,i)}function SVGShapeElement(t,e,i){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(t,e,i),this.prevViewData=[]}function SVGTintFilter(t,e){this.filterManager=e;var i=createNS("feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("color-interpolation-filters","linearRGB"),i.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),i.setAttribute("result","f1"),t.appendChild(i),(i=createNS("feColorMatrix")).setAttribute("type","matrix"),i.setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),i.setAttribute("result","f2"),t.appendChild(i),this.matrixFilter=i,100===e.effectElements[2].p.v&&!e.effectElements[2].p.k||(e=createNS("feMerge"),t.appendChild(e),(t=createNS("feMergeNode")).setAttribute("in","SourceGraphic"),e.appendChild(t),(t=createNS("feMergeNode")).setAttribute("in","f2"),e.appendChild(t))}function SVGFillFilter(t,e){this.filterManager=e;e=createNS("feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("color-interpolation-filters","sRGB"),e.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),t.appendChild(e),this.matrixFilter=e}function SVGGaussianBlurEffect(t,e){t.setAttribute("x","-100%"),t.setAttribute("y","-100%"),t.setAttribute("width","300%"),t.setAttribute("height","300%"),this.filterManager=e;e=createNS("feGaussianBlur");t.appendChild(e),this.feGaussianBlur=e}function SVGStrokeEffect(t,e){this.initialized=!1,this.filterManager=e,this.elem=t,this.paths=[]}function SVGTritoneFilter(t,e){this.filterManager=e;e=createNS("feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("color-interpolation-filters","linearRGB"),e.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),e.setAttribute("result","f1"),t.appendChild(e);e=createNS("feComponentTransfer");e.setAttribute("color-interpolation-filters","sRGB"),t.appendChild(e),this.matrixFilter=e;t=createNS("feFuncR");t.setAttribute("type","table"),e.appendChild(t),this.feFuncR=t;t=createNS("feFuncG");t.setAttribute("type","table"),e.appendChild(t),this.feFuncG=t;t=createNS("feFuncB");t.setAttribute("type","table"),e.appendChild(t),this.feFuncB=t}function SVGProLevelsFilter(t,e){this.filterManager=e;var i=this.filterManager.effectElements,e=createNS("feComponentTransfer");(i[10].p.k||0!==i[10].p.v||i[11].p.k||1!==i[11].p.v||i[12].p.k||1!==i[12].p.v||i[13].p.k||0!==i[13].p.v||i[14].p.k||1!==i[14].p.v)&&(this.feFuncR=this.createFeFunc("feFuncR",e)),(i[17].p.k||0!==i[17].p.v||i[18].p.k||1!==i[18].p.v||i[19].p.k||1!==i[19].p.v||i[20].p.k||0!==i[20].p.v||i[21].p.k||1!==i[21].p.v)&&(this.feFuncG=this.createFeFunc("feFuncG",e)),(i[24].p.k||0!==i[24].p.v||i[25].p.k||1!==i[25].p.v||i[26].p.k||1!==i[26].p.v||i[27].p.k||0!==i[27].p.v||i[28].p.k||1!==i[28].p.v)&&(this.feFuncB=this.createFeFunc("feFuncB",e)),(i[31].p.k||0!==i[31].p.v||i[32].p.k||1!==i[32].p.v||i[33].p.k||1!==i[33].p.v||i[34].p.k||0!==i[34].p.v||i[35].p.k||1!==i[35].p.v)&&(this.feFuncA=this.createFeFunc("feFuncA",e)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(e.setAttribute("color-interpolation-filters","sRGB"),t.appendChild(e),e=createNS("feComponentTransfer")),(i[3].p.k||0!==i[3].p.v||i[4].p.k||1!==i[4].p.v||i[5].p.k||1!==i[5].p.v||i[6].p.k||0!==i[6].p.v||i[7].p.k||1!==i[7].p.v)&&(e.setAttribute("color-interpolation-filters","sRGB"),t.appendChild(e),this.feFuncRComposed=this.createFeFunc("feFuncR",e),this.feFuncGComposed=this.createFeFunc("feFuncG",e),this.feFuncBComposed=this.createFeFunc("feFuncB",e))}function SVGDropShadowEffect(t,e){var i=e.container.globalData.renderConfig.filterSize;t.setAttribute("x",i.x),t.setAttribute("y",i.y),t.setAttribute("width",i.width),t.setAttribute("height",i.height),this.filterManager=e;e=createNS("feGaussianBlur");e.setAttribute("in","SourceAlpha"),e.setAttribute("result","drop_shadow_1"),e.setAttribute("stdDeviation","0"),this.feGaussianBlur=e,t.appendChild(e);e=createNS("feOffset");e.setAttribute("dx","25"),e.setAttribute("dy","0"),e.setAttribute("in","drop_shadow_1"),e.setAttribute("result","drop_shadow_2"),this.feOffset=e,t.appendChild(e);e=createNS("feFlood");e.setAttribute("flood-color","#00ff00"),e.setAttribute("flood-opacity","1"),e.setAttribute("result","drop_shadow_3"),this.feFlood=e,t.appendChild(e);e=createNS("feComposite");e.setAttribute("in","drop_shadow_3"),e.setAttribute("in2","drop_shadow_2"),e.setAttribute("operator","in"),e.setAttribute("result","drop_shadow_4"),t.appendChild(e);e=createNS("feMerge");t.appendChild(e),t=createNS("feMergeNode"),e.appendChild(t),(t=createNS("feMergeNode")).setAttribute("in","SourceGraphic"),this.feMergeNode=t,this.feMerge=e,this.originalNodeAdded=!1,e.appendChild(t)}ShapeTransformManager.prototype={addTransformSequence:function(t){for(var e=t.length,i="_",n=0;n<e;n+=1)i+=t[n].transform.key+"_";var r=this.sequences[i];return r||(r={transforms:[].concat(t),finalTransform:new Matrix,_mdf:!1},this.sequences[i]=r,this.sequenceList.push(r)),r},processSequence:function(t,e){for(var i,n=0,r=t.transforms.length,a=e;n<r&&!e;){if(t.transforms[n].transform.mProps._mdf){a=!0;break}n+=1}if(a)for(t.finalTransform.reset(),n=r-1;0<=n;--n)i=t.transforms[n].transform.mProps.v.props,t.finalTransform.transform(i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7],i[8],i[9],i[10],i[11],i[12],i[13],i[14],i[15]);t._mdf=a},processSequences:function(t){for(var e=this.sequenceList.length,i=0;i<e;i+=1)this.processSequence(this.sequenceList[i],t)},getNewKey:function(){return"_"+this.transform_key_count++}},CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated,BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var t=0,e=this.data.masksProperties.length;t<e;){if("n"!==this.data.masksProperties[t].mode&&!1!==this.data.masksProperties[t].cl)return!0;t+=1}return!1},initExpressions:function(){this.layerInterface=LayerExpressionInterface(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var t=EffectsExpressionInterface.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(t),0===this.data.ty||this.data.xt?this.compInterface=CompExpressionInterface(this):4===this.data.ty?(this.layerInterface.shapeInterface=ShapeExpressionInterface(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):5===this.data.ty&&(this.layerInterface.textInterface=TextExpressionInterface(this),this.layerInterface.text=this.layerInterface.textInterface)},setBlendMode:function(){var t=getBlendMode(this.data.bm);(this.baseElement||this.layerElement).style["mix-blend-mode"]=t},initBaseData:function(t,e,i){this.globalData=e,this.comp=i,this.data=t,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}},NullElement.prototype.prepareFrame=function(t){this.prepareProperties(t,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement),SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var t,e,i,n,r,a,s,o=null;this.data.td?3==this.data.td||1==this.data.td?((n=createNS("mask")).setAttribute("id",this.layerId),n.setAttribute("mask-type",3==this.data.td?"luminance":"alpha"),n.appendChild(this.layerElement),this.globalData.defs.appendChild(o=n),featureSupport.maskType||1!=this.data.td||(n.setAttribute("mask-type","luminance"),t=createElementID(),e=filtersFactory.createFilter(t),this.globalData.defs.appendChild(e),e.appendChild(filtersFactory.createAlphaToLuminanceFilter()),(r=createNS("g")).appendChild(this.layerElement),o=r,n.appendChild(r),r.setAttribute("filter","url("+locationHref+"#"+t+")"))):2==this.data.td&&((a=createNS("mask")).setAttribute("id",this.layerId),a.setAttribute("mask-type","alpha"),s=createNS("g"),a.appendChild(s),t=createElementID(),e=filtersFactory.createFilter(t),(i=createNS("feComponentTransfer")).setAttribute("in","SourceGraphic"),e.appendChild(i),(n=createNS("feFuncA")).setAttribute("type","table"),n.setAttribute("tableValues","1.0 0.0"),i.appendChild(n),this.globalData.defs.appendChild(e),(n=createNS("rect")).setAttribute("width",this.comp.data.w),n.setAttribute("height",this.comp.data.h),n.setAttribute("x","0"),n.setAttribute("y","0"),n.setAttribute("fill","#ffffff"),n.setAttribute("opacity","0"),s.setAttribute("filter","url("+locationHref+"#"+t+")"),s.appendChild(n),s.appendChild(this.layerElement),o=s,featureSupport.maskType||(a.setAttribute("mask-type","luminance"),e.appendChild(filtersFactory.createAlphaToLuminanceFilter()),r=createNS("g"),s.appendChild(n),r.appendChild(this.layerElement),o=r,s.appendChild(r)),this.globalData.defs.appendChild(a)):this.data.tt?(this.matteElement.appendChild(this.layerElement),o=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0!==this.data.ty||this.data.hd||(s=createNS("clipPath"),(r=createNS("path")).setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z"),a=createElementID(),s.setAttribute("id",a),s.appendChild(r),this.globalData.defs.appendChild(s),this.checkMasks()?((s=createNS("g")).setAttribute("clip-path","url("+locationHref+"#"+a+")"),s.appendChild(this.layerElement),this.transformedElement=s,o?o.appendChild(this.transformedElement):this.baseElement=this.transformedElement):this.layerElement.setAttribute("clip-path","url("+locationHref+"#"+a+")")),0!==this.data.bm&&this.setBlendMode()},renderElement:function(){this.finalTransform._matMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.mat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.mProp.o.v)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this)},setMatte:function(t){this.matteElement&&this.matteElement.setAttribute("mask","url("+locationHref+"#"+t+")")}},IShapeElement.prototype={addShapeToModifiers:function(t){for(var e=this.shapeModifiers.length,i=0;i<e;i+=1)this.shapeModifiers[i].addShape(t)},isShapeInAnimatedModifiers:function(t){for(var e=this.shapeModifiers.length;0<e;)if(this.shapeModifiers[0].isAnimatedWithShape(t))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){for(var t=this.shapes.length,e=0;e<t;e+=1)this.shapes[e].sh.reset();for(e=(t=this.shapeModifiers.length)-1;0<=e;--e)this.shapeModifiers[e].processShapes(this._isFirstFrame)}},lcEnum:{1:"butt",2:"round",3:"square"},ljEnum:{1:"miter",2:"round",3:"bevel"},searchProcessedElement:function(t){for(var e=this.processedElements,i=0,n=e.length;i<n;){if(e[i].elem===t)return e[i].pos;i+=1}return 0},addProcessedElement:function(t,e){for(var i=this.processedElements,n=i.length;n;)if(i[--n].elem===t)return void(i[n].pos=e);i.push(new ProcessedElement(t,e))},prepareFrame:function(t){this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange)}},ITextElement.prototype.initElement=function(t,e,i){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(t,e,i),this.textProperty=new TextProperty(this,t.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(t.t,this.renderType,this),this.initTransform(t,e,i),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(t){this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange),(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)},ITextElement.prototype.createPathShape=function(t,e){for(var i,n=e.length,r="",a=0;a<n;a+=1)i=e[a].ks.k,r+=buildShapeString(i,i.i.length,!0,t);return r},ITextElement.prototype.updateDocumentData=function(t,e){this.textProperty.updateDocumentData(t,e)},ITextElement.prototype.canResizeFont=function(t){this.textProperty.canResizeFont(t)},ITextElement.prototype.setMinimumFontSize=function(t){this.textProperty.setMinimumFontSize(t)},ITextElement.prototype.applyTextPropertiesToMatrix=function(t,e,i,n,r){switch(t.ps&&e.translate(t.ps[0],t.ps[1]+t.ascent,0),e.translate(0,-t.ls,0),t.j){case 1:e.translate(t.justifyOffset+(t.boxWidth-t.lineWidths[i]),0,0);break;case 2:e.translate(t.justifyOffset+(t.boxWidth-t.lineWidths[i])/2,0,0)}e.translate(n,r,0)},ITextElement.prototype.buildColor=function(t){return"rgb("+Math.round(255*t[0])+","+Math.round(255*t[1])+","+Math.round(255*t[2])+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(t,e,i){this.initFrame(),this.initBaseData(t,e,i),this.initTransform(t,e,i),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),!this.data.xt&&e.progressiveLoad||this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(t){if(this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange),this.isInRange||this.data.xt){this.tm._placeholder?this.renderedFrame=t/this.data.sr:((i=this.tm.v)===this.data.op&&(i=this.data.op-1),this.renderedFrame=i);var e,i=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),e=i-1;0<=e;--e)(this.completeLayers||this.elements[e])&&(this.elements[e].prepareFrame(this.renderedFrame-this.layers[e].st),this.elements[e]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){for(var t=this.layers.length,e=0;e<t;e+=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame()},ICompElement.prototype.setElements=function(t){this.elements=t},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){for(var t=this.layers.length,e=0;e<t;e+=1)this.elements[e]&&this.elements[e].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()},extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var t=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",t),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect},extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var t=createNS("rect");t.setAttribute("width",this.data.sw),t.setAttribute("height",this.data.sh),t.setAttribute("fill",this.data.sc),this.layerElement.appendChild(t)},AudioElement.prototype.prepareFrame=function(t){this.prepareRenderableFrame(t,!0),this.prepareProperties(t,!0),this.tm._placeholder?this._currentTime=t/this.data.sr:(t=this.tm.v,this._currentTime=t)},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||.1<Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek()))&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(t){this.audio.rate(t)},AudioElement.prototype.volume=function(t){this.audio.volume(t)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){},extendPrototype([SVGRenderer,ICompElement,SVGBaseElement],SVGCompElement),extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextElement),SVGTextElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextElement.prototype.buildTextContents=function(t){for(var e=0,i=t.length,n=[],r="";e<i;)t[e]===String.fromCharCode(13)||t[e]===String.fromCharCode(3)?(n.push(r),r=""):r+=t[e],e+=1;return n.push(r),n},SVGTextElement.prototype.buildNewText=function(){var t=this.textProperty.currentData;this.renderedLetters=createSizedArray(t?t.l.length:0),t.fc?this.layerElement.setAttribute("fill",this.buildColor(t.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),t.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(t.sc)),this.layerElement.setAttribute("stroke-width",t.sw)),this.layerElement.setAttribute("font-size",t.finalSize);var e,i,n=this.globalData.fontManager.getFontByName(t.f);n.fClass?this.layerElement.setAttribute("class",n.fClass):(this.layerElement.setAttribute("font-family",n.fFamily),e=t.fWeight,i=t.fStyle,this.layerElement.setAttribute("font-style",i),this.layerElement.setAttribute("font-weight",e)),this.layerElement.setAttribute("aria-label",t.t);var r,a=t.l||[],s=!!this.globalData.fontManager.chars;b=a.length;var o=this.mHelper,l="",h=this.data.singleShape,c=0,p=0,u=!0,m=t.tr/1e3*t.finalSize;if(!h||s||t.sz){for(var d,f=this.textSpans.length,g=0;g<b;g+=1)s&&h&&0!==g||(r=g<f?this.textSpans[g]:createNS(s?"path":"text"),f<=g&&(r.setAttribute("stroke-linecap","butt"),r.setAttribute("stroke-linejoin","round"),r.setAttribute("stroke-miterlimit","4"),this.textSpans[g]=r,this.layerElement.appendChild(r)),r.style.display="inherit"),o.reset(),o.scale(t.finalSize/100,t.finalSize/100),h&&(a[g].n&&(c=-m,p+=t.yOffset,p+=u?1:0,u=!1),this.applyTextPropertiesToMatrix(t,o,a[g].line,c,p),c+=a[g].l||0,c+=m),s?(d=(d=(d=this.globalData.fontManager.getCharData(t.finalText[g],n.fStyle,this.globalData.fontManager.getFontByName(t.f).fFamily))&&d.data||{}).shapes?d.shapes[0].it:[],h?l+=this.createPathShape(o,d):r.setAttribute("d",this.createPathShape(o,d))):(h&&r.setAttribute("transform","translate("+o.props[12]+","+o.props[13]+")"),r.textContent=a[g].val,r.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"));h&&r&&r.setAttribute("d",l)}else{var y=this.textContainer,v="start";switch(t.j){case 1:v="end";break;case 2:v="middle"}y.setAttribute("text-anchor",v),y.setAttribute("letter-spacing",m);var _=this.buildTextContents(t.finalText),b=_.length,p=t.ps?t.ps[1]+t.ascent:0;for(g=0;g<b;g+=1)(r=this.textSpans[g]||createNS("tspan")).textContent=_[g],r.setAttribute("x",0),r.setAttribute("y",p),r.style.display="inherit",y.appendChild(r),this.textSpans[g]=r,p+=t.finalLineHeight;this.layerElement.appendChild(y)}for(;g<this.textSpans.length;)this.textSpans[g].style.display="none",g+=1;this._sizeChanged=!0},SVGTextElement.prototype.sourceRectAtTime=function(t){var e;return this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged&&(this._sizeChanged=!1,e=this.layerElement.getBBox(),this.bbox={top:e.y,left:e.x,width:e.width,height:e.height}),this.bbox},SVGTextElement.prototype.renderInnerContent=function(){if(!this.data.singleShape&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){this._sizeChanged=!0;for(var t,e,i=this.textAnimator.renderedLetters,n=this.textProperty.currentData.l,r=n.length,a=0;a<r;a+=1)n[a].n||(t=i[a],e=this.textSpans[a],t._mdf.m&&e.setAttribute("transform",t.m),t._mdf.o&&e.setAttribute("opacity",t.o),t._mdf.sw&&e.setAttribute("stroke-width",t.sw),t._mdf.sc&&e.setAttribute("stroke",t.sc),t._mdf.fc&&e.setAttribute("fill",t.fc))}},extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){for(var t,e,i,n=this.shapes.length,r=this.stylesList.length,a=[],s=!1,o=0;o<r;o+=1){for(i=this.stylesList[o],s=!1,t=a.length=0;t<n;t+=1)-1!==(e=this.shapes[t]).styles.indexOf(i)&&(a.push(e),s=e._isAnimated||s);1<a.length&&s&&this.setShapesAsAnimated(a)}},SVGShapeElement.prototype.setShapesAsAnimated=function(t){for(var e=t.length,i=0;i<e;i+=1)t[i].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(t,e){var i,n=new SVGStyleData(t,e),e=n.pElem;return"st"===t.ty?i=new SVGStrokeStyleData(this,t,n):"fl"===t.ty?i=new SVGFillStyleData(this,t,n):"gf"!==t.ty&&"gs"!==t.ty||(i=new("gf"===t.ty?SVGGradientFillStyleData:SVGGradientStrokeStyleData)(this,t,n),this.globalData.defs.appendChild(i.gf),i.maskId&&(this.globalData.defs.appendChild(i.ms),this.globalData.defs.appendChild(i.of),e.setAttribute("mask","url("+locationHref+"#"+i.maskId+")"))),"st"!==t.ty&&"gs"!==t.ty||(e.setAttribute("stroke-linecap",this.lcEnum[t.lc]||"round"),e.setAttribute("stroke-linejoin",this.ljEnum[t.lj]||"round"),e.setAttribute("fill-opacity","0"),1===t.lj&&e.setAttribute("stroke-miterlimit",t.ml)),2===t.r&&e.setAttribute("fill-rule","evenodd"),t.ln&&e.setAttribute("id",t.ln),t.cl&&e.setAttribute("class",t.cl),t.bm&&(e.style["mix-blend-mode"]=getBlendMode(t.bm)),this.stylesList.push(n),this.addToAnimatedContents(t,i),i},SVGShapeElement.prototype.createGroupElement=function(t){var e=new ShapeGroupData;return t.ln&&e.gr.setAttribute("id",t.ln),t.cl&&e.gr.setAttribute("class",t.cl),t.bm&&(e.gr.style["mix-blend-mode"]=getBlendMode(t.bm)),e},SVGShapeElement.prototype.createTransformElement=function(t,e){var i=TransformPropertyFactory.getTransformProperty(this,t,this),e=new SVGTransformData(i,i.o,e);return this.addToAnimatedContents(t,e),e},SVGShapeElement.prototype.createShapeElement=function(t,e,i){var n=4;"rc"===t.ty?n=5:"el"===t.ty?n=6:"sr"===t.ty&&(n=7);n=new SVGShapeData(e,i,ShapePropertyFactory.getShapeProp(this,t,n,this));return this.shapes.push(n),this.addShapeToModifiers(n),this.addToAnimatedContents(t,n),n},SVGShapeElement.prototype.addToAnimatedContents=function(t,e){for(var i=0,n=this.animatedContents.length;i<n;){if(this.animatedContents[i].element===e)return;i+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(t),element:e,data:t})},SVGShapeElement.prototype.setElementStyles=function(t){for(var e=t.styles,i=this.stylesList.length,n=0;n<i;n+=1)this.stylesList[n].closed||e.push(this.stylesList[n])},SVGShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;for(var t=this.itemsData.length,e=0;e<t;e+=1)this.prevViewData[e]=this.itemsData[e];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),t=this.dynamicProperties.length,e=0;e<t;e+=1)this.dynamicProperties[e].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(t,e,i,n,r,a,s){for(var o,l,h,c,p,u=[].concat(a),m=t.length-1,d=[],f=[],g=m;0<=g;--g){if((p=this.searchProcessedElement(t[g]))?e[g]=i[p-1]:t[g]._render=s,"fl"==t[g].ty||"st"==t[g].ty||"gf"==t[g].ty||"gs"==t[g].ty)p?e[g].style.closed=!1:e[g]=this.createStyleElement(t[g],r),t[g]._render&&n.appendChild(e[g].style.pElem),d.push(e[g].style);else if("gr"==t[g].ty){if(p)for(l=e[g].it.length,o=0;o<l;o+=1)e[g].prevViewData[o]=e[g].it[o];else e[g]=this.createGroupElement(t[g]);this.searchShapes(t[g].it,e[g].it,e[g].prevViewData,e[g].gr,r+1,u,s),t[g]._render&&n.appendChild(e[g].gr)}else"tr"==t[g].ty?(p||(e[g]=this.createTransformElement(t[g],n)),h=e[g].transform,u.push(h)):"sh"==t[g].ty||"rc"==t[g].ty||"el"==t[g].ty||"sr"==t[g].ty?(p||(e[g]=this.createShapeElement(t[g],u,r)),this.setElementStyles(e[g])):"tm"==t[g].ty||"rd"==t[g].ty||"ms"==t[g].ty||"pb"==t[g].ty?(p?(c=e[g]).closed=!1:((c=ShapeModifiers.getModifier(t[g].ty)).init(this,t[g]),e[g]=c,this.shapeModifiers.push(c)),f.push(c)):"rp"==t[g].ty&&(p?(c=e[g]).closed=!0:(c=ShapeModifiers.getModifier(t[g].ty),(e[g]=c).init(this,t,g,e),this.shapeModifiers.push(c),s=!1),f.push(c));this.addProcessedElement(t[g],g+1)}for(m=d.length,g=0;g<m;g+=1)d[g].closed=!0;for(m=f.length,g=0;g<m;g+=1)f[g].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){this.renderModifiers();for(var t=this.stylesList.length,e=0;e<t;e+=1)this.stylesList[e].reset();for(this.renderShape(),e=0;e<t;e+=1)(this.stylesList[e]._mdf||this._isFirstFrame)&&(this.stylesList[e].msElem&&(this.stylesList[e].msElem.setAttribute("d",this.stylesList[e].d),this.stylesList[e].d="M0 0"+this.stylesList[e].d),this.stylesList[e].pElem.setAttribute("d",this.stylesList[e].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){for(var t,e=this.animatedContents.length,i=0;i<e;i+=1)t=this.animatedContents[i],(this._isFirstFrame||t.element._isAnimated)&&!0!==t.data&&t.fn(t.data,t.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null},SVGTintFilter.prototype.renderFrame=function(t){var e,i;(t||this.filterManager._mdf)&&(e=this.filterManager.effectElements[0].p.v,i=this.filterManager.effectElements[1].p.v,t=this.filterManager.effectElements[2].p.v/100,this.matrixFilter.setAttribute("values",i[0]-e[0]+" 0 0 0 "+e[0]+" "+(i[1]-e[1])+" 0 0 0 "+e[1]+" "+(i[2]-e[2])+" 0 0 0 "+e[2]+" 0 0 0 "+t+" 0"))},SVGFillFilter.prototype.renderFrame=function(t){var e;(t||this.filterManager._mdf)&&(e=this.filterManager.effectElements[2].p.v,t=this.filterManager.effectElements[6].p.v,this.matrixFilter.setAttribute("values","0 0 0 0 "+e[0]+" 0 0 0 0 "+e[1]+" 0 0 0 0 "+e[2]+" 0 0 0 "+t+" 0"))},SVGGaussianBlurEffect.prototype.renderFrame=function(t){var e;(t||this.filterManager._mdf)&&(e=.3*this.filterManager.effectElements[0].p.v,t=this.filterManager.effectElements[1].p.v,this.feGaussianBlur.setAttribute("stdDeviation",(3==t?0:e)+" "+(2==t?0:e)),e=1==this.filterManager.effectElements[2].p.v?"wrap":"duplicate",this.feGaussianBlur.setAttribute("edgeMode",e))},SVGStrokeEffect.prototype.initialize=function(){var t,e,i,n,r=this.elem.layerElement.children||this.elem.layerElement.childNodes;for(1===this.filterManager.effectElements[1].p.v?(n=this.elem.maskManager.masksProperties.length,i=0):n=1+(i=this.filterManager.effectElements[0].p.v-1),(e=createNS("g")).setAttribute("fill","none"),e.setAttribute("stroke-linecap","round"),e.setAttribute("stroke-dashoffset",1);i<n;i+=1)t=createNS("path"),e.appendChild(t),this.paths.push({p:t,m:i});if(3===this.filterManager.effectElements[10].p.v){var a=createNS("mask"),s=createElementID();a.setAttribute("id",s),a.setAttribute("mask-type","alpha"),a.appendChild(e),this.elem.globalData.defs.appendChild(a);var o=createNS("g");for(o.setAttribute("mask","url("+locationHref+"#"+s+")");r[0];)o.appendChild(r[0]);this.elem.layerElement.appendChild(o),this.masker=a,e.setAttribute("stroke","#fff")}else if(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v){if(2===this.filterManager.effectElements[10].p.v)for(r=this.elem.layerElement.children||this.elem.layerElement.childNodes;r.length;)this.elem.layerElement.removeChild(r[0]);this.elem.layerElement.appendChild(e),this.elem.layerElement.removeAttribute("mask"),e.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=e},SVGStrokeEffect.prototype.renderFrame=function(t){this.initialized||this.initialize();for(var e,i,n=this.paths.length,r=0;r<n;r+=1)if(-1!==this.paths[r].m&&(h=this.elem.maskManager.viewData[this.paths[r].m],e=this.paths[r].p,(t||this.filterManager._mdf||h.prop._mdf)&&e.setAttribute("d",h.lastPath),t||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||h.prop._mdf)){if(0!==this.filterManager.effectElements[7].p.v||100!==this.filterManager.effectElements[8].p.v){for(var a=Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)/100,s=Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)/100,o=e.getTotalLength(),l="0 0 0 "+o*a+" ",h=1+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v/100,c=Math.floor(o*(s-a)/h),p=0;p<c;p+=1)l+="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v/100+" ";l+="0 "+10*o+" 0 0"}else l="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v/100;e.setAttribute("stroke-dasharray",l)}(t||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",2*this.filterManager.effectElements[4].p.v),(t||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),1!==this.filterManager.effectElements[10].p.v&&2!==this.filterManager.effectElements[10].p.v||!t&&!this.filterManager.effectElements[3].p._mdf||(i=this.filterManager.effectElements[3].p.v,this.pathMasker.setAttribute("stroke","rgb("+bm_floor(255*i[0])+","+bm_floor(255*i[1])+","+bm_floor(255*i[2])+")"))},SVGTritoneFilter.prototype.renderFrame=function(t){var e,i,n,r;(t||this.filterManager._mdf)&&(r=this.filterManager.effectElements[0].p.v,e=this.filterManager.effectElements[1].p.v,n=(i=this.filterManager.effectElements[2].p.v)[0]+" "+e[0]+" "+r[0],t=i[1]+" "+e[1]+" "+r[1],r=i[2]+" "+e[2]+" "+r[2],this.feFuncR.setAttribute("tableValues",n),this.feFuncG.setAttribute("tableValues",t),this.feFuncB.setAttribute("tableValues",r))},SVGProLevelsFilter.prototype.createFeFunc=function(t,e){t=createNS(t);return t.setAttribute("type","table"),e.appendChild(t),t},SVGProLevelsFilter.prototype.getTableValue=function(t,e,i,n,r){for(var a,s=0,o=Math.min(t,e),l=Math.max(t,e),h=Array.call(null,{length:256}),c=0,p=r-n,u=e-t;s<=256;)a=(a=s/256)<=o?u<0?r:n:l<=a?u<0?n:r:n+p*Math.pow((a-t)/u,1/i),h[c++]=a,s+=256/255;return h.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(t){var e,i;(t||this.filterManager._mdf)&&(i=this.filterManager.effectElements,this.feFuncRComposed&&(t||i[3].p._mdf||i[4].p._mdf||i[5].p._mdf||i[6].p._mdf||i[7].p._mdf)&&(e=this.getTableValue(i[3].p.v,i[4].p.v,i[5].p.v,i[6].p.v,i[7].p.v),this.feFuncRComposed.setAttribute("tableValues",e),this.feFuncGComposed.setAttribute("tableValues",e),this.feFuncBComposed.setAttribute("tableValues",e)),this.feFuncR&&(t||i[10].p._mdf||i[11].p._mdf||i[12].p._mdf||i[13].p._mdf||i[14].p._mdf)&&(e=this.getTableValue(i[10].p.v,i[11].p.v,i[12].p.v,i[13].p.v,i[14].p.v),this.feFuncR.setAttribute("tableValues",e)),this.feFuncG&&(t||i[17].p._mdf||i[18].p._mdf||i[19].p._mdf||i[20].p._mdf||i[21].p._mdf)&&(e=this.getTableValue(i[17].p.v,i[18].p.v,i[19].p.v,i[20].p.v,i[21].p.v),this.feFuncG.setAttribute("tableValues",e)),this.feFuncB&&(t||i[24].p._mdf||i[25].p._mdf||i[26].p._mdf||i[27].p._mdf||i[28].p._mdf)&&(e=this.getTableValue(i[24].p.v,i[25].p.v,i[26].p.v,i[27].p.v,i[28].p.v),this.feFuncB.setAttribute("tableValues",e)),this.feFuncA&&(t||i[31].p._mdf||i[32].p._mdf||i[33].p._mdf||i[34].p._mdf||i[35].p._mdf)&&(e=this.getTableValue(i[31].p.v,i[32].p.v,i[33].p.v,i[34].p.v,i[35].p.v),this.feFuncA.setAttribute("tableValues",e)))},SVGDropShadowEffect.prototype.renderFrame=function(t){var e,i;(t||this.filterManager._mdf)&&((t||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),(t||this.filterManager.effectElements[0].p._mdf)&&(i=this.filterManager.effectElements[0].p.v,this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(255*i[0]),Math.round(255*i[1]),Math.round(255*i[2])))),(t||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),(t||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf)&&(e=this.filterManager.effectElements[3].p.v,i=(this.filterManager.effectElements[2].p.v-90)*degToRads,t=e*Math.cos(i),i=e*Math.sin(i),this.feOffset.setAttribute("dx",t),this.feOffset.setAttribute("dy",i)))};var _svgMatteSymbols=[];function SVGMatte3Effect(t,e,i){this.initialized=!1,this.filterManager=e,this.filterElem=t,(this.elem=i).matteElement=createNS("g"),i.matteElement.appendChild(i.layerElement),i.matteElement.appendChild(i.transformedElement),i.baseElement=i.matteElement}function SVGEffects(t){var e,i,n=t.data.ef?t.data.ef.length:0,r=createElementID(),a=filtersFactory.createFilter(r),s=0;for(this.filters=[],e=0;e<n;e+=1)i=null,20===t.data.ef[e].ty?(s+=1,i=new SVGTintFilter(a,t.effectsManager.effectElements[e])):21===t.data.ef[e].ty?(s+=1,i=new SVGFillFilter(a,t.effectsManager.effectElements[e])):22===t.data.ef[e].ty?i=new SVGStrokeEffect(t,t.effectsManager.effectElements[e]):23===t.data.ef[e].ty?(s+=1,i=new SVGTritoneFilter(a,t.effectsManager.effectElements[e])):24===t.data.ef[e].ty?(s+=1,i=new SVGProLevelsFilter(a,t.effectsManager.effectElements[e])):25===t.data.ef[e].ty?(s+=1,i=new SVGDropShadowEffect(a,t.effectsManager.effectElements[e])):28===t.data.ef[e].ty?i=new SVGMatte3Effect(a,t.effectsManager.effectElements[e],t):29===t.data.ef[e].ty&&(s+=1,i=new SVGGaussianBlurEffect(a,t.effectsManager.effectElements[e])),i&&this.filters.push(i);s&&(t.globalData.defs.appendChild(a),t.layerElement.setAttribute("filter","url("+locationHref+"#"+r+")")),this.filters.length&&t.addRenderableComponent(this)}function CVContextData(){var t;for(this.saved=[],this.cArrPos=0,this.cTr=new Matrix,this.cO=1,this.savedOp=createTypedArray("float32",15),t=0;t<15;t+=1)this.saved[t]=createTypedArray("float32",16);this._length=15}function CVBaseElement(){}function CVImageElement(t,e,i){this.assetData=e.getAssetData(t.refId),this.img=e.imageLoader.getImage(this.assetData),this.initElement(t,e,i)}function CVCompElement(t,e,i){this.completeLayers=!1,this.layers=t.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(t,e,i),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}function CVMaskElement(t,e){this.data=t,this.element=e,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);for(var i=this.masksProperties.length,n=!1,r=0;r<i;r++)"n"!==this.masksProperties[r].mode&&(n=!0),this.viewData[r]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[r],3);(this.hasMasks=n)&&this.element.addRenderableComponent(this)}function CVShapeElement(t,e,i){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(t,e,i)}function CVSolidElement(t,e,i){this.initElement(t,e,i)}function CVTextElement(t,e,i){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(t,e,i)}function CVEffects(){}function HBaseElement(t,e,i){}function HSolidElement(t,e,i){this.initElement(t,e,i)}function HCompElement(t,e,i){this.layers=t.layers,this.supports3d=!t.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(t,e,i),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}function HShapeElement(t,e,i){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(t,e,i),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}function HTextElement(t,e,i){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(t,e,i)}function HImageElement(t,e,i){this.assetData=e.getAssetData(t.refId),this.initElement(t,e,i)}function HCameraElement(t,e,i){this.initFrame(),this.initBaseData(t,e,i),this.initHierarchy();i=PropertyFactory.getProp;if(this.pe=i(this,t.pe,0,0,this),t.ks.p.s?(this.px=i(this,t.ks.p.x,1,0,this),this.py=i(this,t.ks.p.y,1,0,this),this.pz=i(this,t.ks.p.z,1,0,this)):this.p=i(this,t.ks.p,1,0,this),t.ks.a&&(this.a=i(this,t.ks.a,1,0,this)),t.ks.or.k.length&&t.ks.or.k[0].to)for(var n=t.ks.or.k.length,r=0;r<n;r+=1)t.ks.or.k[r].to=null,t.ks.or.k[r].ti=null;this.or=i(this,t.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=i(this,t.ks.rx,0,degToRads,this),this.ry=i(this,t.ks.ry,0,degToRads,this),this.rz=i(this,t.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}function HEffects(){}SVGMatte3Effect.prototype.findSymbol=function(t){for(var e=0,i=_svgMatteSymbols.length;e<i;){if(_svgMatteSymbols[e]===t)return _svgMatteSymbols[e];e+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(t,e){var i=t.layerElement.parentNode;if(i){for(var n,r=i.children,a=0,s=r.length;a<s&&r[a]!==t.layerElement;)a+=1;a<=s-2&&(n=r[a+1]);var o=createNS("use");o.setAttribute("href","#"+e),n?i.insertBefore(o,n):i.appendChild(o)}},SVGMatte3Effect.prototype.setElementAsMask=function(t,e){var i,n,r,a;this.findSymbol(e)||(i=createElementID(),(n=createNS("mask")).setAttribute("id",e.layerId),n.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(e),(r=t.globalData.defs).appendChild(n),(a=createNS("symbol")).setAttribute("id",i),this.replaceInParent(e,i),a.appendChild(e.layerElement),r.appendChild(a),(a=createNS("use")).setAttribute("href","#"+i),n.appendChild(a),e.data.hd=!1,e.show()),t.setMatte(e.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var t=this.filterManager.effectElements[0].p.v,e=this.elem.comp.elements,i=0,n=e.length;i<n;)e[i]&&e[i].data.ind===t&&this.setElementAsMask(this.elem,e[i]),i+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()},SVGEffects.prototype.renderFrame=function(t){for(var e=this.filters.length,i=0;i<e;i+=1)this.filters[i].renderFrame(t)},CVContextData.prototype.duplicate=function(){var t=2*this._length,e=this.savedOp;this.savedOp=createTypedArray("float32",t),this.savedOp.set(e);for(var i=0,i=this._length;i<t;i+=1)this.saved[i]=createTypedArray("float32",16);this._length=t},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.cO=1},CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){this.canvasContext=this.globalData.canvasContext,this.renderableEffectsManager=new CVEffects(this)},createContent:function(){},setBlendMode:function(){var t,e=this.globalData;e.blendMode!==this.data.bm&&(e.blendMode=this.data.bm,t=getBlendMode(this.data.bm),e.canvasContext.globalCompositeOperation=t)},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this)},hideElement:function(){this.hidden||this.isInRange&&!this.isTransparent||(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},renderFrame:function(){var t;this.hidden||this.data.hd||(this.renderTransform(),this.renderRenderable(),this.setBlendMode(),t=0===this.data.ty,this.globalData.renderer.save(t),this.globalData.renderer.ctxTransform(this.finalTransform.mat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.mProp.o.v),this.renderInnerContent(),this.globalData.renderer.restore(t),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement,extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){var t,e,i,n,r,a,s,o,l;!this.img.width||this.assetData.w===this.img.width&&this.assetData.h===this.img.height||((t=createTag("canvas")).width=this.assetData.w,t.height=this.assetData.h,n=t.getContext("2d"),r=this.img.width,a=this.img.height,o=this.assetData.w/this.assetData.h,l=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio,o<(s=r/a)&&"xMidYMid slice"===l||s<o&&"xMidYMid slice"!==l?e=(i=a)*o:i=(e=r)/o,n.drawImage(this.img,(r-e)/2,(a-i)/2,e,i,0,0,this.assetData.w,this.assetData.h),this.img=t)},CVImageElement.prototype.renderInnerContent=function(t){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null},extendPrototype([CanvasRenderer,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var t,e=this.canvasContext;for(e.beginPath(),e.moveTo(0,0),e.lineTo(this.data.w,0),e.lineTo(this.data.w,this.data.h),e.lineTo(0,this.data.h),e.lineTo(0,0),e.clip(),t=this.layers.length-1;0<=t;--t)(this.completeLayers||this.elements[t])&&this.elements[t].renderFrame()},CVCompElement.prototype.destroy=function(){for(var t=this.layers.length-1;0<=t;--t)this.elements[t]&&this.elements[t].destroy();this.layers=null,this.elements=null},CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var t,e,i,n,r=this.element.finalTransform.mat,a=this.element.canvasContext,s=this.masksProperties.length;for(a.beginPath(),t=0;t<s;t++)if("n"!==this.masksProperties[t].mode){this.masksProperties[t].inv&&(a.moveTo(0,0),a.lineTo(this.element.globalData.compSize.w,0),a.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),a.lineTo(0,this.element.globalData.compSize.h),a.lineTo(0,0)),n=this.viewData[t].v,e=r.applyToPointArray(n.v[0][0],n.v[0][1],0),a.moveTo(e[0],e[1]);for(var o=n._length,l=1;l<o;l++)i=r.applyToTriplePoints(n.o[l-1],n.i[l],n.v[l]),a.bezierCurveTo(i[0],i[1],i[2],i[3],i[4],i[5]);i=r.applyToTriplePoints(n.o[l-1],n.i[0],n.v[0]),a.bezierCurveTo(i[0],i[1],i[2],i[3],i[4],i[5])}this.element.globalData.renderer.save(!0),a.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null},extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(t,e){var i={data:t,type:t.ty,preTransforms:this.transformsManager.addTransformSequence(e),transforms:[],elements:[],closed:!0===t.hd},n={};return"fl"==t.ty||"st"==t.ty?(n.c=PropertyFactory.getProp(this,t.c,1,255,this),n.c.k||(i.co="rgb("+bm_floor(n.c.v[0])+","+bm_floor(n.c.v[1])+","+bm_floor(n.c.v[2])+")")):"gf"!==t.ty&&"gs"!==t.ty||(n.s=PropertyFactory.getProp(this,t.s,1,null,this),n.e=PropertyFactory.getProp(this,t.e,1,null,this),n.h=PropertyFactory.getProp(this,t.h||{k:0},0,.01,this),n.a=PropertyFactory.getProp(this,t.a||{k:0},0,degToRads,this),n.g=new GradientProperty(this,t.g,this)),n.o=PropertyFactory.getProp(this,t.o,0,.01,this),"st"==t.ty||"gs"==t.ty?(i.lc=this.lcEnum[t.lc]||"round",i.lj=this.ljEnum[t.lj]||"round",1==t.lj&&(i.ml=t.ml),n.w=PropertyFactory.getProp(this,t.w,0,null,this),n.w.k||(i.wi=n.w.v),t.d&&(e=new DashProperty(this,t.d,"canvas",this),n.d=e,n.d.k||(i.da=n.d.dashArray,i.do=n.d.dashoffset[0]))):i.r=2===t.r?"evenodd":"nonzero",this.stylesList.push(i),n.style=i,n},CVShapeElement.prototype.createGroupElement=function(t){return{it:[],prevViewData:[]}},CVShapeElement.prototype.createTransformElement=function(t){return{transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,t.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,t,this)}}},CVShapeElement.prototype.createShapeElement=function(t){t=new CVShapeData(this,t,this.stylesList,this.transformsManager);return this.shapes.push(t),this.addShapeToModifiers(t),t},CVShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;for(var t=this.itemsData.length,e=0;e<t;e+=1)this.prevViewData[e]=this.itemsData[e];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),t=this.dynamicProperties.length,e=0;e<t;e+=1)this.dynamicProperties[e].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(t){for(var e=this.stylesList.length,i=0;i<e;i+=1)this.stylesList[i].closed||this.stylesList[i].transforms.push(t)},CVShapeElement.prototype.removeTransformFromStyleList=function(){for(var t=this.stylesList.length,e=0;e<t;e+=1)this.stylesList[e].closed||this.stylesList[e].transforms.pop()},CVShapeElement.prototype.closeStyles=function(t){for(var e=t.length,i=0;i<e;i+=1)t[i].closed=!0},CVShapeElement.prototype.searchShapes=function(t,e,i,n,r){for(var a,s,o,l,h,c=t.length-1,p=[],u=[],m=[].concat(r),d=c;0<=d;--d){if((o=this.searchProcessedElement(t[d]))?e[d]=i[o-1]:t[d]._shouldRender=n,"fl"==t[d].ty||"st"==t[d].ty||"gf"==t[d].ty||"gs"==t[d].ty)o?e[d].style.closed=!1:e[d]=this.createStyleElement(t[d],m),p.push(e[d].style);else if("gr"==t[d].ty){if(o)for(s=e[d].it.length,a=0;a<s;a+=1)e[d].prevViewData[a]=e[d].it[a];else e[d]=this.createGroupElement(t[d]);this.searchShapes(t[d].it,e[d].it,e[d].prevViewData,n,m)}else"tr"==t[d].ty?(o||(h=this.createTransformElement(t[d]),e[d]=h),m.push(e[d]),this.addTransformToStyleList(e[d])):"sh"==t[d].ty||"rc"==t[d].ty||"el"==t[d].ty||"sr"==t[d].ty?o||(e[d]=this.createShapeElement(t[d])):"tm"==t[d].ty||"rd"==t[d].ty||"pb"==t[d].ty?(o?(l=e[d]).closed=!1:((l=ShapeModifiers.getModifier(t[d].ty)).init(this,t[d]),e[d]=l,this.shapeModifiers.push(l)),u.push(l)):"rp"==t[d].ty&&(o?(l=e[d]).closed=!0:(l=ShapeModifiers.getModifier(t[d].ty),(e[d]=l).init(this,t,d,e),this.shapeModifiers.push(l),n=!1),u.push(l));this.addProcessedElement(t[d],d+1)}for(this.removeTransformFromStyleList(),this.closeStyles(p),c=u.length,d=0;d<c;d+=1)u[d].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(t,e){(t._opMdf||e.op._mdf||this._isFirstFrame)&&(e.opacity=t.opacity,e.opacity*=e.op.v,e._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){for(var t,e,i,n,r,a,s,o,l=this.stylesList.length,h=this.globalData.renderer,c=this.globalData.canvasContext,p=0;p<l;p+=1)if(("st"!==(s=(o=this.stylesList[p]).type)&&"gs"!==s||0!==o.wi)&&o.data._shouldRender&&0!==o.coOp&&0!==this.globalData.currentGlobalAlpha){for(h.save(),r=o.elements,"st"===s||"gs"===s?(c.strokeStyle="st"===s?o.co:o.grd,c.lineWidth=o.wi,c.lineCap=o.lc,c.lineJoin=o.lj,c.miterLimit=o.ml||0):c.fillStyle="fl"===s?o.co:o.grd,h.ctxOpacity(o.coOp),"st"!==s&&"gs"!==s&&c.beginPath(),h.ctxTransform(o.preTransforms.finalTransform.props),e=r.length,t=0;t<e;t+=1){for("st"!==s&&"gs"!==s||(c.beginPath(),o.da&&(c.setLineDash(o.da),c.lineDashOffset=o.do)),n=(a=r[t].trNodes).length,i=0;i<n;i+=1)"m"==a[i].t?c.moveTo(a[i].p[0],a[i].p[1]):"c"==a[i].t?c.bezierCurveTo(a[i].pts[0],a[i].pts[1],a[i].pts[2],a[i].pts[3],a[i].pts[4],a[i].pts[5]):c.closePath();"st"!==s&&"gs"!==s||(c.stroke(),o.da&&c.setLineDash(this.dashResetter))}"st"!==s&&"gs"!==s&&c.fill(o.r),h.restore()}},CVShapeElement.prototype.renderShape=function(t,e,i,n){for(var r=t,a=e.length-1;0<=a;--a)"tr"==e[a].ty?(r=i[a].transform,this.renderShapeTransform(t,r)):"sh"==e[a].ty||"el"==e[a].ty||"rc"==e[a].ty||"sr"==e[a].ty?this.renderPath(e[a],i[a]):"fl"==e[a].ty?this.renderFill(e[a],i[a],r):"st"==e[a].ty?this.renderStroke(e[a],i[a],r):"gf"==e[a].ty||"gs"==e[a].ty?this.renderGradientFill(e[a],i[a],r):"gr"==e[a].ty?this.renderShape(r,e[a].it,i[a].it):e[a].ty;n&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(t,e){if(this._isFirstFrame||e._mdf||t.transforms._mdf){var i,n,r=t.trNodes,a=e.paths,s=a._length;r.length=0;for(var o=t.transforms.finalTransform,l=0;l<s;l+=1){var h=a.shapes[l];if(h&&h.v){for(n=h._length,i=1;i<n;i+=1)1===i&&r.push({t:"m",p:o.applyToPointArray(h.v[0][0],h.v[0][1],0)}),r.push({t:"c",pts:o.applyToTriplePoints(h.o[i-1],h.i[i],h.v[i])});1===n&&r.push({t:"m",p:o.applyToPointArray(h.v[0][0],h.v[0][1],0)}),h.c&&n&&(r.push({t:"c",pts:o.applyToTriplePoints(h.o[i-1],h.i[0],h.v[0])}),r.push({t:"z"}))}}t.trNodes=r}},CVShapeElement.prototype.renderPath=function(t,e){if(!0!==t.hd&&t._shouldRender)for(var i=e.styledShapes.length,n=0;n<i;n+=1)this.renderStyledShape(e.styledShapes[n],e.sh)},CVShapeElement.prototype.renderFill=function(t,e,i){var n=e.style;(e.c._mdf||this._isFirstFrame)&&(n.co="rgb("+bm_floor(e.c.v[0])+","+bm_floor(e.c.v[1])+","+bm_floor(e.c.v[2])+")"),(e.o._mdf||i._opMdf||this._isFirstFrame)&&(n.coOp=e.o.v*i.opacity)},CVShapeElement.prototype.renderGradientFill=function(t,e,i){var n=e.style;if(!n.grd||e.g._mdf||e.s._mdf||e.e._mdf||1!==t.t&&(e.h._mdf||e.a._mdf)){for(var r,a,s,o=this.globalData.canvasContext,l=e.s.v,h=e.e.v,c=1===t.t?o.createLinearGradient(l[0],l[1],h[0],h[1]):(r=Math.sqrt(Math.pow(l[0]-h[0],2)+Math.pow(l[1]-h[1],2)),a=Math.atan2(h[1]-l[1],h[0]-l[0]),s=r*(1<=e.h.v?.99:e.h.v<=-1?-.99:e.h.v),h=Math.cos(a+e.a.v)*s+l[0],s=Math.sin(a+e.a.v)*s+l[1],o.createRadialGradient(h,s,0,l[0],l[1],r)),p=t.g.p,u=e.g.c,m=1,d=0;d<p;d+=1)e.g._hasOpacity&&e.g._collapsable&&(m=e.g.o[2*d+1]),c.addColorStop(u[4*d]/100,"rgba("+u[4*d+1]+","+u[4*d+2]+","+u[4*d+3]+","+m+")");n.grd=c}n.coOp=e.o.v*i.opacity},CVShapeElement.prototype.renderStroke=function(t,e,i){var n=e.style,r=e.d;r&&(r._mdf||this._isFirstFrame)&&(n.da=r.dashArray,n.do=r.dashoffset[0]),(e.c._mdf||this._isFirstFrame)&&(n.co="rgb("+bm_floor(e.c.v[0])+","+bm_floor(e.c.v[1])+","+bm_floor(e.c.v[2])+")"),(e.o._mdf||i._opMdf||this._isFirstFrame)&&(n.coOp=e.o.v*i.opacity),(e.w._mdf||this._isFirstFrame)&&(n.wi=e.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){var t=this.canvasContext;t.fillStyle=this.data.sc,t.fillRect(0,0,this.data.sw,this.data.sh)},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var t=this.textProperty.currentData;this.renderedLetters=createSizedArray(t.l?t.l.length:0);var e=!1;t.fc?(e=!0,this.values.fill=this.buildColor(t.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=e;e=!1;t.sc&&(e=!0,this.values.stroke=this.buildColor(t.sc),this.values.sWidth=t.sw);var i=this.globalData.fontManager.getFontByName(t.f),n=t.l,r=this.mHelper;this.stroke=e,this.values.fValue=t.finalSize+"px "+this.globalData.fontManager.getFontByName(t.f).fFamily;for(var a,s,o,l,h,c,p,u,m,d=t.finalText.length,f=this.data.singleShape,g=t.tr/1e3*t.finalSize,y=0,v=0,_=!0,b=0,x=0;x<d;x+=1){for(a=(a=this.globalData.fontManager.getCharData(t.finalText[x],i.fStyle,this.globalData.fontManager.getFontByName(t.f).fFamily))&&a.data||{},r.reset(),f&&n[x].n&&(y=-g,v+=t.yOffset,v+=_?1:0,_=!1),c=(l=a.shapes?a.shapes[0].it:[]).length,r.scale(t.finalSize/100,t.finalSize/100),f&&this.applyTextPropertiesToMatrix(t,r,n[x].line,y,v),u=createSizedArray(c),h=0;h<c;h+=1){for(o=l[h].ks.k.i.length,p=l[h].ks.k,m=[],s=1;s<o;s+=1)1==s&&m.push(r.applyToX(p.v[0][0],p.v[0][1],0),r.applyToY(p.v[0][0],p.v[0][1],0)),m.push(r.applyToX(p.o[s-1][0],p.o[s-1][1],0),r.applyToY(p.o[s-1][0],p.o[s-1][1],0),r.applyToX(p.i[s][0],p.i[s][1],0),r.applyToY(p.i[s][0],p.i[s][1],0),r.applyToX(p.v[s][0],p.v[s][1],0),r.applyToY(p.v[s][0],p.v[s][1],0));m.push(r.applyToX(p.o[s-1][0],p.o[s-1][1],0),r.applyToY(p.o[s-1][0],p.o[s-1][1],0),r.applyToX(p.i[0][0],p.i[0][1],0),r.applyToY(p.i[0][0],p.i[0][1],0),r.applyToX(p.v[0][0],p.v[0][1],0),r.applyToY(p.v[0][0],p.v[0][1],0)),u[h]=m}f&&(y+=n[x].l,y+=g),this.textSpans[b]?this.textSpans[b].elem=u:this.textSpans[b]={elem:u},b+=1}},CVTextElement.prototype.renderInnerContent=function(){var t,e,i,n,r=this.canvasContext;this.finalTransform.mat.props,r.font=this.values.fValue,r.lineCap="butt",r.lineJoin="miter",r.miterLimit=4,this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);for(var a,s,o,l=this.textAnimator.renderedLetters,h=this.textProperty.currentData.l,c=h.length,p=null,u=null,m=null,d=0;d<c;d+=1)if(!h[d].n){if((a=l[d])&&(this.globalData.renderer.save(),this.globalData.renderer.ctxTransform(a.p),this.globalData.renderer.ctxOpacity(a.o)),this.fill){for(a&&a.fc?p!==a.fc&&(p=a.fc,r.fillStyle=a.fc):p!==this.values.fill&&(p=this.values.fill,r.fillStyle=this.values.fill),e=(s=this.textSpans[d].elem).length,this.globalData.canvasContext.beginPath(),t=0;t<e;t+=1)for(n=(o=s[t]).length,this.globalData.canvasContext.moveTo(o[0],o[1]),i=2;i<n;i+=6)this.globalData.canvasContext.bezierCurveTo(o[i],o[i+1],o[i+2],o[i+3],o[i+4],o[i+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.fill()}if(this.stroke){for(a&&a.sw?m!==a.sw&&(m=a.sw,r.lineWidth=a.sw):m!==this.values.sWidth&&(m=this.values.sWidth,r.lineWidth=this.values.sWidth),a&&a.sc?u!==a.sc&&(u=a.sc,r.strokeStyle=a.sc):u!==this.values.stroke&&(u=this.values.stroke,r.strokeStyle=this.values.stroke),e=(s=this.textSpans[d].elem).length,this.globalData.canvasContext.beginPath(),t=0;t<e;t+=1)for(n=(o=s[t]).length,this.globalData.canvasContext.moveTo(o[0],o[1]),i=2;i<n;i+=6)this.globalData.canvasContext.bezierCurveTo(o[i],o[i+1],o[i+2],o[i+3],o[i+4],o[i+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.stroke()}a&&this.globalData.renderer.restore()}},CVEffects.prototype.renderFrame=function(){},HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects(this),this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0!==this.data.bm&&this.setBlendMode()},renderElement:function(){this.finalTransform._matMdf&&(this.transformedElement.style.transform=this.transformedElement.style.webkitTransform=this.finalTransform.mat.toCSS()),this.finalTransform._opMdf&&(this.transformedElement.style.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=HybridRenderer.prototype.buildElementParenting,extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var t;this.data.hasMask?((t=createNS("rect")).setAttribute("width",this.data.sw),t.setAttribute("height",this.data.sh),t.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):((t=createTag("div")).style.width=this.data.sw+"px",t.style.height=this.data.sh+"px",t.style.backgroundColor=this.data.sc),this.layerElement.appendChild(t)},extendPrototype([HybridRenderer,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(t,e){for(var i,n=0;n<e;)this.elements[n]&&this.elements[n].getBaseElement&&(i=this.elements[n].getBaseElement()),n+=1;i?this.layerElement.insertBefore(t,i):this.layerElement.appendChild(t)},extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var t,e;this.baseElement.style.fontSize=0,this.data.hasMask?(this.layerElement.appendChild(this.shapesContainer),t=this.svgElement):(t=createNS("svg"),e=this.comp.data||this.globalData.compSize,t.setAttribute("width",e.w),t.setAttribute("height",e.h),t.appendChild(this.shapesContainer),this.layerElement.appendChild(t)),this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=t},HShapeElement.prototype.getTransformedPoint=function(t,e){for(var i=t.length,n=0;n<i;n+=1)e=t[n].mProps.v.applyToPointArray(e[0],e[1],0);return e},HShapeElement.prototype.calculateShapeBoundingBox=function(t,e){var i,n,r,a,s,o=t.sh.v,l=t.transformers,h=o._length;if(!(h<=1)){for(i=0;i<h-1;i+=1)n=this.getTransformedPoint(l,o.v[i]),r=this.getTransformedPoint(l,o.o[i]),a=this.getTransformedPoint(l,o.i[i+1]),s=this.getTransformedPoint(l,o.v[i+1]),this.checkBounds(n,r,a,s,e);o.c&&(n=this.getTransformedPoint(l,o.v[i]),r=this.getTransformedPoint(l,o.o[i]),a=this.getTransformedPoint(l,o.i[0]),s=this.getTransformedPoint(l,o.v[0]),this.checkBounds(n,r,a,s,e))}},HShapeElement.prototype.checkBounds=function(t,e,i,n,r){this.getBoundsOfCurve(t,e,i,n);n=this.shapeBoundingBox;r.x=bm_min(n.left,r.x),r.xMax=bm_max(n.right,r.xMax),r.y=bm_min(n.top,r.y),r.yMax=bm_max(n.bottom,r.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(t,e,i,n){for(var r,a,s,o,l,h,c=[[t[0],n[0]],[t[1],n[1]]],p=0;p<2;++p)r=6*t[p]-12*e[p]+6*i[p],h=-3*t[p]+9*e[p]-9*i[p]+3*n[p],a=3*e[p]-3*t[p],r|=0,a|=0,0!=(h|=0)?(o=r*r-4*a*h)<0||(0<(l=(-r+bm_sqrt(o))/(2*h))&&l<1&&c[p].push(this.calculateF(l,t,e,i,n,p)),0<(h=(-r-bm_sqrt(o))/(2*h))&&h<1&&c[p].push(this.calculateF(h,t,e,i,n,p))):0!=r&&0<(s=-a/r)&&s<1&&c[p].push(this.calculateF(s,t,e,i,n,p));this.shapeBoundingBox.left=bm_min.apply(null,c[0]),this.shapeBoundingBox.top=bm_min.apply(null,c[1]),this.shapeBoundingBox.right=bm_max.apply(null,c[0]),this.shapeBoundingBox.bottom=bm_max.apply(null,c[1])},HShapeElement.prototype.calculateF=function(t,e,i,n,r,a){return bm_pow(1-t,3)*e[a]+3*bm_pow(1-t,2)*t*i[a]+3*(1-t)*bm_pow(t,2)*n[a]+bm_pow(t,3)*r[a]},HShapeElement.prototype.calculateBoundingBox=function(t,e){for(var i=t.length,n=0;n<i;n+=1)t[n]&&t[n].sh?this.calculateShapeBoundingBox(t[n],e):t[n]&&t[n].it&&this.calculateBoundingBox(t[n].it,e)},HShapeElement.prototype.currentBoxContains=function(t){return this.currentBBox.x<=t.x&&this.currentBBox.y<=t.y&&this.currentBBox.width+this.currentBBox.x>=t.x+t.width&&this.currentBBox.height+this.currentBBox.y>=t.y+t.height},HShapeElement.prototype.renderInnerContent=function(){var t,e;this._renderShapeFrame(),this.hidden||!this._isFirstFrame&&!this._mdf||((t=this.tempBoundingBox).x=e=999999,t.xMax=-e,t.y=e,t.yMax=-e,this.calculateBoundingBox(this.itemsData,t),t.width=t.xMax<t.x?0:t.xMax-t.x,t.height=t.yMax<t.y?0:t.yMax-t.y,this.currentBoxContains(t)||(e=!1,this.currentBBox.w!==t.width&&(this.currentBBox.w=t.width,this.shapeCont.setAttribute("width",t.width),e=!0),this.currentBBox.h!==t.height&&(this.currentBBox.h=t.height,this.shapeCont.setAttribute("height",t.height),e=!0),!e&&this.currentBBox.x===t.x&&this.currentBBox.y===t.y||(this.currentBBox.w=t.width,this.currentBBox.h=t.height,this.currentBBox.x=t.x,this.currentBBox.y=t.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),this.shapeCont.style.transform=this.shapeCont.style.webkitTransform="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)")))},extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){var t;this.isMasked=this.checkMasks(),this.isMasked?(this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH),t=createNS("g"),this.maskedElement.appendChild(t),this.innerElem=t):(this.renderType="html",this.innerElem=this.layerElement),this.checkParenting()},HTextElement.prototype.buildNewText=function(){var t=this.textProperty.currentData;this.renderedLetters=createSizedArray(t.l?t.l.length:0);var e=this.innerElem.style;e.color=e.fill=t.fc?this.buildColor(t.fc):"rgba(0,0,0,0)",t.sc&&(e.stroke=this.buildColor(t.sc),e.strokeWidth=t.sw+"px");var i,n,r=this.globalData.fontManager.getFontByName(t.f);this.globalData.fontManager.chars||(e.fontSize=t.finalSize+"px",e.lineHeight=t.finalSize+"px",r.fClass?this.innerElem.className=r.fClass:(e.fontFamily=r.fFamily,i=t.fWeight,n=t.fStyle,e.fontStyle=n,e.fontWeight=i));for(var a,s,o,l,h,c,p=t.l,u=p.length,m=this.mHelper,d=0,f=0;f<u;f+=1)this.globalData.fontManager.chars?(this.textPaths[d]?a=this.textPaths[d]:((a=createNS("path")).setAttribute("stroke-linecap","butt"),a.setAttribute("stroke-linejoin","round"),a.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[d]?o=(s=this.textSpans[d]).children[0]:((s=createTag("div")).style.lineHeight=0,(o=createNS("svg")).appendChild(a),styleDiv(s)))):this.isMasked?a=this.textPaths[d]||createNS("text"):this.textSpans[d]?(s=this.textSpans[d],a=this.textPaths[d]):(styleDiv(s=createTag("span")),styleDiv(a=createTag("span")),s.appendChild(a)),this.globalData.fontManager.chars?(c=(h=this.globalData.fontManager.getCharData(t.finalText[f],r.fStyle,this.globalData.fontManager.getFontByName(t.f).fFamily))?h.data:null,m.reset(),c&&c.shapes&&(h=c.shapes[0].it,m.scale(t.finalSize/100,t.finalSize/100),l=this.createPathShape(m,h),a.setAttribute("d",l)),this.isMasked?this.innerElem.appendChild(a):(this.innerElem.appendChild(s),c&&c.shapes?(document.body.appendChild(o),c=o.getBBox(),o.setAttribute("width",c.width+2),o.setAttribute("height",c.height+2),o.setAttribute("viewBox",c.x-1+" "+(c.y-1)+" "+(c.width+2)+" "+(c.height+2)),o.style.transform=o.style.webkitTransform="translate("+(c.x-1)+"px,"+(c.y-1)+"px)",p[f].yOffset=c.y-1):(o.setAttribute("width",1),o.setAttribute("height",1)),s.appendChild(o))):(a.textContent=p[f].val,a.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked?this.innerElem.appendChild(a):(this.innerElem.appendChild(s),a.style.transform=a.style.webkitTransform="translate3d(0,"+-t.finalSize/1.2+"px,0)")),this.isMasked?this.textSpans[d]=a:this.textSpans[d]=s,this.textSpans[d].style.display="block",this.textPaths[d]=a,d+=1;for(;d<this.textSpans.length;)this.textSpans[d].style.display="none",d+=1},HTextElement.prototype.renderInnerContent=function(){if(this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;this.isMasked&&this.finalTransform._matMdf&&(this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),this.svgElement.style.transform=this.svgElement.style.webkitTransform="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)")}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag){for(var t,e,i,n,r=0,a=this.textAnimator.renderedLetters,s=this.textProperty.currentData.l,o=s.length,l=0;l<o;l+=1)s[l].n?r+=1:(e=this.textSpans[l],i=this.textPaths[l],t=a[r],r+=1,t._mdf.m&&(this.isMasked?e.setAttribute("transform",t.m):e.style.transform=e.style.webkitTransform=t.m),e.style.opacity=t.o,t.sw&&t._mdf.sw&&i.setAttribute("stroke-width",t.sw),t.sc&&t._mdf.sc&&i.setAttribute("stroke",t.sc),t.fc&&t._mdf.fc&&(i.setAttribute("fill",t.fc),i.style.color=t.fc));this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)&&(n=this.innerElem.getBBox(),this.currentBBox.w!==n.width&&(this.currentBBox.w=n.width,this.svgElement.setAttribute("width",n.width)),this.currentBBox.h!==n.height&&(this.currentBBox.h=n.height,this.svgElement.setAttribute("height",n.height)),this.currentBBox.w===n.width+2&&this.currentBBox.h===n.height+2&&this.currentBBox.x===n.x-1&&this.currentBBox.y===n.y-1||(this.currentBBox.w=n.width+2,this.currentBBox.h=n.height+2,this.currentBBox.x=n.x-1,this.currentBBox.y=n.y-1,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),this.svgElement.style.transform=this.svgElement.style.webkitTransform="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)"))}},extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var t=this.globalData.getAssetsPath(this.assetData),e=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",t),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(e),e.crossOrigin="anonymous",e.src=t,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)},extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){for(var t,e=this.comp.threeDElements.length,i=0;i<e;i+=1)"3d"===(t=this.comp.threeDElements[i]).type&&(t.perspectiveElem.style.perspective=t.perspectiveElem.style.webkitPerspective=this.pe.v+"px",t.container.style.transformOrigin=t.container.style.mozTransformOrigin=t.container.style.webkitTransformOrigin="0px 0px 0px",t.perspectiveElem.style.transform=t.perspectiveElem.style.webkitTransform="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)")},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var t,e,i=this._isFirstFrame;if(this.hierarchy)for(s=this.hierarchy.length,o=0;o<s;o+=1)i=this.hierarchy[o].finalTransform.mProp._mdf||i;if(i||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(o=s=this.hierarchy.length-1;0<=o;--o){var n=this.hierarchy[o].finalTransform.mProp;this.mat.translate(-n.p.v[0],-n.p.v[1],n.p.v[2]),this.mat.rotateX(-n.or.v[0]).rotateY(-n.or.v[1]).rotateZ(n.or.v[2]),this.mat.rotateX(-n.rx.v).rotateY(-n.ry.v).rotateZ(n.rz.v),this.mat.scale(1/n.s.v[0],1/n.s.v[1],1/n.s.v[2]),this.mat.translate(n.a.v[0],n.a.v[1],n.a.v[2])}this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a&&(e=this.p?[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]],t=Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)),e=[e[0]/t,e[1]/t,e[2]/t],t=Math.sqrt(e[2]*e[2]+e[0]*e[0]),t=Math.atan2(e[1],t),e=Math.atan2(e[0],-e[2]),this.mat.rotateY(e).rotateX(-t)),this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var r=!this._prevMat.equals(this.mat);if((r||this.pe._mdf)&&this.comp.threeDElements){for(var a,s=this.comp.threeDElements.length,o=0;o<s;o+=1)"3d"===(a=this.comp.threeDElements[o]).type&&(r&&(a.container.style.transform=a.container.style.webkitTransform=this.mat.toCSS()),this.pe._mdf&&(a.perspectiveElem.style.perspective=a.perspectiveElem.style.webkitPerspective=this.pe.v+"px"));this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(t){this.prepareProperties(t,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null},HEffects.prototype.renderFrame=function(){};var animationManager=(Dra={},Era=[],Fra=0,Gra=0,Hra=0,Ira=!0,Jra=!1,Dra.registerAnimation=Lra,Dra.loadAnimation=function(t){var e=new AnimationItem;return Ora(e,null),e.setParams(t),e},Dra.setSpeed=function(t,e){for(var i=0;i<Gra;i+=1)Era[i].animation.setSpeed(t,e)},Dra.setDirection=function(t,e){for(var i=0;i<Gra;i+=1)Era[i].animation.setDirection(t,e)},Dra.play=function(t){for(var e=0;e<Gra;e+=1)Era[e].animation.play(t)},Dra.pause=function(t){for(var e=0;e<Gra;e+=1)Era[e].animation.pause(t)},Dra.stop=function(t){for(var e=0;e<Gra;e+=1)Era[e].animation.stop(t)},Dra.togglePause=function(t){for(var e=0;e<Gra;e+=1)Era[e].animation.togglePause(t)},Dra.searchAnimations=function(t,e,i){for(var n,r=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),a=r.length,s=0;s<a;s+=1)i&&r[s].setAttribute("data-bm-type",i),Lra(r[s],t);e&&0===a&&(i=i||"svg",(n=document.getElementsByTagName("body")[0]).innerText="",(e=createTag("div")).style.width="100%",e.style.height="100%",e.setAttribute("data-bm-type",i),n.appendChild(e),Lra(e,t))},Dra.resize=function(){for(var t=0;t<Gra;t+=1)Era[t].animation.resize()},Dra.goToAndStop=function(t,e,i){for(var n=0;n<Gra;n+=1)Era[n].animation.goToAndStop(t,e,i)},Dra.destroy=function(t){for(var e=Gra-1;0<=e;--e)Era[e].animation.destroy(t)},Dra.freeze=function(){Jra=!0},Dra.unfreeze=function(){Jra=!1,Rra()},Dra.setVolume=function(t,e){for(var i=0;i<Gra;i+=1)Era[i].animation.setVolume(t,e)},Dra.mute=function(t){for(var e=0;e<Gra;e+=1)Era[e].animation.mute(t)},Dra.unmute=function(t){for(var e=0;e<Gra;e+=1)Era[e].animation.unmute(t)},Dra.getRegisteredAnimations=function(){for(var t=Era.length,e=[],i=0;i<t;i+=1)e.push(Era[i].animation);return e},Dra),AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=subframeEnabled,this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory()},Dra,Era,Fra,Gra,Hra,Ira,Jra;function Kra(t){for(var e=0,i=t.target;e<Gra;)Era[e].animation===i&&(Era.splice(e,1),--e,--Gra,i.isPaused||Nra()),e+=1}function Lra(t,e){if(!t)return null;for(var i=0;i<Gra;){if(Era[i].elem==t&&null!==Era[i].elem)return Era[i].animation;i+=1}var n=new AnimationItem;return Ora(n,t),n.setData(t,e),n}function Mra(){Hra+=1,Rra()}function Nra(){--Hra}function Ora(t,e){t.addEventListener("destroy",Kra),t.addEventListener("_active",Mra),t.addEventListener("_idle",Nra),Era.push({elem:e,animation:t}),Gra+=1}function Pra(t){for(var e=t-Fra,i=0;i<Gra;i+=1)Era[i].animation.advanceTime(e);Fra=t,Hra&&!Jra?window.requestAnimationFrame(Pra):Ira=!0}function Qra(t){Fra=t,window.requestAnimationFrame(Pra)}function Rra(){!Jra&&Hra&&Ira&&(window.requestAnimationFrame(Qra),Ira=!1)}extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(t){(t.wrapper||t.container)&&(this.wrapper=t.wrapper||t.container);var e=t.animType||t.renderer||"svg";switch(e){case"canvas":this.renderer=new CanvasRenderer(this,t.rendererSettings);break;case"svg":this.renderer=new SVGRenderer(this,t.rendererSettings);break;default:this.renderer=new HybridRenderer(this,t.rendererSettings)}this.imagePreloader.setCacheType(e,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=e,""===t.loop||null===t.loop||void 0===t.loop||!0===t.loop?this.loop=!0:!1===t.loop?this.loop=!1:this.loop=parseInt(t.loop),this.autoplay=!("autoplay"in t)||t.autoplay,this.name=t.name||"",this.autoloadSegments=!t.hasOwnProperty("autoloadSegments")||t.autoloadSegments,this.assetsPath=t.assetsPath,this.initialSegment=t.initialSegment,t.audioFactory&&this.audioController.setAudioFactory(t.audioFactory),t.animationData?this.configAnimation(t.animationData):t.path&&(-1!==t.path.lastIndexOf("\\")?this.path=t.path.substr(0,t.path.lastIndexOf("\\")+1):this.path=t.path.substr(0,t.path.lastIndexOf("/")+1),this.fileName=t.path.substr(t.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),assetLoader.load(t.path,this.configAnimation.bind(this),function(){this.trigger("data_failed")}.bind(this)))},AnimationItem.prototype.setData=function(t,e){var i={wrapper:t,animationData:e?"object"==_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(e)?e:JSON.parse(e):null},e=t.attributes;i.path=e.getNamedItem("data-animation-path")?e.getNamedItem("data-animation-path").value:e.getNamedItem("data-bm-path")?e.getNamedItem("data-bm-path").value:e.getNamedItem("bm-path")?e.getNamedItem("bm-path").value:"",i.animType=e.getNamedItem("data-anim-type")?e.getNamedItem("data-anim-type").value:e.getNamedItem("data-bm-type")?e.getNamedItem("data-bm-type").value:e.getNamedItem("bm-type")?e.getNamedItem("bm-type").value:e.getNamedItem("data-bm-renderer")?e.getNamedItem("data-bm-renderer").value:e.getNamedItem("bm-renderer")?e.getNamedItem("bm-renderer").value:"canvas";t=e.getNamedItem("data-anim-loop")?e.getNamedItem("data-anim-loop").value:e.getNamedItem("data-bm-loop")?e.getNamedItem("data-bm-loop").value:e.getNamedItem("bm-loop")?e.getNamedItem("bm-loop").value:"";""===t||(i.loop="false"!==t&&("true"===t||parseInt(t)));t=e.getNamedItem("data-anim-autoplay")?e.getNamedItem("data-anim-autoplay").value:e.getNamedItem("data-bm-autoplay")?e.getNamedItem("data-bm-autoplay").value:!e.getNamedItem("bm-autoplay")||e.getNamedItem("bm-autoplay").value;i.autoplay="false"!==t,i.name=e.getNamedItem("data-name")?e.getNamedItem("data-name").value:e.getNamedItem("data-bm-name")?e.getNamedItem("data-bm-name").value:e.getNamedItem("bm-name")?e.getNamedItem("bm-name").value:"","false"===(e.getNamedItem("data-anim-prerender")?e.getNamedItem("data-anim-prerender").value:e.getNamedItem("data-bm-prerender")?e.getNamedItem("data-bm-prerender").value:e.getNamedItem("bm-prerender")?e.getNamedItem("bm-prerender").value:"")&&(i.prerender=!1),this.setParams(i)},AnimationItem.prototype.includeLayers=function(t){t.op>this.animationData.op&&(this.animationData.op=t.op,this.totalFrames=Math.floor(t.op-this.animationData.ip));for(var e,i=this.animationData.layers,n=i.length,r=t.layers,a=r.length,s=0;s<a;s+=1)for(e=0;e<n;){if(i[e].id==r[s].id){i[e]=r[s];break}e+=1}if((t.chars||t.fonts)&&(this.renderer.globalData.fontManager.addChars(t.chars),this.renderer.globalData.fontManager.addFonts(t.fonts,this.renderer.globalData.defs)),t.assets)for(n=t.assets.length,e=0;e<n;e+=1)this.animationData.assets.push(t.assets[e]);this.animationData.__complete=!1,dataManager.completeData(this.animationData,this.renderer.globalData.fontManager),this.renderer.includeLayers(t.layers),expressionsPlugin&&expressionsPlugin.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var t=this.animationData.segments;if(!t||0===t.length||!this.autoloadSegments)return this.trigger("data_ready"),void(this.timeCompleted=this.totalFrames);t=t.shift();this.timeCompleted=t.time*this.frameRate;t=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,assetLoader.load(t,this.includeLayers.bind(this),function(){this.trigger("data_failed")}.bind(this))},AnimationItem.prototype.loadSegments=function(){this.animationData.segments||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(t){if(this.renderer)try{this.animationData=t,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(t),t.assets||(t.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(t.assets),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(t){this.triggerConfigError(t)}},AnimationItem.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){this.isLoaded||!this.renderer.globalData.fontManager.isLoaded||!this.imagePreloader.loaded()&&"canvas"===this.renderer.rendererType||(this.isLoaded=!0,dataManager.completeData(this.animationData,this.renderer.globalData.fontManager),expressionsPlugin&&expressionsPlugin.initExpressions(this),this.renderer.initItems(),setTimeout(function(){this.trigger("DOMLoaded")}.bind(this),0),this.gotoFrame(),this.autoplay&&this.play())},AnimationItem.prototype.resize=function(){this.renderer.updateContainerSize()},AnimationItem.prototype.setSubframe=function(t){this.isSubframeEnabled=!!t},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame()},AnimationItem.prototype.renderFrame=function(){if(!1!==this.isLoaded)try{this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(t){this.triggerRenderFrameError(t)}},AnimationItem.prototype.play=function(t){t&&this.name!=t||!0===this.isPaused&&(this.isPaused=!1,this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(t){t&&this.name!=t||!1===this.isPaused&&(this.isPaused=!0,this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(t){t&&this.name!=t||(!0===this.isPaused?this.play():this.pause())},AnimationItem.prototype.stop=function(t){t&&this.name!=t||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.goToAndStop=function(t,e,i){i&&this.name!=i||(e?this.setCurrentRawFrameValue(t):this.setCurrentRawFrameValue(t*this.frameModifier),this.pause())},AnimationItem.prototype.goToAndPlay=function(t,e,i){this.goToAndStop(t,e,i),this.play()},AnimationItem.prototype.advanceTime=function(t){var e;!0!==this.isPaused&&!1!==this.isLoaded&&(e=!1,(t=this.currentRawFrame+t*this.frameModifier)>=this.totalFrames-1&&0<this.frameModifier?this.loop&&this.playCount!==this.loop?t>=this.totalFrames?(this.playCount+=1,this.checkSegments(t%this.totalFrames)||(this.setCurrentRawFrameValue(t%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(t):this.checkSegments(t>this.totalFrames?t%this.totalFrames:0)||(e=!0,t=this.totalFrames-1):t<0?this.checkSegments(t%this.totalFrames)||(!this.loop||this.playCount--<=0&&!0!==this.loop?(e=!0,t=0):(this.setCurrentRawFrameValue(this.totalFrames+t%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0)):this.setCurrentRawFrameValue(t),e&&(this.setCurrentRawFrameValue(t),this.pause(),this.trigger("complete")))},AnimationItem.prototype.adjustSegment=function(t,e){this.playCount=0,t[1]<t[0]?(0<this.frameModifier&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.timeCompleted=this.totalFrames=t[0]-t[1],this.firstFrame=t[1],this.setCurrentRawFrameValue(this.totalFrames-.001-e)):t[1]>t[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.timeCompleted=this.totalFrames=t[1]-t[0],this.firstFrame=t[0],this.setCurrentRawFrameValue(.001+e)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(t,e){var i=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<t?i=t:this.currentRawFrame+this.firstFrame>e&&(i=e-t)),this.firstFrame=t,this.timeCompleted=this.totalFrames=e-t,-1!==i&&this.goToAndStop(i,!0)},AnimationItem.prototype.playSegments=function(t,e){if(e&&(this.segments.length=0),"object"==_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(t[0]))for(var i=t.length,n=0;n<i;n+=1)this.segments.push(t[n]);else this.segments.push(t);this.segments.length&&e&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(t){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),t&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(t){return!!this.segments.length&&(this.adjustSegment(this.segments.shift(),t),!0)},AnimationItem.prototype.destroy=function(t){t&&this.name!=t||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=this.onLoopComplete=this.onComplete=this.onSegmentStart=this.onDestroy=null,this.renderer=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(t){this.currentRawFrame=t,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(t){this.playSpeed=t,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(t){this.playDirection=t<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setVolume=function(t,e){e&&this.name!==e||this.audioController.setVolume(t)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(t){t&&this.name!==t||this.audioController.mute()},AnimationItem.prototype.unmute=function(t){t&&this.name!==t||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(t){var e,i="";return t.e?i=t.p:this.assetsPath?(-1!==(e=t.p).indexOf("images/")&&(e=e.split("/")[1]),i=this.assetsPath+e):(i=this.path,i+=t.u||"",i+=t.p),i},AnimationItem.prototype.getAssetData=function(t){for(var e=0,i=this.assets.length;e<i;){if(t==this.assets[e].id)return this.assets[e];e+=1}},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(t){return t?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.trigger=function(t){if(this._cbs&&this._cbs[t])switch(t){case"enterFrame":this.triggerEvent(t,new BMEnterFrameEvent(t,this.currentFrame,this.totalFrames,this.frameModifier));break;case"loopComplete":this.triggerEvent(t,new BMCompleteLoopEvent(t,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(t,new BMCompleteEvent(t,this.frameMult));break;case"segmentStart":this.triggerEvent(t,new BMSegmentStartEvent(t,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(t,new BMDestroyEvent(t,this));break;default:this.triggerEvent(t)}"enterFrame"===t&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(t,this.currentFrame,this.totalFrames,this.frameMult)),"loopComplete"===t&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(t,this.loop,this.playCount,this.frameMult)),"complete"===t&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(t,this.frameMult)),"segmentStart"===t&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(t,this.firstFrame,this.totalFrames)),"destroy"===t&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(t,this))},AnimationItem.prototype.triggerRenderFrameError=function(t){t=new BMRenderFrameErrorEvent(t,this.currentFrame);this.triggerEvent("error",t),this.onError&&this.onError.call(this,t)},AnimationItem.prototype.triggerConfigError=function(t){t=new BMConfigErrorEvent(t,this.currentFrame);this.triggerEvent("error",t),this.onError&&this.onError.call(this,t)};var Expressions=(lY={},lY.initExpressions=function(t){var e=0,i=[];t.renderer.compInterface=CompExpressionInterface(t.renderer),t.renderer.globalData.projectInterface.registerComposition(t.renderer),t.renderer.globalData.pushExpression=function(){e+=1},t.renderer.globalData.popExpression=function(){0==--e&&function(){for(var t=i.length,e=0;e<t;e+=1)i[e].release();i.length=0}()},t.renderer.globalData.registerExpressionProperty=function(t){-1===i.indexOf(t)&&i.push(t)}},lY),lY,expressionsPlugin=Expressions,ExpressionManager=function(){var ob={},Math=BMMath,window=null,document=null;function $bm_isInstanceOfArray(t){return t.constructor===Array||t.constructor===Float32Array}function isNumerable(t,e){return"number"===t||"boolean"===t||"string"===t||e instanceof Number}function $bm_neg(t){var e=_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(t);if("number"===e||"boolean"===e||t instanceof Number)return-t;if($bm_isInstanceOfArray(t)){for(var i=t.length,n=[],r=0;r<i;r+=1)n[r]=-t[r];return n}return t.propType&&t.v}var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(t,e){var i=_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(t),n=_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(e);if("string"===i||"string"===n)return t+e;if(isNumerable(i,t)&&isNumerable(n,e))return t+e;if($bm_isInstanceOfArray(t)&&isNumerable(n,e))return(t=t.slice(0))[0]=t[0]+e,t;if(isNumerable(i,t)&&$bm_isInstanceOfArray(e))return(e=e.slice(0))[0]=t+e[0],e;if($bm_isInstanceOfArray(t)&&$bm_isInstanceOfArray(e)){for(var r=0,a=t.length,s=e.length,o=[];r<a||r<s;)("number"==typeof t[r]||t[r]instanceof Number)&&("number"==typeof e[r]||e[r]instanceof Number)?o[r]=t[r]+e[r]:o[r]=void 0===e[r]?t[r]:t[r]||e[r],r+=1;return o}return 0}var add=sum;function sub(t,e){var i=_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(t),n=_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(e);if(isNumerable(i,t)&&isNumerable(n,e))return(t="string"===i?parseInt(t):t)-(e="string"===n?parseInt(e):e);if($bm_isInstanceOfArray(t)&&isNumerable(n,e))return(t=t.slice(0))[0]=t[0]-e,t;if(isNumerable(i,t)&&$bm_isInstanceOfArray(e))return(e=e.slice(0))[0]=t-e[0],e;if($bm_isInstanceOfArray(t)&&$bm_isInstanceOfArray(e)){for(var r=0,a=t.length,s=e.length,o=[];r<a||r<s;)("number"==typeof t[r]||t[r]instanceof Number)&&("number"==typeof e[r]||e[r]instanceof Number)?o[r]=t[r]-e[r]:o[r]=void 0===e[r]?t[r]:t[r]||e[r],r+=1;return o}return 0}function mul(t,e){var i,n,r,a=_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(t),s=_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(e);if(isNumerable(a,t)&&isNumerable(s,e))return t*e;if($bm_isInstanceOfArray(t)&&isNumerable(s,e)){for(r=t.length,i=createTypedArray("float32",r),n=0;n<r;n+=1)i[n]=t[n]*e;return i}if(isNumerable(a,t)&&$bm_isInstanceOfArray(e)){for(r=e.length,i=createTypedArray("float32",r),n=0;n<r;n+=1)i[n]=t*e[n];return i}return 0}function div(t,e){var i,n,r,a=_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(t),s=_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(e);if(isNumerable(a,t)&&isNumerable(s,e))return t/e;if($bm_isInstanceOfArray(t)&&isNumerable(s,e)){for(r=t.length,i=createTypedArray("float32",r),n=0;n<r;n+=1)i[n]=t[n]/e;return i}if(isNumerable(a,t)&&$bm_isInstanceOfArray(e)){for(r=e.length,i=createTypedArray("float32",r),n=0;n<r;n+=1)i[n]=t/e[n];return i}return 0}function mod(t,e){return(t="string"==typeof t?parseInt(t):t)%(e="string"==typeof e?parseInt(e):e)}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(t,e,i){var n;return i<e&&(n=i,i=e,e=n),Math.min(Math.max(t,e),i)}function radiansToDegrees(t){return t/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(t){return t*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(t,e){if("number"==typeof t||t instanceof Number)return Math.abs(t-(e=e||0));for(var i=Math.min(t.length,(e=e||helperLengthArray).length),n=0,r=0;r<i;r+=1)n+=Math.pow(e[r]-t[r],2);return Math.sqrt(n)}function normalize(t){return div(t,length(t))}function rgbToHsl(t){var e=t[0],i=t[1],n=t[2],r=Math.max(e,i,n),a=Math.min(e,i,n);if(r==a)0;else{switch(r){case e:0;break;case i:0;break;case n:0}0}return t[3],1}function hue2rgb(t,e,i){return i<0&&(i+=1),1<i&&--i,i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t}function hslToRgb(t){var e=t[0],i=t[1],n=t[2];return 0===i?0:(hue2rgb(i=2*n-(n=n<.5?n*(1+i):n+i-n*i),n,e+1/3),hue2rgb(i,n,e),hue2rgb(i,n,e-1/3)),t[3],1}function linear(t,e,i,n,r){var a;if(void 0!==n&&void 0!==r||(n=e,r=i,e=0,i=1),i<e&&(a=i,i=e,e=a),t<=e)return n;if(i<=t)return r;var s=i===e?0:(t-e)/(i-e);if(!n.length)return n+(r-n)*s;for(var o=n.length,l=createTypedArray("float32",o),h=0;h<o;h+=1)l[h]=n[h]+(r[h]-n[h])*s;return l}function random(t,e){if(void 0===e&&(void 0===t?(t=0,e=1):(e=t,t=void 0)),e.length){var i=e.length;t=t||createTypedArray("float32",i);for(var n=createTypedArray("float32",i),r=BMMath.random(),a=0;a<i;a+=1)n[a]=t[a]+r*(e[a]-t[a]);return n}return(t=void 0===t?0:t)+BMMath.random()*(e-t)}function createPath(t,e,i,n){var r=t.length,a=shape_pool.newElement();a.setPathData(!!n,r);for(var s,o,l=[0,0],h=0;h<r;h+=1)s=e&&e[h]?e[h]:l,o=i&&i[h]?i[h]:l,a.setTripleAt(t[h][0],t[h][1],o[0]+t[h][0],o[1]+t[h][1],s[0]+t[h][0],s[1]+t[h][1],h,!0);return a}function initiateExpression(elem,data,property){var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=-1!==val.indexOf("random"),elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw||0,height=elem.data.sh||0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,__expression_functions=[],scoped_bm_rt;if(data.xf)for(var i,len=data.xf.length,i=0;i<len;i+=1)__expression_functions[i]=eval("(function(){ return "+data.xf[i]+"}())");var expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||!0!==this.data.hd,wiggle=function(t,e){for(var i,n=this.pv.length||1,r=createTypedArray("float32",n),a=Math.floor(5*time),s=i=0;i<a;){for(s=0;s<n;s+=1)r[s]+=-e+2*e*BMMath.random();i+=1}var o=5*time,l=o-Math.floor(o),h=createTypedArray("float32",n);if(1<n){for(s=0;s<n;s+=1)h[s]=this.pv[s]+r[s]+(-e+2*e*BMMath.random())*l;return h}return this.pv+r[0]+(-e+2*e*BMMath.random())*l}.bind(this);function loopInDuration(t,e){return loopIn(t,e,!0)}function loopOutDuration(t,e){return loopOut(t,e,!0)}thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty)),this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface),time,velocity,value,text,textIndex,textTotal,selectorValue;function lookAt(t,e){t=[e[0]-t[0],e[1]-t[1],e[2]-t[2]],Math.atan2(t[0],Math.sqrt(t[1]*t[1]+t[2]*t[2]));return Math.atan2(t[1],t[2]),1}function easeOut(t,e,i,n,r){return applyEase(easeOutBez,t,e,i,n,r)}function easeIn(t,e,i,n,r){return applyEase(easeInBez,t,e,i,n,r)}function ease(t,e,i,n,r){return applyEase(easeInOutBez,t,e,i,n,r)}function applyEase(t,e,i,n,r,a){void 0===r?(r=i,a=n):e=(e-i)/(n-i);var s=t(e=1<e?1:e<0?0:e);if($bm_isInstanceOfArray(r)){for(var o=r.length,l=createTypedArray("float32",o),h=0;h<o;h+=1)l[h]=(a[h]-r[h])*s+r[h];return l}return(a-r)*s+r}function nearestKey(t){var e,i,n,r=data.k.length;if(data.k.length&&"number"!=typeof data.k[0])if(i=-1,(t*=elem.comp.globalData.frameRate)<data.k[0].t)i=1,n=data.k[0].t;else{for(e=0;e<r-1;e+=1){if(t===data.k[e].t){i=e+1,n=data.k[e].t;break}if(t>data.k[e].t&&t<data.k[e+1].t){n=t-data.k[e].t>data.k[e+1].t-t?(i=e+2,data.k[e+1].t):(i=e+1,data.k[e].t);break}}-1===i&&(i=e+1,n=data.k[e].t)}else n=i=0;var a={};return a.index=i,a.time=n/elem.comp.globalData.frameRate,a}function key(t){if(!data.k.length||"number"==typeof data.k[0])throw new Error("The property has no keyframe at index "+t);for(var e={time:data.k[--t].t/elem.comp.globalData.frameRate,value:[]},i=data.k[t].hasOwnProperty("s")?data.k[t].s:data.k[t-1].e,n=i.length,r=0;r<n;r+=1)e[r]=i[r],e.value[r]=i[r];return e}function framesToTime(t,e){return t/(e=e||elem.comp.globalData.frameRate)}function timeToFrames(t,e){return(t=!t&&0!==t?time:t)*(e=e||elem.comp.globalData.frameRate)}function seedRandom(t){BMMath.seedrandom(randSeed+t)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(t,e){return"string"==typeof value&&(void 0===e?value.substring(t):value.substring(t,e))}function substr(t,e){return"string"==typeof value&&(void 0===e?value.substr(t):value.substr(t,e))}function posterizeTime(t){time=0===t?0:Math.floor(time*t)/t,value=valueAtTime(time)}var index=elem.data.ind,hasParent=!(!elem.hierarchy||!elem.hierarchy.length),parent,randSeed=Math.floor(1e6*Math.random()),globalData=elem.globalData;function executeExpression(t){return value=t,_needsRandom&&seedRandom(randSeed),this.frameExpressionId===elem.globalData.frameId&&"textSelector"!==this.propType?value:("textSelector"===this.propType&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),($bm_transform=transform)&&(anchorPoint=transform.anchorPoint)),4!==elemType||content||(content=thisLayer("ADBE Root Vectors Group")),effect=effect||thisLayer(4),(hasParent=!(!elem.hierarchy||!elem.hierarchy.length))&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,scoped_bm_rt="shape"===scoped_bm_rt.propType?scoped_bm_rt.v:scoped_bm_rt)}return executeExpression}return ob.initiateExpression=initiateExpression,ob}(),expressionHelpers={searchExpressions:function(t,e,i){e.x&&(i.k=!0,i.x=!0,i.initiateExpression=ExpressionManager.initiateExpression,i.effectsSequence.push(i.initiateExpression(t,e,i).bind(i)))},getSpeedAtTime:function(t){var e=this.getValueAtTime(t),i=this.getValueAtTime(t+-.01),n=0;if(e.length){for(var r=0;r<e.length;r+=1)n+=Math.pow(i[r]-e[r],2);n=100*Math.sqrt(n)}else n=0;return n},getVelocityAtTime:function(t){if(void 0!==this.vel)return this.vel;var e,i,n=this.getValueAtTime(t),r=this.getValueAtTime(t+-.001);if(n.length)for(e=createTypedArray("float32",n.length),i=0;i<n.length;i+=1)e[i]=(r[i]-n[i])/-.001;else e=(r-n)/-.001;return e},getValueAtTime:function(t){return t*=this.elem.globalData.frameRate,(t-=this.offsetTime)!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<t?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(t,this._cachingAtTime),this._cachingAtTime.lastFrame=t),this._cachingAtTime.value},getStaticValueAtTime:function(){return this.pv},setGroupProperty:function(t){this.propertyGroup=t}};!function(){function s(t,e,i){if(!this.k||!this.keyframes)return this.pv;t=t?t.toLowerCase():"";var n,r,a,s,o,l=this.comp.renderedFrame,h=this.keyframes,c=h[h.length-1].t;if(l<=c)return this.pv;if(i?r=c-(n=e?Math.abs(c-elem.comp.globalData.frameRate*e):Math.max(0,c-this.elem.data.ip)):((!e||e>h.length-1)&&(e=h.length-1),n=c-(r=h[h.length-1-e].t)),"pingpong"===t){if(Math.floor((l-r)/n)%2!=0)return this.getValueAtTime((n-(l-r)%n+r)/this.comp.globalData.frameRate,0)}else{if("offset"===t){var p=this.getValueAtTime(r/this.comp.globalData.frameRate,0),u=this.getValueAtTime(c/this.comp.globalData.frameRate,0),m=this.getValueAtTime(((l-r)%n+r)/this.comp.globalData.frameRate,0),d=Math.floor((l-r)/n);if(this.pv.length){for(s=(o=new Array(p.length)).length,a=0;a<s;a+=1)o[a]=(u[a]-p[a])*d+m[a];return o}return(u-p)*d+m}if("continue"===t){var f=this.getValueAtTime(c/this.comp.globalData.frameRate,0),g=this.getValueAtTime((c-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(s=(o=new Array(f.length)).length,a=0;a<s;a+=1)o[a]=f[a]+(f[a]-g[a])*((l-c)/this.comp.globalData.frameRate)/5e-4;return o}return f+(l-c)/.001*(f-g)}}return this.getValueAtTime(((l-r)%n+r)/this.comp.globalData.frameRate,0)}function o(t,e,i){if(!this.k)return this.pv;t=t?t.toLowerCase():"";var n,r,a,s,o,l=this.comp.renderedFrame,h=this.keyframes,c=h[0].t;if(c<=l)return this.pv;if(i?r=c+(n=e?Math.abs(elem.comp.globalData.frameRate*e):Math.max(0,this.elem.data.op-c)):n=(r=h[e=!e||e>h.length-1?h.length-1:e].t)-c,"pingpong"===t){if(Math.floor((c-l)/n)%2==0)return this.getValueAtTime(((c-l)%n+c)/this.comp.globalData.frameRate,0)}else{if("offset"===t){var p=this.getValueAtTime(c/this.comp.globalData.frameRate,0),u=this.getValueAtTime(r/this.comp.globalData.frameRate,0),m=this.getValueAtTime((n-(c-l)%n+c)/this.comp.globalData.frameRate,0),d=Math.floor((c-l)/n)+1;if(this.pv.length){for(s=(o=new Array(p.length)).length,a=0;a<s;a+=1)o[a]=m[a]-(u[a]-p[a])*d;return o}return m-(u-p)*d}if("continue"===t){var f=this.getValueAtTime(c/this.comp.globalData.frameRate,0),g=this.getValueAtTime((c+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(s=(o=new Array(f.length)).length,a=0;a<s;a+=1)o[a]=f[a]+(f[a]-g[a])*(c-l)/.001;return o}return f+(f-g)*(c-l)/.001}}return this.getValueAtTime((n-(c-l)%n+c)/this.comp.globalData.frameRate,0)}function l(t,e){if(!this.k)return this.pv;if(t=.5*(t||.4),(e=Math.floor(e||5))<=1)return this.pv;for(var i,n=this.comp.renderedFrame/this.comp.globalData.frameRate,r=n-t,a=1<e?(n+t-r)/(e-1):1,s=0,o=0,l=this.pv.length?createTypedArray("float32",this.pv.length):0;s<e;){if(i=this.getValueAtTime(r+s*a),this.pv.length)for(o=0;o<this.pv.length;o+=1)l[o]+=i[o];else l+=i;s+=1}if(this.pv.length)for(o=0;o<this.pv.length;o+=1)l[o]/=e;else l/=e;return l}var n=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(t,e,i){i=n(t,e,i);return i.dynamicProperties.length?i.getValueAtTime=function(t){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var e,i,n,r,a,s,o=this._transformCachingAtTime.v;return o.cloneFromProps(this.pre.props),this.appliedTransformations<1&&(e=this.a.getValueAtTime(t),o.translate(-e[0]*this.a.mult,-e[1]*this.a.mult,e[2]*this.a.mult)),this.appliedTransformations<2&&(i=this.s.getValueAtTime(t),o.scale(i[0]*this.s.mult,i[1]*this.s.mult,i[2]*this.s.mult)),this.sk&&this.appliedTransformations<3&&(e=this.sk.getValueAtTime(t),i=this.sa.getValueAtTime(t),o.skewFromAxis(-e*this.sk.mult,i*this.sa.mult)),this.r&&this.appliedTransformations<4?(n=this.r.getValueAtTime(t),o.rotate(-n*this.r.mult)):!this.r&&this.appliedTransformations<4&&(n=this.rz.getValueAtTime(t),r=this.ry.getValueAtTime(t),a=this.rx.getValueAtTime(t),s=this.or.getValueAtTime(t),o.rotateZ(-n*this.rz.mult).rotateY(r*this.ry.mult).rotateX(a*this.rx.mult).rotateZ(-s[2]*this.or.mult).rotateY(s[1]*this.or.mult).rotateX(s[0]*this.or.mult)),this.data.p&&this.data.p.s?(r=this.px.getValueAtTime(t),a=this.py.getValueAtTime(t),this.data.p.z?(s=this.pz.getValueAtTime(t),o.translate(r*this.px.mult,a*this.py.mult,-s*this.pz.mult)):o.translate(r*this.px.mult,a*this.py.mult,0)):(t=this.p.getValueAtTime(t),o.translate(t[0]*this.p.mult,t[1]*this.p.mult,-t[2]*this.p.mult)),o}.bind(i):i.getValueAtTime=function(t){return this.v.clone(new Matrix)}.bind(i),i.setGroupProperty=expressionHelpers.setGroupProperty,i};var h=PropertyFactory.getProp;PropertyFactory.getProp=function(t,e,i,n,r){var a=h(t,e,i,n,r);a.kf?a.getValueAtTime=expressionHelpers.getValueAtTime.bind(a):a.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(a),a.setGroupProperty=expressionHelpers.setGroupProperty,a.loopOut=s,a.loopIn=o,a.smooth=l,a.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(a),a.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(a),a.numKeys=1===e.a?e.k.length:0,a.propertyIndex=e.ix;n=0;return 0!==i&&(n=createTypedArray("float32",(1===e.a?e.k[0].s:e.k).length)),a._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:n},expressionHelpers.searchExpressions(t,e,a),a.k&&r.addDynamicProperty(a),a};var t=ShapePropertyFactory.getConstructorFunction(),e=ShapePropertyFactory.getKeyframedConstructorFunction();function i(){}i.prototype={vertices:function(t,e){this.k&&this.getValue();for(var i=this.v,n=(i=void 0!==e?this.getValueAtTime(e,0):i)._length,r=i[t],a=i.v,s=createSizedArray(n),o=0;o<n;o+=1)s[o]="i"===t||"o"===t?[r[o][0]-a[o][0],r[o][1]-a[o][1]]:[r[o][0],r[o][1]];return s},points:function(t){return this.vertices("v",t)},inTangents:function(t){return this.vertices("i",t)},outTangents:function(t){return this.vertices("o",t)},isClosed:function(){return this.v.c},pointOnPath:function(t,e){var i=this.v;void 0!==e&&(i=this.getValueAtTime(e,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(i));for(var e=this._segmentsLength,n=e.lengths,r=e.totalLength*t,a=0,s=n.length,o=0;a<s;){if(o+n[a].addedLength>r){var l=a,h=i.c&&a===s-1?0:a+1,c=(r-o)/n[a].addedLength,p=bez.getPointInSegment(i.v[l],i.v[h],i.o[l],i.i[h],c,n[a]);break}o+=n[a].addedLength,a+=1}return p=p||(i.c?[i.v[0][0],i.v[0][1]]:[i.v[i._length-1][0],i.v[i._length-1][1]])},vectorOnPath:function(t,e,i){t=1==t?this.v.c?0:.999:t;var n=this.pointOnPath(t,e),t=this.pointOnPath(t+.001,e),e=t[0]-n[0],t=t[1]-n[1],n=Math.sqrt(Math.pow(e,2)+Math.pow(t,2));return 0===n?[0,0]:"tangent"===i?[e/n,t/n]:[-t/n,e/n]},tangentOnPath:function(t,e){return this.vectorOnPath(t,e,"tangent")},normalOnPath:function(t,e){return this.vectorOnPath(t,e,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([i],t),extendPrototype([i],e),e.prototype.getValueAtTime=function(t){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shape_pool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),t*=this.elem.globalData.frameRate,(t-=this.offsetTime)!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<t?this._caching.lastIndex:0,this._cachingAtTime.lastTime=t,this.interpolateShape(t,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue},e.prototype.initiateExpression=ExpressionManager.initiateExpression;var a=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(t,e,i,n,r){r=a(t,e,i,n,r);return r.propertyIndex=e.ix,r.lock=!1,3===i?expressionHelpers.searchExpressions(t,e.pt,r):4===i&&expressionHelpers.searchExpressions(t,e.ks,r),r.k&&t.addDynamicProperty(r),r}}(),TextProperty.prototype.getExpressionValue=function(t,e){var i=this.calculateExpression(e);if(t.t===i)return t;e={};return this.copyData(e,t),e.t=i.toString(),e.__complete=!1,e},TextProperty.prototype.searchProperty=function(){var t=this.searchKeyframes(),e=this.searchExpressions();return this.kf=t||e,this.kf},TextProperty.prototype.searchExpressions=function(){if(this.data.d.x)return this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0};var ShapePathInterface=function(t,e,i){var n=e.sh;function r(t){if("Shape"===t||"shape"===t||"Path"===t||"path"===t||"ADBE Vector Shape"===t||2===t)return r.path}e=propertyGroupFactory(r,i);return n.setGroupProperty(PropertyInterface("Path",e)),Object.defineProperties(r,{path:{get:function(){return n.k&&n.getValue(),n}},shape:{get:function(){return n.k&&n.getValue(),n}},_name:{value:t.nm},ix:{value:t.ix},propertyIndex:{value:t.ix},mn:{value:t.mn},propertyGroup:{value:i}}),r},propertyGroupFactory=function(e,i){return function(t){return(t=void 0===t?1:t)<=0?e:i(t-1)}},PropertyInterface=function(t,e){var i={_name:t};return function(t){return(t=void 0===t?1:t)<=0?i:e(--t)}},ShapeExpressionInterface=function(t,e,n){var r;function i(t){if("number"==typeof t)return 0===(t=void 0===t?1:t)?n:r[t-1];for(var e=0,i=r.length;e<i;){if(r[e]._name===t)return r[e];e+=1}}return i.propertyGroup=propertyGroupFactory(i,function(){return n}),r=CAa(t,e,i.propertyGroup),i.numProperties=r.length,i._name="Contents",i},TextExpressionInterface=function(e){var i;function n(t){if("ADBE Text Document"===t)return n.sourceText}return Object.defineProperty(n,"sourceText",{get:function(){e.textProperty.getValue();var t=e.textProperty.currentData.t;return void 0!==t&&(e.textProperty.currentData.t=void 0,(i=new String(t)).value=t||new String(t)),i}}),n},LayerExpressionInterface=function(e){var i;function n(t){switch(t){case"ADBE Root Vectors Group":case"Contents":case 2:return n.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return i;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return n.effect;case"ADBE Text Properties":return n.textInterface}}n.getMatrix=JCa,n.invertPoint=PCa,n.applyPoint=OCa,n.toWorld=LCa,n.toWorldVec=KCa,n.fromWorld=NCa,n.fromWorldVec=MCa,n.toComp=LCa,n.fromComp=QCa,n.sampleImage=RCa,n.sourceRectAtTime=e.sourceRectAtTime.bind(e);var t=getDescriptor(i=TransformExpressionInterface((n._elem=e).finalTransform.mProp),"anchorPoint");return Object.defineProperties(n,{hasParent:{get:function(){return e.hierarchy.length}},parent:{get:function(){return e.hierarchy[0].layerInterface}},rotation:getDescriptor(i,"rotation"),scale:getDescriptor(i,"scale"),position:getDescriptor(i,"position"),opacity:getDescriptor(i,"opacity"),anchorPoint:t,anchor_point:t,transform:{get:function(){return i}},active:{get:function(){return e.isInRange}}}),n.startTime=e.data.st,n.index=e.data.ind,n.source=e.data.refId,n.height=0===e.data.ty?e.data.h:100,n.width=0===e.data.ty?e.data.w:100,n.inPoint=e.data.ip/e.comp.globalData.frameRate,n.outPoint=e.data.op/e.comp.globalData.frameRate,n._name=e.data.nm,n.registerMaskInterface=function(t){n.mask=new MaskManagerInterface(t,e)},n.registerEffectsInterface=function(t){n.effect=t},n},CompExpressionInterface=function(n){function t(t){for(var e=0,i=n.layers.length;e<i;){if(n.layers[e].nm===t||n.layers[e].ind===t)return n.elements[e].layerInterface;e+=1}return null}return Object.defineProperty(t,"_name",{value:n.data.nm}),(t.layer=t).pixelAspect=1,t.height=n.data.h||n.globalData.compSize.h,t.width=n.data.w||n.globalData.compSize.w,t.pixelAspect=1,t.frameDuration=1/n.globalData.frameRate,t.displayStartTime=0,t.numLayers=n.layers.length,t},TransformExpressionInterface=function(t){function e(t){switch(t){case"scale":case"Scale":case"ADBE Scale":case 6:return e.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return e.rotation;case"ADBE Rotate X":return e.xRotation;case"ADBE Rotate Y":return e.yRotation;case"position":case"Position":case"ADBE Position":case 2:return e.position;case"ADBE Position_0":return e.xPosition;case"ADBE Position_1":return e.yPosition;case"ADBE Position_2":return e.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return e.anchorPoint;case"opacity":case"Opacity":case 11:return e.opacity}}var i,n,r,a;return Object.defineProperty(e,"rotation",{get:ExpressionPropertyInterface(t.r||t.rz)}),Object.defineProperty(e,"zRotation",{get:ExpressionPropertyInterface(t.rz||t.r)}),Object.defineProperty(e,"xRotation",{get:ExpressionPropertyInterface(t.rx)}),Object.defineProperty(e,"yRotation",{get:ExpressionPropertyInterface(t.ry)}),Object.defineProperty(e,"scale",{get:ExpressionPropertyInterface(t.s)}),t.p?i=ExpressionPropertyInterface(t.p):(r=ExpressionPropertyInterface(t.px),a=ExpressionPropertyInterface(t.py),t.pz&&(n=ExpressionPropertyInterface(t.pz))),Object.defineProperty(e,"position",{get:function(){return t.p?i():[r(),a(),n?n():0]}}),Object.defineProperty(e,"xPosition",{get:ExpressionPropertyInterface(t.px)}),Object.defineProperty(e,"yPosition",{get:ExpressionPropertyInterface(t.py)}),Object.defineProperty(e,"zPosition",{get:ExpressionPropertyInterface(t.pz)}),Object.defineProperty(e,"anchorPoint",{get:ExpressionPropertyInterface(t.a)}),Object.defineProperty(e,"opacity",{get:ExpressionPropertyInterface(t.o)}),Object.defineProperty(e,"skew",{get:ExpressionPropertyInterface(t.sk)}),Object.defineProperty(e,"skewAxis",{get:ExpressionPropertyInterface(t.sa)}),Object.defineProperty(e,"orientation",{get:ExpressionPropertyInterface(t.or)}),e},ProjectInterface=function(){function t(t){for(var e=0,i=this.compositions.length;e<i;){if(this.compositions[e].data&&this.compositions[e].data.nm===t)return this.compositions[e].prepareFrame&&this.compositions[e].data.xt&&this.compositions[e].prepareFrame(this.currentFrame),this.compositions[e].compInterface;e+=1}}return t.compositions=[],t.currentFrame=0,t.registerComposition=QDa,t},EffectsExpressionInterface={createEffectsInterface:function(t,e){if(t.effectsManager){for(var i=[],n=t.data.ef,r=t.effectsManager.effectElements.length,a=0;a<r;a+=1)i.push(WDa(n[a],t.effectsManager.effectElements[a],e,t));var s=t.data.ef||[],o=function(t){for(a=0,r=s.length;a<r;){if(t===s[a].nm||t===s[a].mn||t===s[a].ix)return i[a];a+=1}};return Object.defineProperty(o,"numProperties",{get:function(){return s.length}}),o}}},MaskManagerInterface=(Object.defineProperty(CEa.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(CEa.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),100*this._mask.op.v}}),function(e,t){for(var i=createSizedArray(e.viewData.length),n=e.viewData.length,r=0;r<n;r+=1)i[r]=new CEa(e.viewData[r],e.masksProperties[r]);return function(t){for(r=0;r<n;){if(e.masksProperties[r].nm===t)return i[r];r+=1}}}),ExpressionPropertyInterface=(NEa={pv:0,v:0,mult:1},OEa={pv:[0,0,0],v:[0,0,0],mult:1},function(t){return t?"unidimensional"===t.propType?(o=1/(s=!((s=t)&&"pv"in s)?NEa:s).mult,l=s.pv*o,(h=new Number(l)).value=l,PEa(h,s,"unidimensional"),function(){return s.k&&s.getValue(),l=s.v*o,h.value!==l&&((h=new Number(l)).value=l,PEa(h,s,"unidimensional")),h}):(i=1/(e=!((e=t)&&"pv"in e)?OEa:e).mult,n=e.data&&e.data.l||e.pv.length,r=createTypedArray("float32",n),a=createTypedArray("float32",n),r.value=a,PEa(r,e,"multidimensional"),function(){e.k&&e.getValue();for(var t=0;t<n;t+=1)r[t]=a[t]=e.v[t]*i;return r}):QEa;var e,i,n,r,a,s,o,l,h}),z7,A7,NEa,OEa;function PEa(n,r,a){Object.defineProperty(n,"velocity",{get:function(){return r.getVelocityAtTime(r.comp.currentFrame)}}),n.numKeys=r.keyframes?r.keyframes.length:0,n.key=function(t){if(n.numKeys){var e="s"in r.keyframes[t-1]?r.keyframes[t-1].s:"e"in r.keyframes[t-2]?r.keyframes[t-2].e:r.keyframes[t-2].s,i="unidimensional"===a?new Number(e):Object.assign({},e);return i.time=r.keyframes[t-1].t/r.elem.comp.globalData.frameRate,i.value="unidimensional"===a?e[0]:e,i}return 0},n.valueAtTime=r.getValueAtTime,n.speedAtTime=r.getSpeedAtTime,n.velocityAtTime=r.getVelocityAtTime,n.propertyGroup=r.propertyGroup}function QEa(){return NEa}function CEa(t,e){this._mask=t,this._data=e}function WDa(r,t,e,i){function n(t){for(var e=r.ef,i=0,n=e.length;i<n;){if(t===e[i].nm||t===e[i].mn||t===e[i].ix)return 5===e[i].ty?s[i]:s[i]();i+=1}throw new Error}for(var a=propertyGroupFactory(n,e),s=[],o=r.ef.length,l=0;l<o;l+=1)5===r.ef[l].ty?s.push(WDa(r.ef[l],t.effectElements[l],t.effectElements[l].propertyGroup,i)):s.push(function(t,e,i,n){var r=ExpressionPropertyInterface(t.p);return t.p.setGroupProperty&&t.p.setGroupProperty(PropertyInterface("",n)),function(){return 10===e?i.comp.compInterface(t.p.v):r()}}(t.effectElements[l],r.ef[l].ty,i,a));return"ADBE Color Control"===r.mn&&Object.defineProperty(n,"color",{get:function(){return s[0]()}}),Object.defineProperties(n,{numProperties:{get:function(){return r.np}},_name:{value:r.nm},propertyGroup:{value:a}}),n.active=n.enabled=0!==r.en,n}function QDa(t){this.compositions.push(t)}function JCa(t){var e=new Matrix;return void 0!==t?this._elem.finalTransform.mProp.getValueAtTime(t).clone(e):this._elem.finalTransform.mProp.applyToMatrix(e),e}function KCa(t,e){e=this.getMatrix(e);return e.props[12]=e.props[13]=e.props[14]=0,this.applyPoint(e,t)}function LCa(t,e){e=this.getMatrix(e);return this.applyPoint(e,t)}function MCa(t,e){e=this.getMatrix(e);return e.props[12]=e.props[13]=e.props[14]=0,this.invertPoint(e,t)}function NCa(t,e){e=this.getMatrix(e);return this.invertPoint(e,t)}function OCa(t,e){if(this._elem.hierarchy&&this._elem.hierarchy.length)for(var i=this._elem.hierarchy.length,n=0;n<i;n+=1)this._elem.hierarchy[n].finalTransform.mProp.applyToMatrix(t);return t.applyToPointArray(e[0],e[1],e[2]||0)}function PCa(t,e){if(this._elem.hierarchy&&this._elem.hierarchy.length)for(var i=this._elem.hierarchy.length,n=0;n<i;n+=1)this._elem.hierarchy[n].finalTransform.mProp.applyToMatrix(t);return t.inversePoint(e)}function QCa(t){var e=new Matrix;if(e.reset(),this._elem.finalTransform.mProp.applyToMatrix(e),this._elem.hierarchy&&this._elem.hierarchy.length){for(var i=this._elem.hierarchy.length,n=0;n<i;n+=1)this._elem.hierarchy[n].finalTransform.mProp.applyToMatrix(e);return e.inversePoint(t)}return e.inversePoint(t)}function RCa(){return[1,1,1,1]}function CAa(t,e,i){for(var n=[],r=t?t.length:0,a=0;a<r;a+=1)"gr"==t[a].ty?n.push(function(t,e,i){function r(t){switch(t){case"ADBE Vectors Group":case"Contents":case 2:return r.content;default:return r.transform}}r.propertyGroup=propertyGroupFactory(r,i);i=function(t,e){function i(t){for(var e=0,i=n.length;e<i;){if(n[e]._name===t||n[e].mn===t||n[e].propertyIndex===t||n[e].ix===t||n[e].ind===t)return n[e];e+=1}if("number"==typeof t)return n[t-1]}var n;i.propertyGroup=propertyGroupFactory(i,r.propertyGroup),n=CAa(t.it,e.it,i.propertyGroup),i.numProperties=n.length;e=HAa(t.it[t.it.length-1],e.it[e.it.length-1],i.propertyGroup);return i.transform=e,i.propertyIndex=t.cix,i._name=t.nm,i}(t,e),e=HAa(t.it[t.it.length-1],e.it[e.it.length-1],r.propertyGroup);return r.content=i,r.transform=e,Object.defineProperty(r,"_name",{get:function(){return t.nm}}),r.numProperties=t.np,r.propertyIndex=t.ix,r.nm=t.nm,r.mn=t.mn,r}(t[a],e[a],i)):"fl"==t[a].ty?n.push(function(t,e,i){function n(t){return"Color"===t||"color"===t?n.color:"Opacity"===t||"opacity"===t?n.opacity:void 0}return Object.defineProperties(n,{color:{get:ExpressionPropertyInterface(e.c)},opacity:{get:ExpressionPropertyInterface(e.o)},_name:{value:t.nm},mn:{value:t.mn}}),e.c.setGroupProperty(PropertyInterface("Color",i)),e.o.setGroupProperty(PropertyInterface("Opacity",i)),n}(t[a],e[a],i)):"st"==t[a].ty?n.push(function(t,e,i){var n,r,i=propertyGroupFactory(l,i),a=propertyGroupFactory(void 0,i),s=t.d?t.d.length:0,o={};for(n=0;n<s;n+=1)r=n,Object.defineProperty(o,t.d[r].nm,{get:ExpressionPropertyInterface(e.d.dataProps[r].p)}),e.d.dataProps[n].p.setGroupProperty(a);function l(t){return"Color"===t||"color"===t?l.color:"Opacity"===t||"opacity"===t?l.opacity:"Stroke Width"===t||"stroke width"===t?l.strokeWidth:void 0}return Object.defineProperties(l,{color:{get:ExpressionPropertyInterface(e.c)},opacity:{get:ExpressionPropertyInterface(e.o)},strokeWidth:{get:ExpressionPropertyInterface(e.w)},dash:{get:function(){return o}},_name:{value:t.nm},mn:{value:t.mn}}),e.c.setGroupProperty(PropertyInterface("Color",i)),e.o.setGroupProperty(PropertyInterface("Opacity",i)),e.w.setGroupProperty(PropertyInterface("Stroke Width",i)),l}(t[a],e[a],i)):"tm"==t[a].ty?n.push(function(e,t,i){function n(t){return t===e.e.ix||"End"===t||"end"===t?n.end:t===e.s.ix?n.start:t===e.o.ix?n.offset:void 0}var r=propertyGroupFactory(n,i);return n.propertyIndex=e.ix,t.s.setGroupProperty(PropertyInterface("Start",r)),t.e.setGroupProperty(PropertyInterface("End",r)),t.o.setGroupProperty(PropertyInterface("Offset",r)),n.propertyIndex=e.ix,n.propertyGroup=i,Object.defineProperties(n,{start:{get:ExpressionPropertyInterface(t.s)},end:{get:ExpressionPropertyInterface(t.e)},offset:{get:ExpressionPropertyInterface(t.o)},_name:{value:e.nm}}),n.mn=e.mn,n}(t[a],e[a],i)):"tr"==t[a].ty||("el"==t[a].ty?n.push(function(e,t,i){function n(t){return e.p.ix===t?n.position:e.s.ix===t?n.size:void 0}i=propertyGroupFactory(n,i);n.propertyIndex=e.ix;t="tm"===t.sh.ty?t.sh.prop:t.sh;return t.s.setGroupProperty(PropertyInterface("Size",i)),t.p.setGroupProperty(PropertyInterface("Position",i)),Object.defineProperties(n,{size:{get:ExpressionPropertyInterface(t.s)},position:{get:ExpressionPropertyInterface(t.p)},_name:{value:e.nm}}),n.mn=e.mn,n}(t[a],e[a],i)):"sr"==t[a].ty?n.push(function(e,t,i){function n(t){return e.p.ix===t?n.position:e.r.ix===t?n.rotation:e.pt.ix===t?n.points:e.or.ix===t||"ADBE Vector Star Outer Radius"===t?n.outerRadius:e.os.ix===t?n.outerRoundness:!e.ir||e.ir.ix!==t&&"ADBE Vector Star Inner Radius"!==t?e.is&&e.is.ix===t?n.innerRoundness:void 0:n.innerRadius}i=propertyGroupFactory(n,i),t="tm"===t.sh.ty?t.sh.prop:t.sh;return n.propertyIndex=e.ix,t.or.setGroupProperty(PropertyInterface("Outer Radius",i)),t.os.setGroupProperty(PropertyInterface("Outer Roundness",i)),t.pt.setGroupProperty(PropertyInterface("Points",i)),t.p.setGroupProperty(PropertyInterface("Position",i)),t.r.setGroupProperty(PropertyInterface("Rotation",i)),e.ir&&(t.ir.setGroupProperty(PropertyInterface("Inner Radius",i)),t.is.setGroupProperty(PropertyInterface("Inner Roundness",i))),Object.defineProperties(n,{position:{get:ExpressionPropertyInterface(t.p)},rotation:{get:ExpressionPropertyInterface(t.r)},points:{get:ExpressionPropertyInterface(t.pt)},outerRadius:{get:ExpressionPropertyInterface(t.or)},outerRoundness:{get:ExpressionPropertyInterface(t.os)},innerRadius:{get:ExpressionPropertyInterface(t.ir)},innerRoundness:{get:ExpressionPropertyInterface(t.is)},_name:{value:e.nm}}),n.mn=e.mn,n}(t[a],e[a],i)):"sh"==t[a].ty?n.push(ShapePathInterface(t[a],e[a],i)):"rc"==t[a].ty?n.push(function(e,t,i){function n(t){return e.p.ix===t?n.position:e.r.ix===t?n.roundness:e.s.ix===t||"Size"===t||"ADBE Vector Rect Size"===t?n.size:void 0}i=propertyGroupFactory(n,i),t="tm"===t.sh.ty?t.sh.prop:t.sh;return n.propertyIndex=e.ix,t.p.setGroupProperty(PropertyInterface("Position",i)),t.s.setGroupProperty(PropertyInterface("Size",i)),t.r.setGroupProperty(PropertyInterface("Rotation",i)),Object.defineProperties(n,{position:{get:ExpressionPropertyInterface(t.p)},roundness:{get:ExpressionPropertyInterface(t.r)},size:{get:ExpressionPropertyInterface(t.s)},_name:{value:e.nm}}),n.mn=e.mn,n}(t[a],e[a],i)):"rd"==t[a].ty?n.push(function(e,t,i){function n(t){if(e.r.ix===t||"Round Corners 1"===t)return n.radius}i=propertyGroupFactory(n,i);return n.propertyIndex=e.ix,t.rd.setGroupProperty(PropertyInterface("Radius",i)),Object.defineProperties(n,{radius:{get:ExpressionPropertyInterface(t.rd)},_name:{value:e.nm}}),n.mn=e.mn,n}(t[a],e[a],i)):"rp"==t[a].ty&&n.push(function(e,t,i){function n(t){return e.c.ix===t||"Copies"===t?n.copies:e.o.ix===t||"Offset"===t?n.offset:void 0}i=propertyGroupFactory(n,i);return n.propertyIndex=e.ix,t.c.setGroupProperty(PropertyInterface("Copies",i)),t.o.setGroupProperty(PropertyInterface("Offset",i)),Object.defineProperties(n,{copies:{get:ExpressionPropertyInterface(t.c)},offset:{get:ExpressionPropertyInterface(t.o)},_name:{value:e.nm}}),n.mn=e.mn,n}(t[a],e[a],i)));return n}function HAa(e,t,i){function n(t){return e.a.ix===t||"Anchor Point"===t?n.anchorPoint:e.o.ix===t||"Opacity"===t?n.opacity:e.p.ix===t||"Position"===t?n.position:e.r.ix===t||"Rotation"===t||"ADBE Vector Rotation"===t?n.rotation:e.s.ix===t||"Scale"===t?n.scale:e.sk&&e.sk.ix===t||"Skew"===t?n.skew:e.sa&&e.sa.ix===t||"Skew Axis"===t?n.skewAxis:void 0}var r=propertyGroupFactory(n,i);return t.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",r)),t.transform.mProps.p.setGroupProperty(PropertyInterface("Position",r)),t.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",r)),t.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",r)),t.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",r)),t.transform.mProps.sk&&(t.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",r)),t.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",r))),t.transform.op.setGroupProperty(PropertyInterface("Opacity",r)),Object.defineProperties(n,{opacity:{get:ExpressionPropertyInterface(t.transform.mProps.o)},position:{get:ExpressionPropertyInterface(t.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(t.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(t.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(t.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(t.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(t.transform.mProps.sa)},_name:{value:e.nm}}),n.ty="tr",n.mn=e.mn,n.propertyGroup=i,n}function SliderEffect(t,e,i){this.p=PropertyFactory.getProp(e,t.v,0,0,i)}function AngleEffect(t,e,i){this.p=PropertyFactory.getProp(e,t.v,0,0,i)}function ColorEffect(t,e,i){this.p=PropertyFactory.getProp(e,t.v,1,0,i)}function PointEffect(t,e,i){this.p=PropertyFactory.getProp(e,t.v,1,0,i)}function LayerIndexEffect(t,e,i){this.p=PropertyFactory.getProp(e,t.v,0,0,i)}function MaskIndexEffect(t,e,i){this.p=PropertyFactory.getProp(e,t.v,0,0,i)}function CheckboxEffect(t,e,i){this.p=PropertyFactory.getProp(e,t.v,0,0,i)}function NoValueEffect(){this.p={}}function EffectsManager(t,e){var i=t.ef||[];this.effectElements=[];for(var n,r=i.length,a=0;a<r;a++)n=new GroupEffect(i[a],e),this.effectElements.push(n)}function GroupEffect(t,e){this.init(t,e)}function KFa(t,e){return this.textIndex=t+1,this.textTotal=e,this.v=this.getValue()*this.mult,this.v}z7=function(t,e){this.pv=1,this.comp=t.comp,this.elem=t,this.mult=.01,this.propType="textSelector",this.textTotal=e.totalChars,this.selectorValue=100,this.lastValue=[1,1,1],this.k=!0,this.x=!0,this.getValue=ExpressionManager.initiateExpression.bind(this)(t,e,this),this.getMult=KFa,this.getVelocityAtTime=expressionHelpers.getVelocityAtTime,this.kf?this.getValueAtTime=expressionHelpers.getValueAtTime.bind(this):this.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(this),this.setGroupProperty=expressionHelpers.setGroupProperty},A7=TextSelectorProp.getTextSelectorProp,TextSelectorProp.getTextSelectorProp=function(t,e,i){return 1===e.t?new z7(t,e,i):A7(t,e,i)},extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(t,e){this.data=t,this.effectElements=[],this.initDynamicPropertyContainer(e);for(var i,n=this.data.ef.length,r=this.data.ef,a=0;a<n;a+=1){switch(i=null,r[a].ty){case 0:i=new SliderEffect(r[a],e,this);break;case 1:i=new AngleEffect(r[a],e,this);break;case 2:i=new ColorEffect(r[a],e,this);break;case 3:i=new PointEffect(r[a],e,this);break;case 4:case 7:i=new CheckboxEffect(r[a],e,this);break;case 10:i=new LayerIndexEffect(r[a],e,this);break;case 11:i=new MaskIndexEffect(r[a],e,this);break;case 5:i=new EffectsManager(r[a],e,this);break;default:i=new NoValueEffect(r[a],e,this)}i&&this.effectElements.push(i)}};var lottie={},_isFrozen=!1;function setLocationHref(t){locationHref=t}function searchAnimations(){!0===standalone?animationManager.searchAnimations(animationData,standalone,renderer):animationManager.searchAnimations()}function setSubframeRendering(t){subframeEnabled=t}function loadAnimation(t){return!0===standalone&&(t.animationData=JSON.parse(animationData)),animationManager.loadAnimation(t)}function setQuality(t){if("string"==typeof t)switch(t){case"high":defaultCurveSegments=200;break;case"medium":defaultCurveSegments=50;break;case"low":defaultCurveSegments=10}else!isNaN(t)&&1<t&&(defaultCurveSegments=t);roundValues(!(50<=defaultCurveSegments))}function inBrowser(){return"undefined"!=typeof navigator}function installPlugin(t,e){"expressions"===t&&(expressionsPlugin=e)}function getFactory(t){switch(t){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix}}function checkReady(){"complete"===document.readyState&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(t){for(var e=queryString.split("&"),i=0;i<e.length;i++){var n=e[i].split("=");if(decodeURIComponent(n[0])==t)return decodeURIComponent(n[1])}}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocationHref,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.__getFactory=getFactory,lottie.version="5.7.5";var standalone="__[STANDALONE]__",animationData="__[ANIMATIONDATA]__",renderer="",scripts,index,myScript,queryString,renderer;standalone&&(scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""},queryString=myScript.src.replace(/^[^\?]+\??/,""),renderer=getQueryVariable("renderer"));var readyStateCheckInterval=setInterval(checkReady,100);return lottie},"function"==typeof define&&__webpack_require__(216)?define(function(){return kI(jI)}):"object"===_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(module)&&module.exports?module.exports=kI(jI):(jI.lottie=kI(jI),jI.bodymovin=jI.lottie))}.call(this,__webpack_require__(215)(module))},function(t,e,i){"use strict";i.d(e,"a",function(){return r}),i.d(e,"b",function(){return p});var e=i(14),n=i.n(e),e=i(8),s=i.n(e),o=i(24),i=i(25),l=Object(i.a)("COMMENT_LIST_URL"),h=Object(i.a)("REPLY_LIST_URL"),c=window.service_id;function r(t){return a.apply(this,arguments)}function a(){return(a=n()(s.a.mark(function t(e){var i,n,r,a;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.groupId,r=e.offset,a=void 0===r?0:r,i=e.count,r=void 0===i?20:i,i=e.sortCode,n={group_id:n,offset:a,count:r,tab_index:void 0===i?0:i,service_id:c||""},t.next=4,o.a.get(l,{params:n});case 4:return a=t.sent,r=a.data,i=void 0===r?[]:r,n=a.has_more,r=a.total_number,a=a.ban_comment,t.abrupt("return",{commentList:i.map(function(t){var e=t.comment,t=e.reply_count;return e.id=String(e.id_str||e.id),e.reply_to_replyid&&(e.reply_to_replyid=String(e.reply_to_replyid_str||e.reply_to_replyid)),e.user={avatar_url:e.user_profile_image_url,name:e.user_name,user_id:e.user_id},e.replyHasMore=0<t,e.replyList=[],e.replyOffset=0,e}),hasMore:n,totalNumber:r,banComment:a});case 7:case"end":return t.stop()}},t)}))).apply(this,arguments)}function p(t){return u.apply(this,arguments)}function u(){return(u=n()(s.a.mark(function t(e){var i,n,r,a;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=e.commentId,a=e.offset,n=void 0===a?0:a,r=e.count,a=void 0===r?20:r,r=e.sortCode,a={comment_id:i,offset:n,count:a,tab_index:void 0===r?0:r},t.next=4,o.a.get(h,{params:a});case 4:if((r=t.sent)&&0===r.ret)return a=r.data,(a=void 0===a?[]:a).forEach(function(t){t.id=String(t.id_str||t.id),t.reply_to_replyid&&(t.reply_to_replyid=String(t.reply_to_replyid_str||t.reply_to_replyid))}),t.abrupt("return",{replyList:a,hasMore:r.has_more||r.has_mode});t.next=9;break;case 9:case"end":return t.stop()}},t)}))).apply(this,arguments)}},function(t,e,i){"use strict";var l=function(t){return!(!(e=t)||"object"!=typeof e||(e=t,"[object RegExp]"===(t=Object.prototype.toString.call(e))||"[object Date]"===t||function(t){return t.$$typeof===n}(e)));var e};var n="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function h(t,e){return e&&!0===e.clone&&l(t)?p(Array.isArray(t)?[]:{},t,e):t}function c(i,t,n){var r=i.slice();return t.forEach(function(t,e){void 0===r[e]?r[e]=h(t,n):l(t)?r[e]=p(i[e],t,n):-1===i.indexOf(t)&&r.push(h(t,n))}),r}function p(t,e,i){var n,r,a,s,o=Array.isArray(e);return o===Array.isArray(t)?o?((i||{arrayMerge:c}).arrayMerge||c)(t,e,i):(r=e,a=i,s={},l(n=t)&&Object.keys(n).forEach(function(t){s[t]=h(n[t],a)}),Object.keys(r).forEach(function(t){l(r[t])&&n[t]?s[t]=p(n[t],r[t],a):s[t]=h(r[t],a)}),s):h(e,i)}p.all=function(t,i){if(!Array.isArray(t)||t.length<2)throw new Error("first argument should be an array with at least two elements");return t.reduce(function(t,e){return p(t,e,i)})},t.exports=p},,function(t,e,i){"use strict";i.d(e,"a",function(){return d});var e=i(14),n=i.n(e),e=i(8),a=i.n(e);function l(t,e,i,n,r,a,s){try{var o=t[a](s),l=o.value}catch(t){return void i(t)}o.done?e(l):Promise.resolve(l).then(n,r)}function r(o){return function(){var t=this,s=arguments;return new Promise(function(e,i){var n=o.apply(t,s);function r(t){l(n,e,i,r,a,"next",t)}function a(t){l(n,e,i,r,a,"throw",t)}r(void 0)})}}var e=i(32),s=i.n(e),e=i(106),o=i.n(e),h=function(t){if(null===t)return"";var e,i=[];for(e in t){var n="".concat(e,"=").concat(t[e]);i.push(n)}return i.join("&")};function c(e,t){var i,n=Object.keys(e);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(e),t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)),n}function p(n){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach(function(t){var e,i;e=n,t=r[i=t],i in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(r,t))})}return n}function u(t){return new Promise(function(i,n){var a,s,o,l;a="/data/video/play_auth_token/",s="get",o=p({},t),new Promise(function(i,n){var t,r=new XMLHttpRequest,e=void 0===l||l;"post"===s?(r.open(s,a,e),r.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),t=h(o),r.send(t)):(t="".concat(a,"?").concat(h(o)),r.open(s,t,e),r.send());e=function(){var t,e;4===r.readyState&&(t=r.responseText,200<=r.status&&r.status<300||304===r.status?(null!==(e=r.getResponseHeader("content-type"))&&void 0!==e&&e.includes("json")&&(t=JSON.parse(t)),i(t)):n(t))};e(),r.onreadystatechange=e}).then(function(t){var e=t.ret,t=t.data;0===e&&t?i(t):n({1:"参数错误",2:"创建playAuthToken失败",3:"Base64解密失败"}["".concat(e)])})})}var m=function(){var e=r(s.a.mark(function t(e){var i;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u(e);case 3:if(""===(i=t.sent))return t.next=7,Promise.reject(Error("playAuthToken为空"));t.next=8;break;case 7:return t.abrupt("return",t.sent);case 8:return t.abrupt("return",o.a.url(i,"//vod.bytedanceapi.com",e));case 11:return t.prev=11,t.t0=t.catch(0),t.abrupt("return",Promise.reject(t.t0));case 14:case"end":return t.stop()}},t,null,[[0,11]])}));return function(t){return e.apply(this,arguments)}}();function d(t,e,i){return f.apply(this,arguments)}function f(){return(f=n()(a.a.mark(function t(e,i,n){var r;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return",Promise.resolve({}));case 2:return r={video_id:e},i&&(r.logo_type=i),n&&(r.ssl="1"),t.abrupt("return",m(r).then(function(t){var e=[],i=t.Data.Status;if(10===i){var n,r=t.Data.PlayInfoList;for(n in r){var a=r[n];"720p"===a.Definition&&1<r.length||e.push({src:a.MainPlayUrl,backup:a.BackupPlayUrl,type:"video/"+a.Format,label:a.Definition.replace("360p","极速").replace("480p","高清").replace("720p","超清"),res:a.Height,size:a.Size})}return{msg:"success",list:e}}return{msg:{20:"转码失败",30:"转码进行中",40:"视频id不存在",0:"unknown",1:"上传中",2:"上传失败",3:"等待上传",101:"视频被屏蔽",102:"视频被删除",103:"视频永久删除"}["".concat(i)]||t.message||"视频转码处理中"}}));case 6:case"end":return t.stop()}},t)}))).apply(this,arguments)}},,,,,,function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.safeEmojiHtml=e.ensureHTMLWithEmoji=e.safeHtml=void 0;var n=i(124),r=i(125);function a(t){return r(t)}function s(t){t=a(t);return(0,n.emojiConvert)(t,"")}e.safeHtml={inserted:function(t,e){t.innerHTML=a(e.value)},update:function(t,e){e.value!==e.oldValue&&(t.innerHTML=a(e.value))}},e.ensureHTMLWithEmoji=s,e.safeEmojiHtml={inserted:function(t,e){t.innerHTML=s(e.value)},update:function(t,e){e.value!==e.oldValue&&(t.innerHTML=s(e.value))}}},,,,,,function(t,e,i){"use strict";function n(){var t,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",i=1<arguments.length?arguments[1]:void 0,n=2<arguments.length?arguments[2]:void 0,r={},a={};return(t=(e=e.toLowerCase()).match(/android;?[\s/]+([\d.]+)?/))?(r.android=!0,t[1]&&(r.version=t[1])):((t=e.match(/ipod(?:.*os\s([\d_]+))?/))?(r.ipod=!0,t[1]&&(r.version=t[1].split("_").join("."))):(t=e.match(/ipad.*os\s([\d_]+)/))?(r.ipad=!0,r.version=t[1].split("_").join(".")):"MacIntel"===i&&1<n&&(t=e.match(/version\/([\d.]+)/))?(r.ipad=!0,r.version=t[1]):(t=e.match(/iphone\sos\s([\d_]+)/))&&(r.iphone=!0,r.version=t[1].split("_").join(".")),r.ios=r.ipad||r.iphone||r.ipod),(t=e.match(/micromessenger[\s/]+([\d.]+)/))?(a.weixin=!0,a.version=t[1]):(t=e.match(/\sqq[\s/]+([\d.]+)/))?(a.qq=!0,a.version=t[1]):(t=e.match(/weibo[\s_]+([\d.]+)/))&&(a.weibo=!0,a.version=t[1]),{browser:a,os:r}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.default=n.default=n,t.exports=e.default},function(t,e,i){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var l=Object.getOwnPropertySymbols,h=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return;for(var e={},i=0;i<10;i++)e["_"+String.fromCharCode(i)]=i;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(t){n[t]=t}),"abcdefghijklmnopqrst"!==Object.keys(Object.assign({},n)).join("")?void 0:1}catch(t){return}}()?Object.assign:function(t,e){for(var i,n=function(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),r=1;r<arguments.length;r++){for(var a in i=Object(arguments[r]))h.call(i,a)&&(n[a]=i[a]);if(l)for(var s=l(i),o=0;o<s.length;o++)c.call(i,s[o])&&(n[s[o]]=i[s[o]])}return n}},function(t,e,i){},,,,,function(t,e,i){},function(t,e,i){},function(t,e,i){},,,,,function(t,e,i){"use strict";var u=i(17),n=window.GetWebpSupportStatus?window.GetWebpSupportStatus():{},r=n.lossy,i=n.animation,n=n.alpha,m=i&&n?"awebp":"image",d=r&&n?"webp":"jpeg";function f(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(t){if(-1!==t.indexOf("-sign"))return t;var i=t;-1!==t.indexOf("/large/")&&(i=i.replace("/large/","/img/"),i+="~640x0.".concat(d));var n=e.width,t=e.height,e=e.postfix;return(n||t)&&(i=i.replace(/~([\d|x]+)/,"~".concat(n,"x").concat(t||0))),i=e?i.replace(/\.(\w+)$/,".".concat(e)):i}}e.a={getFoldArticleParams:function(t,e,i,n){var r=(a=n||{}).includeTopMargin,n=a.disableAggregation;e=e||2,i=i||1.5;var a=Math.max(Object(u.c)(),640),e="number"==typeof e?e*a:Number(e.replace("px","")),s="number"==typeof i?i*a:Number(i.replace("px","")),i=t.clientHeight,o=r?t.offsetTop:0;if(i+o<e||i+o<=s)return{isFold:!1};var l=s-o;if(!n)for(var l=0,h=document.querySelectorAll("h1:not(.pgc-img-caption), h2:not(.pgc-img-caption), h3:not(.pgc-img-caption), h4:not(.pgc-img-caption), h5:not(.pgc-img-caption), h6:not(.pgc-img-caption), p:not(.pgc-img-caption), div.pgc-img:not(.pgc-img-caption)"),c=(t.offsetTop,0),p=h.length;c<p&&!(s-o<(l+=h[c].clientHeight));c++);return{isFold:!0,foldHeight:s,contentHeight:i}},formatImages:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if(t)for(var n,r,a,s=t.querySelectorAll("img"),o=0,l=s.length;o<l;o++){var h,c=s[o];for(h in a=r=void 0,r=(n=c).parentNode,-1!==(a=n.parentNode.parentNode).className.indexOf("pgc-img")?a.className+=" img-wrapper":"p"===a.nodeName.toLowerCase()?(a.className+=" img-wrapper",r.nextSibling&&(r.className+=" next"),r.previousSibling&&(r.className+=" pre")):((n=document.createElement("p")).className="img-wrapper",a.insertBefore(n,r),n.appendChild(r)),function(t,e){var i,n=1<arguments.length&&void 0!==e?e:{},r=t.parentNode,a=parseFloat(t.getAttribute("img_width")),e=parseFloat(t.getAttribute("img_height"));n.is_auto_play&&r.setAttribute("is_auto_play","1"),void 0!==n.img_noscale_min_width&&a<=n.img_noscale_min_width?(r.style.paddingBottom="",r.style.width="".concat(a,"px"),r.style.height="".concat(e,"px"),r.style.margin="0 auto"):void 0!==n.img_extend_horizontal_size&&(r.style.marginLeft="-".concat(n.img_extend_horizontal_size/2,"px"),r.style.marginRight="-".concat(n.img_extend_horizontal_size/2,"px"),r.style.paddingTop="".concat(Math.round(n.img_extend_horizontal_size*e/a),"px")),n.img_hide_one_px_image&&1===a&&1===e&&(r.style.paddingBottom="",r.style.width=0),n.is_thumb&&(i=t.getAttribute("data-url"))&&t.getAttribute("src")!==i&&(t.setAttribute("data-url",f(i,{width:180})),t.setAttribute("is_thumb","1"),r.setAttribute("is_thumb_container","true"))}(c,e),function(t){t.onload=function(){t.style.opacity="1"}}(c),n=a=void 0,a=(r=c).getAttribute("data-url"),n="true"===r.getAttribute("is_gif"),a&&r.setAttribute("data-url",f(a,{postfix:n?m:d})),c.setAttribute("data-index",o),i){var p=i[h];c.setAttribute(h,p)}}},extractImages:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";if(t){for(var i=t.querySelectorAll(e||"img"),n=[],r=0,a=i.length;r<a;r++){var s=i[r];n.push({src:s.getAttribute("data-url")||s.getAttribute("src"),w:parseFloat(s.getAttribute("img_width")),h:parseFloat(s.getAttribute("img_height")),is_gif:"true"===s.getAttribute("is_gif"),alt:s.getAttribute("alt")})}return n}},transImage:f,animationPostfix:m,staticPostfix:d,muteLinks:function(t,e,i){if(t&&t.querySelectorAll&&"string"==typeof e){i=i||function(){};for(var n=t.querySelectorAll(e),r=0;r<n.length;r++){var a=n[r],s=a.getAttribute("href");a.removeAttribute("href"),a.setAttribute("data-href",s),a.classList.add("muted-link"),i(a,s)}}}}},,,,function(t,e,i){"use strict";var n=i(4),r=i.n(n),n=i(77),a=i.n(n);i(170);function s(e,t){var i,n=Object.keys(e);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(e),t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)),n}function o(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?s(Object(i),!0).forEach(function(t){r()(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):s(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}var l=0,h={autoplay:!1,volume:.4,playsinline:!0,fluid:!0,closeVideoTouch:!0,ignores:["replay"],playbackRate:[.5,.75,1,1.5,2],defaultPlaybackRate:1};e.a={props:{couldRender:{type:Boolean,default:!0},src:{type:String,default:""},poster:{type:String,default:""},options:{type:Object,default:function(){return{}}},adaptorName:{type:String,default:"$adaptor"},feedcoopOptions:{type:Object,default:function(){return{}}},actionProxyCoverView:{type:Array,default:function(){return[]}}},data:function(){return{id:"mse_".concat(++l,"_").concat(+new Date),showMask:!1,showCoverView:!0,videoIsEnded:!1,videoPlayIsError:!1}},computed:{componentAdaptor:function(){return this[this.adaptorName]},useProxyCoverView:function(){return this.actionProxyCoverView&&this.actionProxyCoverView.length},useCustomMask:function(){return this.feedcoopOptions.useCustomMask},mergedOptions:function(){return o(o(o({},h),this.options),{},{el:this.$refs.player,url:this.src,poster:this.poster})}},watch:{couldRender:{handler:function(t,e){var i=this;!e&&t&&this.$nextTick(function(){i.initPlayer()})},immediate:!0},src:function(t){this.player&&(this.player.src=t)}},methods:{initPlayer:function(){var t=this;this.player&&this.player.destroy&&this.player.destroy(),this.player=new a.a(this.mergedOptions),this.player.once("ready",function(){t.$emit("ready",t.player)}),this.registPlayStatusChangeEvent(),this.player.on("error",function(){t.videoPlayIsError=!0,t.switchMaskShow(!0)})},togglePlay:function(){var t;this.player&&(t=this.player.paused,this.player.ended||(t?this.setPlayStatus("play"):this.setPlayStatus("pause")))},setPlayStatus:function(t){switch(t){case"play":this.player&&this.player.play();break;case"pause":this.player&&this.player.pause();break;default:return}},switchMaskShow:function(t){this.useCustomMask&&(this.showMask=t)},handlePlayStatusChange:function(t){switch(t){case"ended":this.videoIsEnded=!0,this.switchMaskShow(!0);break;case"play":this.videoIsEnded=!1,this.switchMaskShow(!1);break;case"pause":this.videoIsEnded=!1}this.$emit("playStatusChange",{status:t,player:this.player}),this.componentAdaptor&&this.componentAdaptor.emitInteraction("onPlayerPlayStatusChange",{status:t,player:this.player})},registPlayStatusChangeEvent:function(){var e=this;this.player&&["play","pause","ended","error"].forEach(function(t){e.player.on(t,function(){e.handlePlayStatusChange(t)})})},onReplayClick:function(){this.player&&this.player.replay()},onContinuePlayBtnClick:function(){this.setPlayStatus("play")},onReloadClick:function(){this.player&&(this.videoPlayIsError=!1,this.player.reload())},getCurrentTime:function(){return(this.player||{}).currentTime}},render:function(t){var e=this.id,i=this.useProxyCoverView,n=this.showMask,r=this.videoIsEnded,a=this.videoPlayIsError,s=t("button",{class:"replay_btn",on:{click:this.onReplayClick}},["重新播放"]),o=t("button",{class:"continue_btn",on:{click:this.onContinuePlayBtnClick}},["继续播放"]),l=t("button",{class:"replay_btn",on:{click:this.onReloadClick}},["加载失败，点击重新加载"]);return t("div",{class:"player_wrapper"},[t("div",{class:"player_container",ref:"player",attrs:{id:e}},[i?t("div",{ref:"actionProxyCoverView",class:"player_cover_view"}):null,n?t("div",{class:"player_mask"},[t("div",{class:"open_app_hint_payer_mask"},[t("div",{class:"player_mask_action_pane"},[a?l:r?s:o])])]):null])])}}},,function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){"use strict";t.exports=function(i,n){return function(){for(var t=new Array(arguments.length),e=0;e<t.length;e++)t[e]=arguments[e];return i.apply(n,t)}}},function(t,e,i){"use strict";var r=i(16);function a(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,i){if(!e)return t;var n,i=i?i(e):r.isURLSearchParams(e)?e.toString():(n=[],r.forEach(e,function(t,e){null!=t&&(r.isArray(t)?e+="[]":t=[t],r.forEach(t,function(t){r.isDate(t)?t=t.toISOString():r.isObject(t)&&(t=JSON.stringify(t)),n.push(a(e)+"="+a(t))}))}),n.join("&"));return i&&(-1!==(e=t.indexOf("#"))&&(t=t.slice(0,e)),t+=(-1===t.indexOf("?")?"?":"&")+i),t}},function(t,e,i){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},function(o,t,l){"use strict";!function(t){var i=l(16),n=l(190),e={"Content-Type":"application/x-www-form-urlencoded"};function r(t,e){!i.isUndefined(t)&&i.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var a,s={adapter:a="undefined"!=typeof XMLHttpRequest||void 0!==t&&"[object process]"===Object.prototype.toString.call(t)?l(93):a,transformRequest:[function(t,e){return n(e,"Accept"),n(e,"Content-Type"),i.isFormData(t)||i.isArrayBuffer(t)||i.isBuffer(t)||i.isStream(t)||i.isFile(t)||i.isBlob(t)?t:i.isArrayBufferView(t)?t.buffer:i.isURLSearchParams(t)?(r(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):i.isObject(t)?(r(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return 200<=t&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};i.forEach(["delete","get","head"],function(t){s.headers[t]={}}),i.forEach(["post","put","patch"],function(t){s.headers[t]=i.merge(e)}),o.exports=s}.call(this,l(47))},function(t,e,l){"use strict";var h=l(16),c=l(191),p=l(90),u=l(193),m=l(196),d=l(197),f=l(94);t.exports=function(o){return new Promise(function(e,i){var n=o.data,r=o.headers;h.isFormData(n)&&delete r["Content-Type"];var a=new XMLHttpRequest;o.auth&&(s=o.auth.username||"",t=o.auth.password||"",r.Authorization="Basic "+btoa(s+":"+t));var t,s=u(o.baseURL,o.url);if(a.open(o.method.toUpperCase(),p(s,o.params,o.paramsSerializer),!0),a.timeout=o.timeout,a.onreadystatechange=function(){var t;a&&4===a.readyState&&(0!==a.status||a.responseURL&&0===a.responseURL.indexOf("file:"))&&(t="getAllResponseHeaders"in a?m(a.getAllResponseHeaders()):null,t={data:o.responseType&&"text"!==o.responseType?a.response:a.responseText,status:a.status,statusText:a.statusText,headers:t,config:o,request:a},c(e,i,t),a=null)},a.onabort=function(){a&&(i(f("Request aborted",o,"ECONNABORTED",a)),a=null)},a.onerror=function(){i(f("Network Error",o,null,a)),a=null},a.ontimeout=function(){var t="timeout of "+o.timeout+"ms exceeded";o.timeoutErrorMessage&&(t=o.timeoutErrorMessage),i(f(t,o,"ECONNABORTED",a)),a=null},h.isStandardBrowserEnv()&&(t=l(198),(t=(o.withCredentials||d(s))&&o.xsrfCookieName?t.read(o.xsrfCookieName):void 0)&&(r[o.xsrfHeaderName]=t)),"setRequestHeader"in a&&h.forEach(r,function(t,e){void 0===n&&"content-type"===e.toLowerCase()?delete r[e]:a.setRequestHeader(e,t)}),h.isUndefined(o.withCredentials)||(a.withCredentials=!!o.withCredentials),o.responseType)try{a.responseType=o.responseType}catch(t){if("json"!==o.responseType)throw t}"function"==typeof o.onDownloadProgress&&a.addEventListener("progress",o.onDownloadProgress),"function"==typeof o.onUploadProgress&&a.upload&&a.upload.addEventListener("progress",o.onUploadProgress),o.cancelToken&&o.cancelToken.promise.then(function(t){a&&(a.abort(),i(t),a=null)}),void 0===n&&(n=null),a.send(n)})}},function(t,e,i){"use strict";var a=i(192);t.exports=function(t,e,i,n,r){t=new Error(t);return a(t,e,i,n,r)}},function(t,e,i){"use strict";var o=i(16);t.exports=function(e,i){i=i||{};var n={},t=["url","method","params","data"],r=["headers","auth","proxy"],a=["baseURL","url","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"];o.forEach(t,function(t){void 0!==i[t]&&(n[t]=i[t])}),o.forEach(r,function(t){o.isObject(i[t])?n[t]=o.deepMerge(e[t],i[t]):void 0!==i[t]?n[t]=i[t]:o.isObject(e[t])?n[t]=o.deepMerge(e[t]):void 0!==e[t]&&(n[t]=e[t])}),o.forEach(a,function(t){void 0!==i[t]?n[t]=i[t]:void 0!==e[t]&&(n[t]=e[t])});var s=t.concat(r).concat(a),a=Object.keys(i).filter(function(t){return-1===s.indexOf(t)});return o.forEach(a,function(t){void 0!==i[t]?n[t]=i[t]:void 0!==e[t]&&(n[t]=e[t])}),n}},function(t,e,i){"use strict";function n(t){this.message=t}n.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},n.prototype.__CANCEL__=!0,t.exports=n},,,,function(t,e,i){"use strict";function n(t,e){var i=e-t,n=60*(new Date).getTimezoneOffset(),r=~~((e-n)/86400),a=~~((t-n)/86400),s=new Date(1e3*e),o=1e3*t,l=new Date(o),h=s.getMonth(),c=l.getMonth(),p=s.getDate(),n=l.getDate(),t=new Date(o);t.setMonth(t.getMonth()+1);o=new Date(o);if(o.setFullYear(o.getFullYear()+1),i<60)return"刚刚";if(i<3600)return Math.floor(i/60)+"分钟前";if(i<86400)return Math.floor(i/60/60)+"小时前";if(r-a==1)return"昨天";if(r-a==2)return"前天";if(r-a<=9)return r-a+"天前";if(e<t.getTime()/1e3)return Math.floor((r-a)/7)+"周前";if(e<o.getTime()/1e3)return(h<c?12:0)+h-c+(p<n?-1:0)+"个月前";l=s.getFullYear()-l.getFullYear();return(h<c||h===c&&p<n)&&l--,l+"年前"}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.default=n.default=n,t.exports=e.default},function(t,e,i){},function(t,e,i){},function(t,e,i){"use strict";var n=i(0),r=i.n(n),n={name:"UgBanner",props:{pos:{type:String,default:"top"}},computed:{ugBannerWrapperStyle:function(){return"top"===this.pos?{top:0,bottom:"unset"}:{bottom:0,top:"unset"}}},methods:{onBannerClick:function(t){var e=r()(this.$adaptor,"config.globalEnableUg")||!1,i=(r()(this.$adaptor,"config.ugOptions.ugBanner")||{}).enable;e&&i&&this.$adaptor.emitInteraction("onUgTrigger",{ugPos:"".concat(this.pos,"UgBanner")},t.target)}}},i=(i(140),i(2)),n=Object(i.a)(n,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"ug_banner_wrapper",style:this.ugBannerWrapperStyle,on:{click:this.onBannerClick}},[this._t("default",function(){return[e("div",{staticClass:"ug_banner"})]})],2)},[],!1,null,null,null);e.a=n.exports},function(t,e,i){"use strict";var n=i(22);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var c=n(i(57)),p=n(i(134)),u=n(i(135)),m=n(i(58)),d=n(i(136)),f=i(137),g=i(59);function r(){var i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length?arguments[1]:void 0,n=t.debug,e=t.appId,r=void 0===e?"wxb9dfe7ce6f273103":e,a=t.menuList,s=void 0===a?[]:a,e=t.useOldAPI,o=(0,d.default)(14),l=~~(Date.now()/1e3);i.link=i.link||window.location.href;var a=(0,m.default)(navigator.userAgent),h=e||a.browser.weixin&&(0,p.default)(a.browser.version,"6.7.2")<0,a=t.SDKUrl;t.SDKUrl140&&!h&&(a=t.SDKUrl140),(0,u.default)(a,{callback:function(){f({data:{appid:r,noncestr:o,timestamp:l,url:window.location.href},type:"jsonp",url:t.signatureAPI}).then(function(t){1===t.code&&window.wx.config({appId:r,debug:n,jsApiList:["onMenuShareTimeline","onMenuShareAppMessage","hideMenuItems"].concat((0,c.default)(h?[]:["updateAppMessageShareData","updateTimelineShareData"])),nonceStr:o,signature:t.signature,timestamp:l});var e=window.wx;e.ready(function(){s.length&&window.wx.hideMenuItems({menuList:s}),!h&&e.updateAppMessageShareData?e.updateAppMessageShareData(i):e.onMenuShareAppMessage(i);var t=g({},i);!h&&e.updateTimelineShareData?e.updateTimelineShareData(t):e.onMenuShareTimeline(t)}),e.error(function(t){console.error(t)})}).catch(function(t){console.log(t)})}})}e.default=r.default=r,t.exports=e.default},function(t,e,i){"use strict";i.r(e);var l=i(46),n=i(76);e.default={install:function(o){o.component("FeedcoopXgPlayer",n.a),o.prototype.$insertPlayer=function(t){var e=t.videoId,i=t.logoType,n=t.poster,r=t.el,a=t.options,s=void 0===(t=t.adaptorName)?"$adaptor":t;e&&r&&Object(l.a)(e,i).then(function(t){var e,i=t.msg,t=t.list;"success"===i&&t&&(t=t[0],e=t?t.src:"",new o({el:r,render:function(t){return t("FeedcoopXgPlayer",{props:{src:e,poster:n,options:a,adaptorName:s}})}}))})}}}},,function(t,e,i){function g(t){return(-1!==t.type.indexOf("mouse")?t:t.touches[0]).clientX}function y(t){return(-1!==t.type.indexOf("mouse")?t:t.touches[0]).clientY}var v=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("test",null,e)}catch(t){}return t}(),_=0,n={install:function(t,e){var n=Object.assign({},{disableClick:!1,tapTolerance:10,swipeTolerance:30,touchHoldTolerance:400,longTapTimeInterval:400,touchClass:"",namespace:"touch"},e);function o(t){var e=this.$$touchObj,i=0<=t.type.indexOf("touch"),n=0<=t.type.indexOf("mouse"),r=this;i&&(_=t.timeStamp),n&&_&&t.timeStamp-_<350||e.touchStarted||(a(this),e.touchStarted=!0,e.touchMoved=!1,e.swipeOutBounded=!1,e.startX=g(t),e.startY=y(t),e.currentX=0,e.currentY=0,e.touchStartTime=t.timeStamp,e.touchHoldTimer=setTimeout(function(){e.touchHoldTimer=null,s(t,r,"touchhold")},e.options.touchHoldTolerance),s(t,this,"start"))}function l(t){var e,i=this.$$touchObj;i.currentX=g(t),i.currentY=y(t),i.touchMoved?i.swipeOutBounded||(e=i.options.swipeTolerance,i.swipeOutBounded=Math.abs(i.startX-i.currentX)>e&&Math.abs(i.startY-i.currentY)>e):(e=i.options.tapTolerance,i.touchMoved=Math.abs(i.startX-i.currentX)>e||Math.abs(i.startY-i.currentY)>e,i.touchMoved&&(d(i),s(t,this,"moved"))),i.touchMoved&&s(t,this,"moving")}function h(){var t=this.$$touchObj;d(t),m(this),t.touchStarted=t.touchMoved=!1,t.startX=t.startY=0}function c(t){var e=this.$$touchObj,i=0<=t.type.indexOf("touch"),n=0<=t.type.indexOf("mouse");i&&(_=t.timeStamp);var r,a=i&&!e.touchHoldTimer;d(e),e.touchStarted=!1,m(this),n&&_&&t.timeStamp-_<350||(s(t,this,"end"),e.touchMoved?e.swipeOutBounded||(r=e.options.swipeTolerance,i=Math.abs(e.startY-e.currentY),n=Math.abs(e.startX-e.currentX),(r<i||r<n)&&(i=r<i?e.startY>e.currentY?"top":"bottom":e.startX>e.currentX?"left":"right",e.callbacks["swipe."+i]?s(t,this,"swipe."+i,i):s(t,this,"swipe",i))):e.callbacks.longtap&&t.timeStamp-e.touchStartTime>e.options.longTapTimeInterval?(t.cancelable&&t.preventDefault(),s(t,this,"longtap")):e.callbacks.touchhold&&a?t.cancelable&&t.preventDefault():s(t,this,"tap"))}function p(){a(this)}function u(){m(this)}function s(t,e,i,n){var e=e.$$touchObj,r=e&&e.callbacks[i]||[];if(0!==r.length)for(var a=0;a<r.length;a++){var s=r[a];s.modifiers.stop&&t.stopPropagation(),s.modifiers.prevent&&t.cancelable&&t.preventDefault(),s.modifiers.self&&t.target!==t.currentTarget||"function"==typeof s.value&&(n?s.value(n,t):s.value(t))}}function a(t){var e=t.$$touchObj.options.touchClass;e&&t.classList.add(e)}function m(t){var e=t.$$touchObj.options.touchClass;e&&t.classList.remove(e)}function d(t){t.touchHoldTimer&&(clearTimeout(t.touchHoldTimer),t.touchHoldTimer=null)}function f(t,e){var i=t.$$touchObj||{callbacks:{},hasBindTouchEvents:!1,options:n};return e&&(i.options=Object.assign({},i.options,e)),t.$$touchObj=i,t.$$touchObj}t.directive(n.namespace,{bind:function(t,e){var i=f(t),n=!!v&&{passive:!0},r=e.arg||"tap";switch(r){case"swipe":var a=e.modifiers;if(a.left||a.right||a.top||a.bottom)for(var s in e.modifiers)0<=["left","right","top","bottom"].indexOf(s)&&(i.callbacks[s="swipe."+s]=i.callbacks[s]||[],i.callbacks[s].push(e));else i.callbacks.swipe=i.callbacks.swipe||[],i.callbacks.swipe.push(e);break;case"start":case"moving":e.modifiers.disablePassive&&(n=!1);default:i.callbacks[r]=i.callbacks[r]||[],i.callbacks[r].push(e)}i.hasBindTouchEvents||(t.addEventListener("touchstart",o,n),t.addEventListener("touchmove",l,n),t.addEventListener("touchcancel",h),t.addEventListener("touchend",c),i.options.disableClick||(t.addEventListener("mousedown",o),t.addEventListener("mousemove",l),t.addEventListener("mouseup",c),t.addEventListener("mouseenter",p),t.addEventListener("mouseleave",u)),i.hasBindTouchEvents=!0)},unbind:function(t){t.removeEventListener("touchstart",o),t.removeEventListener("touchmove",l),t.removeEventListener("touchcancel",h),t.removeEventListener("touchend",c),t.$$touchObj&&!t.$$touchObj.options.disableClick&&(t.removeEventListener("mousedown",o),t.removeEventListener("mousemove",l),t.removeEventListener("mouseup",c),t.removeEventListener("mouseenter",p),t.removeEventListener("mouseleave",u)),delete t.$$touchObj}}),t.directive(n.namespace+"-class",{bind:function(t,e){f(t,{touchClass:e.value})}}),t.directive(n.namespace+"-options",{bind:function(t,e){f(t,e.value)}})}};t.exports=n},function(t,e,i){var n=i(201),r=i(203),a=/[&<>"']/g,s=RegExp(a.source);t.exports=function(t){return(t=r(t))&&s.test(t)?t.replace(a,n):t}},function(t,e,i){"use strict";var n=i(22);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=n(i(7)),o=n(i(228));function r(r){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},a=(0,o.default)(a,{autoencode:!0,autojson:!0,decode:decodeURIComponent,encode:encodeURIComponent,expires:31536e3,fallback:!1,nulltoremove:!0,path:"/",secure:"https:"===window.location.protocol});if("string"==typeof r){var e,i=(new RegExp("\\b".concat(r,"=([^;]+)")).exec(document.cookie)||[])[1];if(a.autoencode&&(i=a.decode(i)),!a.autojson)return i;if(-1<["{","["].indexOf(i[0])){try{e=JSON.parse(i)}catch(t){e=i}return e=void 0===e&&a.fallback?a.fallback(r,a):e}return i}document.cookie=Object.keys(r).reduce(function(t,e){var i=r[e],n=void 0===i||a.nulltoremove&&null===i;n?i="":(a.autojson&&"object"===(0,s.default)(i)&&(i=JSON.stringify(i)),a.autoencode&&(i=a.encode(i)));e=["".concat(a.encode(e),"=").concat(i)];a.expires&&e.push("expires=".concat((i=n?-1e4:a.expires,(n=i)instanceof Date||(n=new Date).setTime(n.getTime()+1e3*i),n.toUTCString()))),a.path&&e.push("path=".concat(a.path)),a.domain&&e.push("domain=".concat(a.domain)),a.secure&&e.push("secure");e=e.join(";");return a.test&&a.test(e),t+e},"")}e.default=r.default=r,t.exports=e.default},function(t,i,r){"use strict";!function(t){var e=r(7),n=r.n(e);
/*!
 * Swipe 2.3.0
 *
 * Brad Birdsall
 * Copyright 2013, MIT License
 *
*/i.a=function(){var e,R="object"==("undefined"==typeof self?"undefined":n()(self))&&self.self===self&&self||"object"==(void 0===t?"undefined":n()(t))&&t.global===t&&t||this,B=R.document;function i(s,c){function n(t){return!!t&&("boolean"!=typeof t.cancelable||t.cancelable)}var a,t,o={},l={},p=(c=c||{}).auto||0,e=!1,u=function(){};Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(t){for(var e=(this.document||this.ownerDocument).querySelectorAll(t),i=e.length;0<=--i&&e.item(i)!==this;);return-1<i});var m={addEventListener:!!R.addEventListener,passiveEvents:function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});R.addEventListener("testEvent",null,t),R.removeEventListener("testEvent",null,t)}catch(t){e=!1}return e}(),touch:"ontouchstart"in R||R.DocumentTouch&&B instanceof DocumentTouch,transitions:function(t){var e,i=["transitionProperty","WebkitTransition","MozTransition","OTransition","msTransition"];for(e in i)if(void 0!==t.style[i[e]])return!0;return!1}(B.createElement("swipe"))};if(s){var d,f,g,h,y=s.children[0],v=parseInt(c.startSlide,10)||0,_=c.speed||300;c.continuous=void 0===c.continuous||c.continuous;var i,b=(s.currentStyle?i=s.currentStyle.direction:R.getComputedStyle&&(i=R.getComputedStyle(s,null).getPropertyValue("direction")),"rtl"===i?"right":"left");c.autoRestart=void 0!==c.autoRestart&&c.autoRestart;var x=function(i,n){n=n||100;var r=null;function a(){r&&clearTimeout(r)}function t(){var t=this,e=arguments;a(),r=setTimeout(function(){r=null,i.apply(t,e)},n)}return t.cancel=a,t}(r),w={handleEvent:function(t){if(!e||"resize"===t.type){switch(t.type){case"mousedown":case"touchstart":this.start(t);break;case"mousemove":case"touchmove":this.move(t);break;case"mouseup":case"mouseleave":case"touchend":this.end(t);break;case"webkitTransitionEnd":case"msTransitionEnd":case"oTransitionEnd":case"otransitionend":case"transitionend":this.transitionEnd(t);break;case"resize":x()}c.stopPropagation&&t.stopPropagation()}},start:function(t){var e=F(t)?t:t.touches[0];c.ignore&&e.target.matches(c.ignore)||(F(t)&&t.preventDefault(),o={x:e.pageX,y:e.pageY,time:+new Date},a=void 0,l={},F(t)?(y.addEventListener("mousemove",this,!1),y.addEventListener("mouseup",this,!1),y.addEventListener("mouseleave",this,!1)):(y.addEventListener("touchmove",function(t){c.disableScroll&&t.preventDefault()}),y.addEventListener("touchmove",this,!!m.passiveEvents&&{passive:!1}),y.addEventListener("touchend",this,!1)),e=A(),t=d[v],c.dragStart&&c.dragStart(e,t))},move:function(t){if(F(t))e=t;else{if(1<t.touches.length||t.scale&&1!==t.scale)return;c.disableScroll&&n(t)&&t.preventDefault(),e=t.touches[0]}l={x:e.pageX-o.x,y:e.pageY-o.y};var e,i=Math.abs(l.x)/l.x;if(!(a=void 0===a?!!(a||Math.abs(l.x)<Math.abs(l.y)):a)){if(n(t)&&t.preventDefault(),j(),c.continuous)O(T(v-1),l.x+f[T(v-1)],0),O(v,l.x+f[v],0),O(T(v+1),l.x+f[T(v+1)],0);else{if(!c.resistance&&(0===v&&0<i||v===d.length-1&&i<0))return;l.x=l.x/(!v&&0<l.x||v===d.length-1&&l.x<0?Math.abs(l.x)/g+1:1),O(v-1,l.x+f[v-1],0),O(v,l.x+f[v],0),O(v+1,l.x+f[v+1],0)}e=Math.abs(l.x)/g,t=v,i=i,c.touchMove&&c.touchMove(e,t,i)}},end:function(t){var e=+new Date-o.time,i=Number(e)<250&&20<Math.abs(l.x)||Math.abs(l.x)>g/2,n=!v&&0<l.x||v===d.length-1&&l.x<0;c.continuous&&(n=!1);var r,e=Math.abs(l.x)/l.x;a||(i&&!n?(v=e<0?(c.continuous?(M(T(v-1),-g,0),M(T(v+2),g,0)):M(v-1,-g,0),M(v,f[v]-g,_),M(T(v+1),f[T(v+1)]-g,_),T(v+1)):(c.continuous?(M(T(v+1),g,0),M(T(v-2),-g,0)):M(v+1,g,0),M(v,f[v]+g,_),M(T(v-1),f[T(v-1)]+g,_),T(v-1)),P(A(),d[v],e)):c.continuous?(M(T(v-1),-g,_),M(v,0,_),M(T(v+1),g,_)):(M(v-1,-g,_),M(v,0,_),M(v+1,g,_)),e=v,r=_,c.touchEnd&&c.touchEnd(e,r)),F(t)?(y.removeEventListener("mousemove",w,!1),y.removeEventListener("mouseup",w,!1),y.removeEventListener("mouseleave",w,!1)):(y.removeEventListener("touchmove",w,!!m.passiveEvents&&{passive:!1}),y.removeEventListener("touchend",w,!1)),r=A(),t=d[v],c.dragEnd&&c.dragEnd(r,t)},transitionEnd:function(t){parseInt(t.target.getAttribute("data-index"),10)===v&&((p||c.autoRestart)&&L(),k(A(),d[v]))}};return r(),I(),{setup:r,slide:function(t,e){j(),D(t,e)},prev:function(){j(),e||(c.continuous||v)&&D(v-1)},next:function(){j(),C()},restart:L,stop:j,getPos:A,disable:function(){j(),e=!0},enable:function(){e=!1,L()},getNumSlides:function(){return h},kill:function(){j(),s.style.visibility="",y.style.width="",y.style[b]="";var t=d.length;for(;t--;){m.transitions&&O(t,0,0);var e=d[t];e.getAttribute("data-cloned")&&e.parentElement.removeChild(e),e.style.width="",e.style[b]="",e.style.webkitTransitionDuration=e.style.MozTransitionDuration=e.style.msTransitionDuration=e.style.OTransitionDuration=e.style.transitionDuration="",e.style.webkitTransform=e.style.msTransform=e.style.MozTransform=e.style.OTransform=""}E(),x.cancel()}}}function E(){m.addEventListener?(y.removeEventListener("touchstart",w,!!m.passiveEvents&&{passive:!0}),y.removeEventListener("mousedown",w,!1),y.removeEventListener("webkitTransitionEnd",w,!1),y.removeEventListener("msTransitionEnd",w,!1),y.removeEventListener("oTransitionEnd",w,!1),y.removeEventListener("otransitionend",w,!1),y.removeEventListener("transitionend",w,!1),R.removeEventListener("resize",w,!1)):R.onresize=null}function S(t){t=t.cloneNode(!0);y.appendChild(t),t.setAttribute("data-cloned",!0),t.removeAttribute("id")}function r(t){if(null!=t)for(var e in t)c[e]=t[e];d=y.children,h=d.length;for(var i=0;i<d.length;i++)d[i].getAttribute("data-cloned")&&h--;if(d.length<2&&(c.continuous=!1),m.transitions&&c.continuous&&d.length<3&&(S(d[0]),S(d[1]),d=y.children),"right"===b)for(var n=0;n<d.length;n++)d[n].style.float="right";f=new Array(d.length),g=s.getBoundingClientRect().width||s.offsetWidth,y.style.width=d.length*g*2+"px";for(var r=d.length;r--;){var a=d[r];a.style.width=g+"px",a.setAttribute("data-index",r),m.transitions&&(a.style[b]=r*-g+"px",M(r,r<v?-g:v<r?g:0,0))}c.continuous&&m.transitions&&(M(T(v-1),-g,0),M(T(v+1),g,0)),m.transitions||(y.style[b]=v*-g+"px"),s.style.visibility="visible",E(),m.addEventListener?(m.touch&&y.addEventListener("touchstart",w,!!m.passiveEvents&&{passive:!0}),c.draggable&&y.addEventListener("mousedown",w,!1),m.transitions&&(y.addEventListener("webkitTransitionEnd",w,!1),y.addEventListener("msTransitionEnd",w,!1),y.addEventListener("oTransitionEnd",w,!1),y.addEventListener("otransitionend",w,!1),y.addEventListener("transitionend",w,!1)),R.addEventListener("resize",w,!1)):R.onresize=x}function C(){e||(c.continuous||v<d.length-1)&&D(v+1)}function P(t,e,i){c.callback&&c.callback(t,e,i)}function k(t,e){c.transitionEnd&&c.transitionEnd(t,e)}function T(t){return(d.length+t%d.length)%d.length}function A(){var t=v;return h<=t&&(t-=h),t}function D(t,e){if(t="number"!=typeof t?parseInt(t,10):t,v!==t){if(m.transitions){var i,n=Math.abs(v-t)/(v-t);c.continuous&&(i=n,(n=-f[T(t)]/g)!==i&&(t=-n*d.length+t));for(var r=Math.abs(v-t)-1;r--;)M(T((v<t?t:v)-r-1),g*n,0);t=T(t),M(v,g*n,e||_),M(t,0,e||_),c.continuous&&M(T(t-n),-g*n,0)}else t=T(t),a=v*-g,s=t*-g,(o=e||_)?(l=+new Date,h=setInterval(function(){var t=+new Date-l;if(o<t)return y.style[b]=s+"px",(p||c.autoRestart)&&L(),k(A(),d[v]),void clearInterval(h);y.style[b]=(s-a)*(Math.floor(t/o*100)/100)+a+"px"},4)):y.style[b]=s+"px";var a,s,o,l,h;v=t,setTimeout(function(){P(A(),d[v],n)}||u,0)}}function M(t,e,i){O(t,e,i),f[t]=e}function O(t,e,i){t=d[t],t=t&&t.style;t&&(t.webkitTransitionDuration=t.MozTransitionDuration=t.msTransitionDuration=t.OTransitionDuration=t.transitionDuration=i+"ms",t.webkitTransform=t.msTransform=t.MozTransform=t.OTransform=t.transform="translateX("+e+"px)")}function I(){(p=c.auto||0)&&(t=setTimeout(C,p))}function j(){p=0,clearTimeout(t)}function L(){j(),I()}function F(t){return/^mouse/.test(t.type)}}return(R.jQuery||R.Zepto)&&((e=R.jQuery||R.Zepto).fn.Swipe=function(t){return this.each(function(){e(this).data("Swipe",new i(e(this)[0],t))})}),i}()}.call(this,r(23))},,,,function(t,h,e){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.scrollYTo=h.getScrollEventTarget=h.compatibleRequestAnimationFrame=void 0;function i(t){var e=Math.round(1e3/60);window.setTimeout(t,e)}function c(t){return t===window?Math.max(window.pageYOffset||0,document.documentElement.scrollTop):t.scrollTop}function p(t){for(var e=document.defaultView.getComputedStyle,i=t;i&&"HTML"!==i.tagName&&1===i.nodeType;){var n=e(i).overflowY;if("scroll"===n||"auto"===n)return i;i=i.parentNode}return i||window}h.compatibleRequestAnimationFrame=function(t){(window.requestAnimationFrame||i).call(window,t)},h.getScrollEventTarget=p,h.scrollYTo=function(t,e,i){var n,r,a,s,o,l;t&&(n=i.pattern,i=i.duration,r=p(e),console.log("scrollContainer",r,t),e=c(r),t=(t=t)===window?c(window):Number(t.getBoundingClientRect().top)+c(window),console.log("startScrollTop === endScrollTop",e===t,e,t),e!==t&&(i&&n&&"linear"===n?(i=Math.round(i/17),a=Math.abs(t-e),s=t-e<0?-1:1,o=0,l=Math.min(a,a/i),function t(){var e;a<=o||(e=Math.min(l,a-o),o+=e,r.scrollTop+=e*s,(0,h.compatibleRequestAnimationFrame)(t))}()):r.scrollTop=t))}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getLogoType=void 0;var n={16:"hotsoon_share_vcd",19:"douyin_share_vcd",21:"toutiao_share_vcd"};e.getLogoType=function(t){return n[t]||""}},function(t,e,i){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.getTabsFromServerTabs=e.getAllTabs=void 0;var n=["profile_all","profile_article","profile_video","profile_short_video","profile_wenda"],a=["profile_aweme"],s=["sdk_video"],o={profile_all:"dongtai",profile_article:"all",profile_video:"video",profile_short_video:"ies_video",profile_wenda:"wenda",sdk_video:"sdk_video",profile_aweme:"profile_aweme"};e.getAllTabs=function(t,e){void 0===t&&(t=0),void 0===e&&(e=!1);var i=Number(t),t=[];return 0===i?t=e?s:n:1===i&&(t=a),t},e.getTabsFromServerTabs=function(t){for(var e=[],i=0;i<t.length;i++){var n=t[i];n.show&&e.push(r(r({},n),{type:o[n.category]}))}return e}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ProfilePageAuthorInfoApi=void 0,e.ProfilePageAuthorInfoApi={v1:"/data/stream/homepage/v1",v2:"/data/stream/homepage/v2"}},function(t,e,i){"use strict";function n(t){if(!(t=void 0===t?"":t))return"";var t=t.match(/[\S]+\/[\S]+/g)||[],i={};return t.forEach(function(t){var e=t.split("/"),t=e[0],e=e[1];t&&(i[t]=e)}),i}function r(t,e){var i=!1;return t&&e&&(t=t.toLowerCase(),e=n(e.toLowerCase()),i=Boolean(e[t])),i}Object.defineProperty(e,"__esModule",{value:!0}),e.isSdkApp=e.checkInAppByUa=e.uaParser=void 0,e.uaParser=n,e.checkInAppByUa=r,e.isSdkApp=function(t){return r("dpsdk",t=void 0===t?"":t)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isUtmSourceOf=e.ChannelName=void 0;var n,r;(r=n=n||{}).oppoBrowser="oppoBrowser",r.vivoBrowser="vivoBrowser",r.wifiApp="wifiApp",r.miVideo="miVideo",r.bestPayApp="bestPayApp",r.liantongApp="liantongApp",r.hualinApp="hualinApp",e.ChannelName=n;var a={oppoBrowser:["o_llq_api","oppo_llq_api","oppo_llq_video","o_llq_video","oppo_weather_default_content"],vivoBrowser:["vivoliulanqi","vivoliulanqi_12","vivo_llq_video"],wifiApp:["union_zx_wifian","union_zx_wifiios"],miVideo:["mi_video_api_cn"],bestPayApp:["union_zx_yizhifu"],liantongApp:["chinaunicom_default_content"],hualinApp:["hualinzhengquan_default_content"]};e.isUtmSourceOf=function(t,e){if(e)return!!t&&Boolean(a[e]&&-1<a[e].indexOf(t));if(!t)return"undefined";for(var i=Object.keys(a),n=0;n<i.length;){if(-1<a[i[n]].indexOf(t))return i[n];n++}return"undefined"}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.user=e.greeter=void 0,e.greeter=function(t){return"Hello, "+t.firstName+" "+t.lastName};e.user={firstName:"Jane",lastName:"User"}},function(t,e,i){"use strict";function s(t,e){var i,n=e,r={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};for(i in/(y+)/.test(n)&&(n=n.replace(RegExp.$1,(""+t.getFullYear()).substr(4-RegExp.$1.length))),r)new RegExp("("+i+")").test(n)&&(n=n.replace(RegExp.$1,1===RegExp.$1.length?r[i]:("00"+r[i]).substr((""+r[i]).length)));return n}Object.defineProperty(e,"__esModule",{value:!0}),e.formatElapse=e.formatDate=void 0,e.formatDate=s,e.formatElapse=function(t,e,i){if(!(t=parseInt(t)))return"";var n=Math.round((new Date).getTime()/1e3),r=n-t,a=60*(new Date).getTimezoneOffset(),a={dayDiff:~~((n-a)/86400)-~~((t-a)/86400),secDiff:r,timeDate:new Date(1e3*t),dateFormat:e};return"function"==typeof i?i(a):(t=(r=a).dayDiff,e=r.secDiff,i=r.timeDate,a=r.dateFormat,r=Math.round((new Date).getTime()/1e3),e<60?"刚刚":e<3600?Math.floor(e/60)+"分钟前":e<86400?Math.floor(e/60/60)+"小时前":1===t?"昨天"+s(i,"hh:mm"):2===t?"前天"+s(i,"hh:mm"):t<=9?t+"天前":a?s(i,a):(a=new Date(1e3*r).getFullYear(),r=i.getFullYear(),s(i,a===r?"M月d日":"yyyy年M月d日")))}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.promiseCallback=void 0,e.promiseCallback=function(t){var i=function(){},e=new Promise(function(e,t){((i=function(t){return e(t)}).done=i).abort=t});return i.promise=e,t&&(i.promise=Promise.resolve(t)),i}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.uaParser=void 0,e.uaParser=function(t){if(!(t=void 0===t?"":t))return"";var t=t.match(/[\S]+\/[\S]+/g)||[],i={};return t.forEach(function(t){var e=t.split("/"),t=e[0],e=e[1];t&&(i[t]=e)}),i}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.emojiConvert=e.emojiHtmlTag=e.getEmojiUrl=void 0;var n={"[微笑]":{index:1,name:"[微笑]",image:"emoji_1_smile@3x.png",key:"emoji_1_smile@3x.png",width:96,height:96},"[爱慕]":{index:2,name:"[爱慕]",image:"emoji_2_kiss@3x.png",key:"emoji_2_kiss@3x.png",width:96,height:96},"[惊呆]":{index:3,name:"[惊呆]",image:"emoji_3_daze@3x.png",key:"emoji_3_daze@3x.png",width:96,height:96},"[酷拽]":{index:4,name:"[酷拽]",image:"emoji_4_smoke@3x.png",key:"emoji_4_smoke@3x.png",width:96,height:96},"[抠鼻]":{index:5,name:"[抠鼻]",image:"emoji_5_pick_nose@3x.png",key:"emoji_5_pick_nose@3x.png",width:96,height:96},"[流泪]":{index:6,name:"[流泪]",image:"emoji_6_cry@3x.png",key:"emoji_6_cry@3x.png",width:96,height:96},"[发怒]":{index:7,name:"[发怒]",image:"emoji_7_anger@3x.png",key:"emoji_7_anger@3x.png",width:96,height:96},"[呲牙]":{index:8,name:"[呲牙]",image:"emoji_8_laugh@3x.png",key:"emoji_8_laugh@3x.png",width:96,height:96},"[鼾睡]":{index:9,name:"[鼾睡]",image:"emoji_9_sleep@3x.png",key:"emoji_9_sleep@3x.png",width:96,height:96},"[害羞]":{index:10,name:"[害羞]",image:"emoji_10_shy@3x.png",key:"emoji_10_shy@3x.png",width:96,height:96},"[可爱]":{index:11,name:"[可爱]",image:"emoji_11_naughty@3x.png",key:"emoji_11_naughty@3x.png",width:102,height:96},"[晕]":{index:12,name:"[晕]",image:"emoji_12_dizzy@3x.png",key:"emoji_12_dizzy@3x.png",width:96,height:96},"[衰]":{index:13,name:"[衰]",image:"emoji_13_stunned@3x.png",key:"emoji_13_stunned@3x.png",width:96,height:96},"[闭嘴]":{index:14,name:"[闭嘴]",image:"emoji_14_shut_up@3x.png",key:"emoji_14_shut_up@3x.png",width:96,height:96},"[机智]":{index:15,name:"[机智]",image:"emoji_15_wit@3x.png",key:"emoji_15_wit@3x.png",width:96,height:96},"[来看我]":{index:16,name:"[来看我]",image:"emoji_16_attention@3x.png",key:"emoji_16_attention@3x.png",width:108,height:96},"[灵光一闪]":{index:17,name:"[灵光一闪]",image:"emoji_17_hand_sample@3x.png",key:"emoji_17_hand_sample@3x.png",width:102,height:96},"[耶]":{index:18,name:"[耶]",image:"emoji_18_ye@3x.png",key:"emoji_18_ye@3x.png",width:99,height:96},"[捂脸]":{index:19,name:"[捂脸]",image:"emoji_19_distress_situation@3x.png",key:"emoji_19_distress_situation@3x.png",width:96,height:96},"[打脸]":{index:20,name:"[打脸]",image:"emoji_20_play_face@3x.png",key:"emoji_20_play_face@3x.png",width:102,height:96},"[大笑]":{index:21,name:"[大笑]",image:"emoji_21_smile@3x.png",key:"emoji_21_smile@3x.png",width:96,height:96},"[哈欠]":{index:22,name:"[哈欠]",image:"emoji_22_yawn@3x.png",key:"emoji_22_yawn@3x.png",width:96,height:96},"[震惊]":{index:23,name:"[震惊]",image:"emoji_23_surprise@3x.png",key:"emoji_23_surprise@3x.png",width:96,height:96},"[送心]":{index:24,name:"[送心]",image:"emoji_24_take_heart@3x.png",key:"emoji_24_take_heart@3x.png",width:96,height:96},"[困]":{index:25,name:"[困]",image:"emoji_25_sleepy@3x.png",key:"emoji_25_sleepy@3x.png",width:96,height:96},"[what]":{index:26,name:"[what]",image:"emoji_26_what@3x.png",key:"emoji_26_what@3x.png",width:105,height:96},"[泣不成声]":{index:27,name:"[泣不成声]",image:"emoji_27_sobbing@3x.png",key:"emoji_27_sobbing@3x.png",width:96,height:96},"[小鼓掌]":{index:28,name:"[小鼓掌]",image:"emoji_28_handclap@3x.png",key:"emoji_28_handclap@3x.png",width:96,height:96},"[酷]":{index:29,name:"[酷]",image:"emoji_29_cool@3x.png",key:"emoji_29_cool@3x.png",width:96,height:96},"[大金牙]":{index:29,name:"[大金牙]",image:"emoji_29_cool@3x.png",key:"emoji_29_cool@3x.png",width:96,height:96},"[偷笑]":{index:30,name:"[偷笑]",image:"emoji_30_titter@3x.png",key:"emoji_30_titter@3x.png",width:96,height:96},"[石化]":{index:31,name:"[石化]",image:"emoji_31_lightning_strike@3x.png",key:"emoji_31_lightning_strike@3x.png",width:96,height:96},"[思考]":{index:32,name:"[思考]",image:"emoji_32_meditation@3x.png",key:"emoji_32_meditation@3x.png",width:96,height:96},"[吐血]":{index:33,name:"[吐血]",image:"emoji_33_vomiting_blood@3x.png",key:"emoji_33_vomiting_blood@3x.png",width:96,height:96},"[可怜]":{index:34,name:"[可怜]",image:"emoji_34_acting_cute@3x.png",key:"emoji_34_acting_cute@3x.png",width:96,height:96},"[嘘]":{index:35,name:"[嘘]",image:"emoji_35_quietly@3x.png",key:"emoji_35_quietly@3x.png",width:96,height:96},"[撇嘴]":{index:36,name:"[撇嘴]",image:"emoji_36_hum@3x.png",key:"emoji_36_hum@3x.png",width:96,height:96},"[黑线]":{index:37,name:"[黑线]",image:"emoji_37_khan@3x.png",key:"emoji_37_khan@3x.png",width:96,height:96},"[笑哭]":{index:38,name:"[笑哭]",image:"emoji_38_forced_smile@3x.png",key:"emoji_38_forced_smile@3x.png",width:111,height:96},"[雾霾]":{index:39,name:"[雾霾]",image:"emoji_39_haze@3x.png",key:"emoji_39_haze@3x.png",width:96,height:96},"[奸笑]":{index:40,name:"[奸笑]",image:"emoji_40_smirk@3x.png",key:"emoji_40_smirk@3x.png",width:96,height:96},"[得意]":{index:41,name:"[得意]",image:"emoji_41_cool@3x.png",key:"emoji_41_cool@3x.png",width:96,height:96},"[憨笑]":{index:42,name:"[憨笑]",image:"emoji_42_bad_smile@3x.png",key:"emoji_42_bad_smile@3x.png",width:96,height:96},"[抓狂]":{index:43,name:"[抓狂]",image:"emoji_43_crazy@3x.png",key:"emoji_43_crazy@3x.png",width:96,height:96},"[泪奔]":{index:44,name:"[泪奔]",image:"emoji_44_tears@3x.png",key:"emoji_44_tears@3x.png",width:96,height:96},"[钱]":{index:45,name:"[钱]",image:"emoji_45_money@3x.png",key:"emoji_45_money@3x.png",width:96,height:96},"[吻]":{index:46,name:"[吻]",image:"emoji_46_kiss@3x.png",key:"emoji_46_kiss@3x.png",width:96,height:96},"[恐惧]":{index:47,name:"[恐惧]",image:"emoji_47_fear@3x.png",key:"emoji_47_fear@3x.png",width:96,height:96},"[笑]":{index:48,name:"[笑]",image:"emoji_48_smile@3x.png",key:"emoji_48_smile@3x.png",width:96,height:96},"[快哭了]":{index:49,name:"[快哭了]",image:"emoji_49_injustice@3x.png",key:"emoji_49_injustice@3x.png",width:96,height:96},"[翻白眼]":{index:50,name:"[翻白眼]",image:"emoji_50_their@3x.png",key:"emoji_50_their@3x.png",width:96,height:96},"[互粉]":{index:51,name:"[互粉]",image:"emoji_51_focus@3x.png",key:"emoji_51_focus@3x.png",width:96,height:96},"[赞]":{index:52,name:"[赞]",image:"emoji_52_like@3x.png",key:"emoji_52_like@3x.png",width:96,height:96},"[鼓掌]":{index:53,name:"[鼓掌]",image:"emoji_53_handclap@3x.png",key:"emoji_53_handclap@3x.png",width:96,height:96},"[谢谢]":{index:54,name:"[谢谢]",image:"emoji_54_3Q@3x.png",key:"emoji_54_3Q@3x.png",width:96,height:96},"[祈祷]":{index:54,name:"[祈祷]",image:"emoji_54_3Q@3x.png",key:"emoji_54_3Q@3x.png",width:96,height:96},"[kiss]":{index:55,name:"[kiss]",image:"emoji_55_kiss@3x.png",key:"emoji_55_kiss@3x.png",width:96,height:96},"[去污粉]":{index:56,name:"[去污粉]",image:"emoji_56_household_cleanser@3x.png",key:"emoji_56_household_cleanser@3x.png",width:96,height:96},"[666]":{index:57,name:"[666]",image:"emoji_57_666@3x.png",key:"emoji_57_666@3x.png",width:96,height:96},"[玫瑰]":{index:58,name:"[玫瑰]",image:"emoji_58_rose@3x.png",key:"emoji_58_rose@3x.png",width:96,height:96},"[胡瓜]":{index:59,name:"[胡瓜]",image:"emoji_59_cucumber@3x.png",key:"emoji_59_cucumber@3x.png",width:96,height:96},"[啤酒]":{index:60,name:"[啤酒]",image:"emoji_60_beer@3x.png",key:"emoji_60_beer@3x.png",width:96,height:96},"[我想静静]":{index:61,name:"[我想静静]",image:"emoji_61_distress_situation@3x.png",key:"emoji_61_distress_situation@3x.png",width:105,height:96},"[委屈]":{index:62,name:"[委屈]",image:"emoji_62_injustice@3x.png",key:"emoji_62_injustice@3x.png",width:96,height:96},"[舔屏]":{index:63,name:"[舔屏]",image:"emoji_63_lick_screen@3x.png",key:"emoji_63_lick_screen@3x.png",width:96,height:96},"[鄙视]":{index:64,name:"[鄙视]",image:"emoji_64_despise@3x.png",key:"emoji_64_despise@3x.png",width:96,height:96},"[飞吻]":{index:65,name:"[飞吻]",image:"emoji_65_kiss@3x.png",key:"emoji_65_kiss@3x.png",width:96,height:96},"[再见]":{index:66,name:"[再见]",image:"emoji_66_bye@3x.png",key:"emoji_66_bye@3x.png",width:96,height:96},"[紫薇别走]":{index:67,name:"[紫薇别走]",image:"emoji_67_erkang@3x.png",key:"emoji_67_erkang@3x.png",width:108,height:96},"[求抱抱]":{index:68,name:"[求抱抱]",image:"emoji_68_hug@3x.png",key:"emoji_68_hug@3x.png",width:108,height:96},"[听歌]":{index:69,name:"[听歌]",image:"emoji_69_hitler@3x.png",key:"emoji_69_hitler@3x.png",width:96,height:96},"[周冬雨的凝视]":{index:70,name:"[周冬雨的凝视]",image:"emoji_70_zhoudongyu_gaze@3x.png",key:"emoji_70_zhoudongyu_gaze@3x.png",width:96,height:96},"[马思纯的微笑]":{index:71,name:"[马思纯的微笑]",image:"emoji_71_masichun_smile@3x.png",key:"emoji_71_masichun_smile@3x.png",width:96,height:96},"[吐舌]":{index:72,name:"[吐舌]",image:"emoji_72_dogo@3x.png",key:"emoji_72_dogo@3x.png",width:96,height:96},"[呆无辜]":{index:73,name:"[呆无辜]",image:"emoji_73_cat@3x.png",key:"emoji_73_cat@3x.png",width:96,height:96},"[看]":{index:74,name:"[看]",image:"emoji_74_2ha@3x.png",key:"emoji_74_2ha@3x.png",width:96,height:96},"[白眼]":{index:75,name:"[白眼]",image:"emoji_75_dogo@3x.png",key:"emoji_75_dogo@3x.png",width:96,height:96},"[熊吉]":{index:76,name:"[熊吉]",image:"emoji_76_bear@3x.png",key:"emoji_76_bear@3x.png",width:96,height:96},"[骷髅]":{index:77,name:"[骷髅]",image:"emoji_77_skeleton@3x.png",key:"emoji_77_skeleton@3x.png",width:96,height:96},"[黑脸]":{index:78,name:"[黑脸]",image:"emoji_78_black_face@3x.png",key:"emoji_78_black_face@3x.png",width:96,height:96},"[吃瓜群众]":{index:79,name:"[吃瓜群众]",image:"emoji_79_eat_melon@3x.png",key:"emoji_79_eat_melon@3x.png",width:96,height:96},"[绿帽子]":{index:80,name:"[绿帽子]",image:"emoji_80_green_hat@3x.png",key:"emoji_80_green_hat@3x.png",width:96,height:96},"[汗]":{index:81,name:"[汗]",image:"emoji_81_sweat@3x.png",key:"emoji_81_sweat@3x.png",width:96,height:96},"[摸头]":{index:82,name:"[摸头]",image:"emoji_82_lear_ropes@3x.png",key:"emoji_82_lear_ropes@3x.png",width:96,height:96},"[皱眉]":{index:83,name:"[皱眉]",image:"emoji_83_frown@3x.png",key:"emoji_83_frown@3x.png",width:96,height:96},"[擦汗]":{index:84,name:"[擦汗]",image:"emoji_84_wipe_sweat@3x.png",key:"emoji_84_wipe_sweat@3x.png",width:96,height:96},"[红脸]":{index:85,name:"[红脸]",image:"emoji_85_redface@3x.png",key:"emoji_85_redface@3x.png",width:96,height:96},"[尬笑]":{index:86,name:"[尬笑]",image:"emoji_86_orz@3x.png",key:"emoji_86_orz@3x.png",width:96,height:96},"[做鬼脸]":{index:87,name:"[做鬼脸]",image:"emoji_87_makeface@3x.png",key:"emoji_87_makeface@3x.png",width:96,height:96},"[强]":{index:88,name:"[强]",image:"emoji_88_intensity@3x.png",key:"emoji_88_intensity@3x.png",width:96,height:96},"[如花]":{index:89,name:"[如花]",image:"emoji_89_ruhua@3x.png",key:"emoji_89_ruhua@3x.png",width:96,height:96},"[吐]":{index:90,name:"[吐]",image:"emoji_90_spit@3x.png",key:"emoji_90_spit@3x.png",width:96,height:96},"[惊喜]":{index:91,name:"[惊喜]",image:"emoji_91_surprise@3x.png",key:"emoji_91_surprise@3x.png",width:96,height:96},"[敲打]":{index:92,name:"[敲打]",image:"emoji_92_knock@3x.png",key:"emoji_92_knock@3x.png",width:96,height:96},"[奋斗]":{index:93,name:"[奋斗]",image:"emoji_93_refuel@3x.png",key:"emoji_93_refuel@3x.png",width:96,height:96},"[吐彩虹]":{index:94,name:"[吐彩虹]",image:"emoji_94_rainbow@3x.png",key:"emoji_94_rainbow@3x.png",width:96,height:96},"[大哭]":{index:95,name:"[大哭]",image:"emoji_95_bigcry@3x.png",key:"emoji_95_bigcry@3x.png",width:96,height:96},"[比心]":{index:96,name:"[比心]",image:"emoji_96_fingerheart@3x.png",key:"emoji_96_fingerheart@3x.png",width:96,height:96},"[加油]":{index:97,name:"[加油]",image:"emoji_97_refuel@3x.png",key:"emoji_97_refuel@3x.png",width:96,height:96},"[碰拳]":{index:98,name:"[碰拳]",image:"emoji_98_fist@3x.png",key:"emoji_98_fist@3x.png",width:96,height:96},"[ok]":{index:99,name:"[ok]",image:"emoji_99_OK@3x.png",key:"emoji_99_OK@3x.png",width:96,height:96},"[击掌]":{index:100,name:"[击掌]",image:"emoji_100_highfive@3x.png",key:"emoji_100_highfive@3x.png",width:96,height:96},"[左上]":{index:101,name:"[左上]",image:"emoji_101_left@3x.png",key:"emoji_101_left@3x.png",width:96,height:96},"[握手]":{index:102,name:"[握手]",image:"emoji_102_shakehand@3x.png",key:"emoji_102_shakehand@3x.png",width:96,height:96},"[18禁]":{index:103,name:"[18禁]",image:"emoji_103_18@3x.png",key:"emoji_103_18@3x.png",width:96,height:96},"[刀]":{index:104,name:"[刀]",image:"emoji_104_knife@3x.png",key:"emoji_104_knife@3x.png",width:96,height:96},"[V5]":{index:105,name:"[V5]",image:"emoji_105_V5@3x.png",key:"emoji_105_V5@3x.png",width:96,height:96},"[给力]":{index:106,name:"[给力]",image:"emoji_106_awesome@3x.png",key:"emoji_106_awesome@3x.png",width:96,height:96},"[心]":{index:107,name:"[心]",image:"emoji_107_heart@3x.png",key:"emoji_107_heart@3x.png",width:96,height:96},"[伤心]":{index:108,name:"[伤心]",image:"emoji_108_broken_heart@3x.png",key:"emoji_108_broken_heart@3x.png",width:96,height:96},"[屎]":{index:109,name:"[屎]",image:"emoji_109_shit@3x.png",key:"emoji_109_shit@3x.png",width:96,height:96},"[礼物]":{index:110,name:"[礼物]",image:"emoji_110_gifts@3x.png",key:"emoji_110_gifts@3x.png",width:96,height:96},"[蛋糕]":{index:111,name:"[蛋糕]",image:"emoji_111_cake@3x.png",key:"emoji_111_cake@3x.png",width:96,height:96},"[撒花]":{index:112,name:"[撒花]",image:"emoji_112_flower@3x.png",key:"emoji_112_flower@3x.png",width:96,height:96},"[不看]":{index:113,name:"[不看]",image:"emoji_113_lookat@3x.png",key:"emoji_113_lookat@3x.png",width:96,height:96},"[炸弹]":{index:114,name:"[炸弹]",image:"emoji_114_bomb@3x.png",key:"emoji_114_bomb@3x.png",width:96,height:96}};function r(t){t=t?n[t]:null;return t?"https://content.volccdn.com/obj/volc-content/from-old/"+t.image:""}function a(t,e){var i=r(t);return i?'<img class="'+(e?e+"emoji-img":"emoji-img")+'" src="'+i+'"/>':t}e.getEmojiUrl=r,e.emojiHtmlTag=a,e.emojiConvert=function(t,e){return t.replace(/\[[^\]]+[\]]/g,function(t){return a(t,e)})}},,,,,function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.vExtendHtml=void 0;var n=i(52);e.vExtendHtml={install:function(t,e){t.directive("safe-html",n.safeHtml),t.directive("safe-emoji-html",n.safeEmojiHtml)}}},,,function(t,e){t.exports=function(t,e){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var n,r,a=[],s=!0,o=!1;try{for(i=i.call(t);!(s=(n=i.next()).done)&&(a.push(n.value),!e||a.length!==e);s=!0);}catch(t){o=!0,r=t}finally{try{s||null==i.return||i.return()}finally{if(o)throw r}}return a}},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,i){"use strict";var n=i(22);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(i(7));function r(i,n){var r=[];return Object.keys(i).forEach(function(e){var t=i[e];null!=t&&("object"===(0,a.default)(t)?n&&t instanceof Array&&t.every(function(t){return"object"!==(0,a.default)(t)})?t.forEach(function(t){r.push("".concat(encodeURIComponent(e),"[]=").concat(encodeURIComponent(t)))}):r.push("".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(JSON.stringify(t)))):r.push("".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(t))))}),r.join("&")}e.default=r.default=r,t.exports=e.default},function(t,e,i){"use strict";var n=i(22);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;function r(t){var e=(t||"").split(".").map(function(t){return+t}),i=(n=(0,s.default)(e,4))[0],t=n[1],e=n[2],n=n[3];return{major:void 0===i?0:i,minor:void 0===t?0:t,patch:void 0===e?0:e,prerelease:void 0===n?0:n}}var a,s=n(i(33));(i=a=a||{})[i.Greater=1]="Greater",i[i.Equal=0]="Equal",i[i.Smaller=-1]="Smaller";i=function(t,e){t=r(t),e=r(e);return t.major>e.major?a.Greater:t.major<e.major?a.Smaller:t.minor>e.minor?a.Greater:t.minor<e.minor?a.Smaller:t.patch>e.patch?a.Greater:t.patch<e.patch?a.Smaller:t.prerelease>e.prerelease?a.Greater:t.prerelease<e.prerelease?a.Smaller:a.Equal};e.default=i.default=i,t.exports=e.default},function(t,e,i){"use strict";function n(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=e.prelude,n=e.callback,e=e.id;e&&document.getElementById(e)||(i&&i(),(i=document.createElement("script")).type="text/javascript",e&&(i.id=e),i.src=t,n&&(i.onload=n),document.head.appendChild(i))}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.default=n.default=n,t.exports=e.default},function(t,e,i){"use strict";function n(){for(var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:11,e=[];0<t;){var i=Math.random().toString(36).slice(2);e.push(i.slice(0,t)),t-=i.length}return e.join("")}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.default=n.default=n,t.exports=e.default},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__,P00;
/*!
  * Reqwest! A general purpose XHR connection manager
  * license MIT (c) Dustin Diaz 2015
  * https://github.com/ded/reqwest
  */P00=function(){var context=this,XHR2;if("window"in context)var doc=document,byTag="getElementsByTagName",head=doc[byTag]("head")[0];else try{XHR2=__webpack_require__(138)}catch(ex){throw new Error("Peer dependency `xhr2` required! Please npm install xhr2")}var httpsRe=/^http/,protocolRe=/(^\w+):\/\//,twoHundo=/^(20\d|1223)$/,readyState="readyState",contentType="Content-Type",requestedWith="X-Requested-With",uniqid=0,callbackPrefix="reqwest_"+ +new Date,lastValue,xmlHttpRequest="XMLHttpRequest",xDomainRequest="XDomainRequest",noop=function(){},isArray="function"==typeof Array.isArray?Array.isArray:function(t){return t instanceof Array},defaultHeaders={contentType:"application/x-www-form-urlencoded",requestedWith:xmlHttpRequest,accept:{"*":"text/javascript, text/html, application/xml, text/xml, */*",xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript",js:"application/javascript, text/javascript"}},xhr=function(t){if(!0!==t.crossOrigin)return context[xmlHttpRequest]?new XMLHttpRequest:XHR2?new XHR2:new ActiveXObject("Microsoft.XMLHTTP");t=context[xmlHttpRequest]?new XMLHttpRequest:null;if(t&&"withCredentials"in t)return t;if(context[xDomainRequest])return new XDomainRequest;throw new Error("Browser does not support cross-origin requests")},globalSetupOptions={dataFilter:function(t){return t}};function succeed(t){var e=(e=protocolRe.exec(t.url))&&e[1]||context.location.protocol;return httpsRe.test(e)?twoHundo.test(t.request.status):t.request.response}function handleReadyState(t,e,i){return function(){return t._aborted?i(t.request):t._timedOut?i(t.request,"Request is aborted: timeout"):void(t.request&&4==t.request[readyState]&&(t.request.onreadystatechange=noop,(succeed(t)?e:i)(t.request)))}}function setHeaders(t,e){var i,n=e.headers||{};n.Accept=n.Accept||defaultHeaders.accept[e.type]||defaultHeaders.accept["*"];var r="undefined"!=typeof FormData&&e.data instanceof FormData;for(i in e.crossOrigin||n[requestedWith]||(n[requestedWith]=defaultHeaders.requestedWith),n[contentType]||r||(n[contentType]=e.contentType||defaultHeaders.contentType),n)n.hasOwnProperty(i)&&"setRequestHeader"in t&&t.setRequestHeader(i,n[i])}function setCredentials(t,e){void 0!==e.withCredentials&&void 0!==t.withCredentials&&(t.withCredentials=!!e.withCredentials)}function generalCallback(t){lastValue=t}function urlappend(t,e){return t+(/\?/.test(t)?"&":"?")+e}function handleJsonp(t,e,i,n){var r=uniqid++,a=t.jsonpCallback||"callback",s=t.jsonpCallbackName||reqwest.getcallbackPrefix(r),o=new RegExp("((^|\\?|&)"+a+")=([^&]+)"),l=n.match(o),h=doc.createElement("script"),c=0,t=-1!==navigator.userAgent.indexOf("MSIE 10.0");return l?"?"===l[3]?n=n.replace(o,"$1="+s):s=l[3]:n=urlappend(n,a+"="+s),context[s]=generalCallback,h.type="text/javascript",h.src=n,h.async=!0,void 0===h.onreadystatechange||t||(h.htmlFor=h.id="_reqwest_"+r),h.onload=h.onreadystatechange=function(){if(h[readyState]&&"complete"!==h[readyState]&&"loaded"!==h[readyState]||c)return!1;h.onload=h.onreadystatechange=null,h.onclick&&h.onclick(),e(lastValue),lastValue=void 0,head.removeChild(h),c=1},head.appendChild(h),{abort:function(){h.onload=h.onreadystatechange=null,i({},"Request is aborted: timeout",{}),lastValue=void 0,head.removeChild(h),c=1}}}function getRequest(t,e){var i,n=this.o,r=(n.method||"GET").toUpperCase(),a="string"==typeof n?n:n.url,s=!1!==n.processData&&n.data&&"string"!=typeof n.data?reqwest.toQueryString(n.data):n.data||null,o=!1;return"jsonp"!=n.type&&"GET"!=r||!s||(a=urlappend(a,s),s=null),"jsonp"==n.type?handleJsonp(n,t,e,a):((i=n.xhr&&n.xhr(n)||xhr(n)).open(r,a,!1!==n.async),setHeaders(i,n),setCredentials(i,n),context[xDomainRequest]&&i instanceof context[xDomainRequest]?(i.onload=t,i.onerror=e,i.onprogress=function(){},o=!0):i.onreadystatechange=handleReadyState(this,t,e),n.before&&n.before(i),o?setTimeout(function(){i.send(s)},200):i.send(s),i)}function Reqwest(t,e){this.o=t,this.fn=e,init.apply(this,arguments)}function setType(t){if(null!==t)return t.match("json")?"json":t.match("javascript")?"js":t.match("text")?"html":t.match("xml")?"xml":void 0}function init(o,fn){this.url="string"==typeof o?o:o.url,this.timeout=null,this._fulfilled=!1,this._successHandler=function(){},this._fulfillmentHandlers=[],this._errorHandlers=[],this._completeHandlers=[],this._erred=!1,this._responseArgs={};var self=this;function complete(t){for(o.timeout&&clearTimeout(self.timeout),self.timeout=null;0<self._completeHandlers.length;)self._completeHandlers.shift()(t)}function success(resp){var type=o.type||resp&&setType(resp.getResponseHeader("Content-Type"));resp="jsonp"!==type?self.request:resp;var filteredResponse=globalSetupOptions.dataFilter(resp.responseText,type),r=filteredResponse;try{resp.responseText=r}catch(e){}if(r)switch(type){case"json":try{resp=context.JSON?context.JSON.parse(r):eval("("+r+")")}catch(err){return error(resp,"Could not parse JSON in response",err)}break;case"js":resp=eval(r);break;case"html":resp=r;break;case"xml":resp=resp.responseXML&&resp.responseXML.parseError&&resp.responseXML.parseError.errorCode&&resp.responseXML.parseError.reason?null:resp.responseXML}for(self._responseArgs.resp=resp,self._fulfilled=!0,fn(resp),self._successHandler(resp);0<self._fulfillmentHandlers.length;)resp=self._fulfillmentHandlers.shift()(resp);complete(resp)}function timedOut(){self._timedOut=!0,self.request.abort()}function error(t,e,i){for(t=self.request,self._responseArgs.resp=t,self._responseArgs.msg=e,self._responseArgs.t=i,self._erred=!0;0<self._errorHandlers.length;)self._errorHandlers.shift()(t,e,i);complete(t)}fn=fn||function(){},o.timeout&&(this.timeout=setTimeout(function(){timedOut()},o.timeout)),o.success&&(this._successHandler=function(){o.success.apply(o,arguments)}),o.error&&this._errorHandlers.push(function(){o.error.apply(o,arguments)}),o.complete&&this._completeHandlers.push(function(){o.complete.apply(o,arguments)}),this.request=getRequest.call(this,success,error)}function reqwest(t,e){return new Reqwest(t,e)}function normalize(t){return t?t.replace(/\r?\n/g,"\r\n"):""}function serial(t,e){function i(t){t&&!t.disabled&&e(o,normalize(t.attributes.value&&t.attributes.value.specified?t.value:t.text))}var n,r,a,s,o=t.name,l=t.tagName.toLowerCase();if(!t.disabled&&o)switch(l){case"input":/reset|button|image|file/i.test(t.type)||(n=/checkbox/i.test(t.type),r=/radio/i.test(t.type),a=t.value,(n||r)&&!t.checked||e(o,normalize(n&&""===a?"on":a)));break;case"textarea":e(o,normalize(t.value));break;case"select":if("select-one"===t.type.toLowerCase())i(0<=t.selectedIndex?t.options[t.selectedIndex]:null);else for(s=0;t.length&&s<t.length;s++)t.options[s].selected&&i(t.options[s])}}function eachFormElement(){for(var t,a=this,e=0;e<arguments.length;e++)/input|select|textarea/i.test((t=arguments[e]).tagName)&&serial(t,a),function(t,e){for(var i,n,r=0;r<e.length;r++)for(n=t[byTag](e[r]),i=0;i<n.length;i++)serial(n[i],a)}(t,["input","select","textarea"])}function serializeQueryString(){return reqwest.toQueryString(reqwest.serializeArray.apply(null,arguments))}function serializeHash(){var i={};return eachFormElement.apply(function(t,e){t in i?(i[t]&&!isArray(i[t])&&(i[t]=[i[t]]),i[t].push(e)):i[t]=e},arguments),i}function buildParams(t,e,i,n){var r,a,s,o=/\[\]$/;if(isArray(e))for(a=0;e&&a<e.length;a++)s=e[a],i||o.test(t)?n(t,s):buildParams(t+"["+("object"==typeof s?a:"")+"]",s,i,n);else if(e&&"[object Object]"===e.toString())for(r in e)buildParams(t+"["+r+"]",e[r],i,n);else n(t,e)}return Reqwest.prototype={abort:function(){this._aborted=!0,this.request.abort()},retry:function(){init.call(this,this.o,this.fn)},then:function(t,e){return t=t||function(){},e=e||function(){},this._fulfilled?this._responseArgs.resp=t(this._responseArgs.resp):this._erred?e(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):(this._fulfillmentHandlers.push(t),this._errorHandlers.push(e)),this},always:function(t){return this._fulfilled||this._erred?t(this._responseArgs.resp):this._completeHandlers.push(t),this},fail:function(t){return this._erred?t(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):this._errorHandlers.push(t),this},catch:function(t){return this.fail(t)}},reqwest.serializeArray=function(){var i=[];return eachFormElement.apply(function(t,e){i.push({name:t,value:e})},arguments),i},reqwest.serialize=function(){if(0===arguments.length)return"";var t=Array.prototype.slice.call(arguments,0),e=t.pop();return("map"==(e=(e=e&&e.nodeType&&t.push(e)?null:e)&&e.type)?serializeHash:"array"==e?reqwest.serializeArray:serializeQueryString).apply(null,t)},reqwest.toQueryString=function(t,e){function i(t,e){e="function"==typeof e?e():null==e?"":e,s[s.length]=o(t)+"="+o(e)}var n,r,a=e||!1,s=[],o=encodeURIComponent;if(isArray(t))for(r=0;t&&r<t.length;r++)i(t[r].name,t[r].value);else for(n in t)t.hasOwnProperty(n)&&buildParams(n,t[n],a,i);return s.join("&").replace(/%20/g,"+")},reqwest.getcallbackPrefix=function(){return callbackPrefix},reqwest.compat=function(t,e){return t&&(t.type&&(t.method=t.type)&&delete t.type,t.dataType&&(t.type=t.dataType),t.jsonpCallback&&(t.jsonpCallbackName=t.jsonpCallback)&&delete t.jsonpCallback,t.jsonp&&(t.jsonpCallback=t.jsonp)),new Reqwest(t,e)},reqwest.ajaxSetup=function(t){for(var e in t=t||{})globalSetupOptions[e]=t[e]},reqwest},module.exports?module.exports=P00():void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=P00)?__WEBPACK_AMD_DEFINE_FACTORY__.call(exports,__webpack_require__,exports,module):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},function(t,e){},,function(t,e,i){"use strict";i(60)},,,,,,,function(t,e,i){t.exports=i.p+"static/images/linkIcon-7c688560.png"},function(t,e,i){"use strict";i(65)},function(t,e,i){t.exports=i.p+"static/images/collect_succ-1f189cce.png"},function(t,e,i){"use strict";i(66)},function(t,e,i){t.exports=i.p+"static/images/comment_icon-no-2ef05093.png"},function(t,e,i){t.exports=i.p+"static/images/like1-no-f9bd0eb2.png"},function(t,e,i){t.exports=i.p+"static/images/like2-5e62d98a.png"},function(t,e,i){t.exports=i.p+"static/images/collect1-no-8d45aeff.png"},function(t,e,i){t.exports=i.p+"static/images/collect2-4f0db472.png"},function(t,e,i){t.exports=i.p+"static/images/share-84eb071c.png"},function(t,e,i){"use strict";i(67)},,,,,,,,,,,,,function(t,e,i){},,,function(t,e,i){},function(t,e,i){"use strict";i(78)},function(t,e,i){"use strict";i(79)},function(t,e,i){"use strict";i(80)},function(t,e,i){"use strict";i(81)},function(t,e,i){"use strict";i(82)},function(t,e,i){"use strict";i(83)},function(t,e,i){"use strict";i(84)},function(t,e,i){"use strict";i(85)},function(t,e,i){"use strict";i(86)},function(t,e,i){"use strict";i(87)},function(t,e,i){},function(t,e,i){"use strict";var n=i(16),r=i(89),a=i(186),s=i(95);function o(t){var e=new a(t),t=r(a.prototype.request,e);return n.extend(t,a.prototype,e),n.extend(t,e),t}var l=o(i(92));l.Axios=a,l.create=function(t){return o(s(l.defaults,t))},l.Cancel=i(96),l.CancelToken=i(199),l.isCancel=i(91),l.all=function(t){return Promise.all(t)},l.spread=i(200),t.exports=l,t.exports.default=l},function(t,e,i){"use strict";var r=i(16),n=i(90),a=i(187),s=i(188),o=i(95);function l(t){this.defaults=t,this.interceptors={request:new a,response:new a}}l.prototype.request=function(t){"string"==typeof t?(t=arguments[1]||{}).url=arguments[0]:t=t||{},(t=o(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var e=[s,void 0],i=Promise.resolve(t);for(this.interceptors.request.forEach(function(t){e.unshift(t.fulfilled,t.rejected)}),this.interceptors.response.forEach(function(t){e.push(t.fulfilled,t.rejected)});e.length;)i=i.then(e.shift(),e.shift());return i},l.prototype.getUri=function(t){return t=o(this.defaults,t),n(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],function(i){l.prototype[i]=function(t,e){return this.request(r.merge(e||{},{method:i,url:t}))}}),r.forEach(["post","put","patch"],function(n){l.prototype[n]=function(t,e,i){return this.request(r.merge(i||{},{method:n,url:t,data:e}))}}),t.exports=l},function(t,e,i){"use strict";var n=i(16);function r(){this.handlers=[]}r.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},r.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},r.prototype.forEach=function(e){n.forEach(this.handlers,function(t){null!==t&&e(t)})},t.exports=r},function(t,e,i){"use strict";var n=i(16),r=i(189),a=i(91),s=i(92);function o(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(e){return o(e),e.headers=e.headers||{},e.data=r(e.data,e.headers,e.transformRequest),e.headers=n.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),n.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||s.adapter)(e).then(function(t){return o(e),t.data=r(t.data,t.headers,e.transformResponse),t},function(t){return a(t)||(o(e),t&&t.response&&(t.response.data=r(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}},function(t,e,i){"use strict";var n=i(16);t.exports=function(e,i,t){return n.forEach(t,function(t){e=t(e,i)}),e}},function(t,e,i){"use strict";var r=i(16);t.exports=function(i,n){r.forEach(i,function(t,e){e!==n&&e.toUpperCase()===n.toUpperCase()&&(i[n]=t,delete i[e])})}},function(t,e,i){"use strict";var r=i(94);t.exports=function(t,e,i){var n=i.config.validateStatus;!n||n(i.status)?t(i):e(r("Request failed with status code "+i.status,i.config,null,i.request,i))}},function(t,e,i){"use strict";t.exports=function(t,e,i,n,r){return t.config=e,i&&(t.code=i),t.request=n,t.response=r,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t}},function(t,e,i){"use strict";var n=i(194),r=i(195);t.exports=function(t,e){return t&&!n(e)?r(t,e):e}},function(t,e,i){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},function(t,e,i){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},function(t,e,i){"use strict";var r=i(16),a=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,i,n={};return t&&r.forEach(t.split("\n"),function(t){i=t.indexOf(":"),e=r.trim(t.substr(0,i)).toLowerCase(),i=r.trim(t.substr(i+1)),e&&(n[e]&&0<=a.indexOf(e)||(n[e]="set-cookie"===e?(n[e]||[]).concat([i]):n[e]?n[e]+", "+i:i))}),n}},function(t,e,i){"use strict";var n,r,a,s=i(16);function o(t){return r&&(a.setAttribute("href",t),t=a.href),a.setAttribute("href",t),{href:a.href,protocol:a.protocol?a.protocol.replace(/:$/,""):"",host:a.host,search:a.search?a.search.replace(/^\?/,""):"",hash:a.hash?a.hash.replace(/^#/,""):"",hostname:a.hostname,port:a.port,pathname:"/"===a.pathname.charAt(0)?a.pathname:"/"+a.pathname}}t.exports=s.isStandardBrowserEnv()?(r=/(msie|trident)/i.test(navigator.userAgent),a=document.createElement("a"),n=o(window.location.href),function(t){t=s.isString(t)?o(t):t;return t.protocol===n.protocol&&t.host===n.host}):function(){return!0}},function(t,e,i){"use strict";var o=i(16);t.exports=o.isStandardBrowserEnv()?{write:function(t,e,i,n,r,a){var s=[];s.push(t+"="+encodeURIComponent(e)),o.isNumber(i)&&s.push("expires="+new Date(i).toGMTString()),o.isString(n)&&s.push("path="+n),o.isString(r)&&s.push("domain="+r),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){t=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(t,e,i){"use strict";var n=i(96);function r(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(t){e=t});var i=this;t(function(t){i.reason||(i.reason=new n(t),e(i.reason))})}r.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},r.source=function(){var e;return{token:new r(function(t){e=t}),cancel:e}},t.exports=r},function(t,e,i){"use strict";t.exports=function(e){return function(t){return e.apply(null,t)}}},function(t,e,i){i=i(202)({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});t.exports=i},function(t,e){t.exports=function(e){return function(t){return null==e?void 0:e[t]}}},function(t,e,i){var n=i(204);t.exports=function(t){return null==t?"":n(t)}},function(t,e,i){var n=i(40),r=i(207),a=i(208),s=i(209),n=n?n.prototype:void 0,o=n?n.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(a(e))return r(e,t)+"";if(s(e))return o?o.call(e):"";var i=e+"";return"0"==i&&1/e==-1/0?"-0":i}},function(t,e,i){var n=i(206),i="object"==typeof self&&self&&self.Object===Object&&self,i=n||i||Function("return this")();t.exports=i},function(e,t,i){!function(t){t="object"==typeof t&&t&&t.Object===Object&&t;e.exports=t}.call(this,i(23))},function(t,e){t.exports=function(t,e){for(var i=-1,n=null==t?0:t.length,r=Array(n);++i<n;)r[i]=e(t[i],i,t);return r}},function(t,e){var i=Array.isArray;t.exports=i},function(t,e,i){var n=i(210),r=i(213);t.exports=function(t){return"symbol"==typeof t||r(t)&&"[object Symbol]"==n(t)}},function(t,e,i){var n=i(40),r=i(211),a=i(212),s=n?n.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":(s&&s in Object(t)?r:a)(t)}},function(t,e,i){var n=i(40),i=Object.prototype,a=i.hasOwnProperty,s=i.toString,o=n?n.toStringTag:void 0;t.exports=function(t){var e=a.call(t,o),i=t[o];try{var n=!(t[o]=void 0)}catch(t){}var r=s.call(t);return n&&(e?t[o]=i:delete t[o]),r}},function(t,e){var i=Object.prototype.toString;t.exports=function(t){return i.call(t)}},function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t}},,function(t,e){t.exports=function(t){var e;return t.webpackPolyfill||((e=Object.create(t)).children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1),e}},function(e,t){!function(t){e.exports=t}.call(this,{})},,,,,,,,,,,function(t,e,i){},function(t,e,i){"use strict";var n=i(22);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i(7)),a=i(59);function s(t){for(var e=arguments.length,i=new Array(1<e?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];return i.filter(function(t){return"object"===(0,r.default)(t)&&null!==t}).reduce(function(e,i){return Object.keys(i).forEach(function(t){Object.prototype.hasOwnProperty.call(e,t)&&void 0!==e[t]||(e[t]=i[t])}),e},a({},t))}e.default=s.default=s,t.exports=e.default},function(t,e,i){"use strict";i(101)},function(t,e,i){},function(t,e,i){"use strict";i(102)},function(t,e,i){},,,,,,,,,,,,,,,function(t,e,i){"use strict";i.d(e,"a",function(){return n});var e=i(27),r=i.n(e),e=i(28),a=i.n(e),n=function(){function n(t){r()(this,n);var e=t.step,i=void 0===e?1:e,e=t.onChange,t=t.startValue;this.timer=null,this.currentValue="number"!=typeof t?0:t,this.paused=!1,this.onChange=e,this.step=i}return a()(n,[{key:"startCount",value:function(){var t,e=this;this.timer||(this.clearTimer(),this.paused=!1,t=this.onChange,this.timer=setInterval(function(){e.currentValue=e.currentValue+e.step,t&&t instanceof Function&&t(e.currentValue)},1e3*this.step))}},{key:"pauseCount",value:function(){this.clearTimer(),this.paused=!0}},{key:"clearTimer",value:function(){this.timer&&(clearInterval(this.timer),this.timer=null)}}]),n}()},function(t,e,i){"use strict";i.d(e,"b",function(){return h}),i.d(e,"a",function(){return r});var n={name:"SwipeSlideItem"},e=i(2),r=Object(e.a)(n,function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"swipe-slide"},[this._t("default")],2)},[],!1,null,null,null).exports,n=i(4),a=i.n(n),s=i(110);function o(e,t){var i,n=Object.keys(e);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(e),t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)),n}function l(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?o(Object(i),!0).forEach(function(t){a()(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}var n={name:"SwipeSlider",props:{options:{type:Object,required:!1,default:function(){return{}}}},data:function(){return{defaultOptions:{startSlide:0,speed:300,auto:0,continuous:!0,autoRestart:!1,disableScroll:!1,stopPropagation:!1,draggable:!1,ignore:null,callback:null,transitionEnd:null,autoHeight:!1}}},computed:{mergedOptions:function(){return l(l({},this.defaultOptions),this.options)}},mounted:function(){this.init()},methods:{init:function(){var n=this,r=this.options.callback,t=this.mergedOptions.startSlide;this.swipeSlider=new s.a(this.$refs.swipeSlider,l(l({},this.mergedOptions),{},{callback:function(t,e,i){n.markCurrSlide(e),r&&r(t,e,i)}})),this.markCurrSlide(this.$refs.swipeSlider.querySelectorAll(".swipe-slide")[t]),this.$emit("ready",this.swipeSlider)},markCurrSlide:function(t){var e=t.parentNode;e&&e.childNodes.forEach(function(t){t.classList.remove("is-current")}),t.classList.add("is-current")}}},h=(i(229),Object(e.a)(n,function(){var t=this.$createElement,t=this._self._c||t;return t("div",{ref:"swipeSlider",staticClass:"swipe-slider",attrs:{"data-type":this.mergedOptions.autoHeight?"auto-height":"default"}},[t("div",{staticClass:"swipe-wrap"},[this._t("default")],2)])},[],!1,null,null,null).exports)},function(t,e,i){"use strict";i.r(e),i.d(e,"makeComponentOptions",function(){return A});var n=i(4),r=i.n(n),s=i(5),e=i(18),o=i.n(e),n=i(0),l=i.n(n),a='\n<div class="reply-list-container" v-if="replyList && replyList.length">\n  <reply-item v-for="reply in displayedReplyList" :key="reply.id" :reply="reply" :comment="comment"></reply-item>\n  <div v-if="comment.reply_count > 3" class="more-reply-bar">\n    <div\n      v-show="expandBtnText"\n      class="reply-loading-tip"\n      :data-load-status="replyListLoadingStatus"\n      @click="handleExpandBtnClick"\n    >\n      <span class="dash-line"></span>\n      <span>{{expandBtnText == \'收起\'? expandBtnText : \'展开\' + ( comment.reply_count - displayedReplyList.length ) + \'条回复\' }}</span>\n    </div>\n  </div>\n</div>\n',e={name:"TextEllipsisBox",props:{content:{type:String,default:""},fontSize:{type:Number,default:16},maxLineNum:{type:Number,default:4},lineHeight:{type:Number,default:25},placeholderWidth:{type:Number,default:34}},data:function(){return{showEllipsisAfter:!0}},mounted:function(){var t=this;this.$nextTick(function(){t.$refs.textContent.offsetHeight<=t.$refs.ellipsisBox.offsetHeight+5&&(t.showEllipsisAfter=!1)})},computed:{textEllipsisBox:function(){return""},ellipsisBoxStyle:function(){return{"-webkit-line-clamp":this.maxLineNum,"letter-spacing":"".concat(this.placeholderWidth,"px")}},textContentStyle:function(){return{"line-height":"".concat(this.lineHeight,"px")}},ellipsisAfterPlaceHolderStyle:function(){return{top:0,transform:"translate(-15%, ".concat(100*(this.maxLineNum-1),"%)"),"line-height":"".concat(this.lineHeight,"px")}}},methods:{openText:function(){var t=this.$refs.textContent.offsetHeight;this.$refs.ellipsisBox.style.WebkitLineClamp=Math.round(t/25),this.showEllipsisAfter=!1}}},n=(i(231),i(2)),h=Object(n.a)(e,function(){var t=this,e=t.$createElement,e=t._self._c||e;return e("div",{ref:"ellipsisBox",staticClass:"text-ellipsis-box",style:t.ellipsisBoxStyle},[e("div",{ref:"textContent",staticClass:"text-content",style:t.textContentStyle},[t._v("\n    "+t._s(t.content)+"\n  ")]),e("span",{directives:[{name:"show",rawName:"v-show",value:t.showEllipsisAfter,expression:"showEllipsisAfter"}],staticClass:"ellipsis-after",style:t.ellipsisAfterPlaceHolderStyle,on:{click:t.openText}},[t._t("default",function(){return[t._v("...更多")]})],2)])},[],!1,null,null,null).exports,n=i(6),e=i(100),c=i.n(e);function p(e,t){var i,n=Object.keys(e);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(e),t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)),n}var u={data:function(){return{enableDigg:!1}},computed:function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?p(Object(i),!0).forEach(function(t){r()(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):p(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}({},Object(s.b)("comment",{creatorUid:function(t){return t.creatorUid}})),filters:{formatElapse:n.formatElapse,formatFeedElapseDate:function(t){return c()(t,(new Date).getTime()/1e3)},formatCount:function(t){return""}},methods:{handleToggleDigg:function(){console.log("toggleDigg")}}};function m(e,t){var i,n=Object.keys(e);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(e),t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)),n}function d(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?m(Object(i),!0).forEach(function(t){r()(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):m(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}var f=i(30);function g(e,t){var i,n=Object.keys(e);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(e),t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)),n}function y(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?g(Object(i),!0).forEach(function(t){r()(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):g(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}var v={loading:"加载中",finish:"已加载所有评论",error:"回复加载失败,点击重试",default:""};function _(t){var e=0<arguments.length&&void 0!==t?t:{},i=e.tmpl,t=e.adaptorName,n=void 0===t?"$adaptor":t,r=e.storeName,e=e.descendantTmpls,e=y({adaptorName:n,storeName:r},Object(f.a)("replyItem",[],e));return{template:i||a,props:{comment:{type:Object,default:function(){return{}}},foldedShowCount:{type:Number,default:3}},data:function(){return{folded:!0}},components:{ReplyItem:function(t){var e=0<arguments.length&&void 0!==t?t:{},t=e.tmpl,i=void 0===(e=e.adaptorName)?"$adaptor":e;return{template:t||'\n<div class="reply-item">\n  <div class="avatar">\n    <img :src="replyUser.avatar_url">\n  </div>\n  <div class="comment-section">\n    <div class="name-line">\n      <span class="name single-line-ellipsis">\n        {{replyUser.name||"匿名用户"}}\n      </span>\n      <span v-if="replyUser.user_id && replyUser.user_id == creatorUid" class="character-tag is-creator">作者</span>\n      <span\n        v-if="reply.reply_to_replyid"\n        class="name reply-to-name single-line-ellipsis"\n      >\n        {{reply.reply_to_username}}\n      </span>\n    </div>\n    <div class="comment-content-text" @click="handleReplyContentClick">\n      <span>{{reply.text}}</span>\n    </div>\n  </div>\n</div>\n',mixins:[u],components:{TextEllipsisBox:h},props:{comment:{type:Object,default:function(){return{}}},reply:{type:Object,default:function(){return{}}}},computed:d(d({},Object(s.b)("comment",{config:function(t){return t.config||{}}})),{},{showReplyList:function(){return l()(this.config,"showReplyList")},componentAdaptor:function(){return this[i]},replyUser:function(){return l()(this.reply,"user")||{}}}),methods:{handleReplyContentClick:function(){}}}}(e)},computed:y(y({},Object(s.b)(r,{})),{},{componentAdaptor:function(){return this[n]},commentId:function(){return l()(this.comment,"id")||""},replyList:function(){return l()(this.comment,"replyList")||[]},replyListLoadingStatus:function(){return l()(this.comment,"replyListLoadingStatus")||""},replyListFetchCount:function(){return l()(this.comment,"replyListFetchCount")||0},displayedReplyList:function(){return this.folded?this.replyList.slice(0,this.foldedShowCount):this.replyList},expandBtnText:function(){var t=this.replyListLoadingStatus,e=this.folded,i="";switch(t){case"loading":i="加载中";break;case"error":i="加载失败,点击重试";break;case"finish":i=e?this.replyList.length<=this.foldedShowCount?"":"展开更多回复":"收起";break;default:i="展开更多回复"}return i},loadMoreTip:function(){return v[this.replyListLoadingStatus||"default"]}}),mounted:function(){this.loadReplyList()},methods:{loadReplyList:function(){this.$store.dispatch("".concat(r,"/fetchReplyList"),{commentId:this.commentId})},handleExpandBtnClick:function(){var t=this.replyListLoadingStatus;"loading"!==t&&("finish"===t?this.folded=!this.folded:(1<=this.replyListFetchCount&&!this.folded&&this.loadReplyList(),this.folded=!1))}}}}var b='\n<div class="comment-item">\n  <div class="avatar">\n    <img :src="commentUser.avatar_url">\n  </div>\n  <div class="comment-section">\n    <div class="name-line">\n      <span class="name single-line-ellipsis">\n        {{commentUser.name||"匿名用户"}}\n      </span>\n      <span v-if="commentUser.user_id && commentUser.user_id == creatorUid" class="character-tag is-creator">作者</span>\n    </div>\n    <div class="comment-content-text" @click="handleCommentContentClick">\n      \n      <TextEllipsisBox\n      :content="comment.text"\n      :max-line-num="7"\n      />\n      <div class="comment_time">\n        <span v-show="replyList.length !== 0">{{replyList.length}}回复</span>\n        <span class="time">{{comment.create_time | formatFeedElapseDate}}</span>\n      </div>\n      \n    </div>\n    <reply-list v-if="showReplyList" :comment="comment"></reply-list>\n  </div>\n</div>\n';function x(e,t){var i,n=Object.keys(e);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(e),t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)),n}function w(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?x(Object(i),!0).forEach(function(t){r()(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):x(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}var E='\n<div id="commentList" class="comment-list-wrapper">\n\n  <slot name="commentListHeader"></slot>\n  <div\n    v-if="disableInfiniteScroll"\n    class="comment-list-container"\n  >\n    <comment-item v-for="(comment, index) in commentList" :key="comment.id" :comment="comment"></comment-item>\n    <section class="load-more-bar" @click="loadCommentList" :data-load-status="loadingStatus">{{loadMoreBarTip}}</section>\n  </div>\n\n  <div\n    v-else\n    class="comment-list-container"\n    v-infinite-scroll="loadCommentList"\n    :infinite-scroll-disabled="disableInfiniteScroll || loadingStatus === \'loading\'"\n    :infinite-scroll-distance="infiniteScrollOptions.distance"\n    :infinite-scroll-immediate-check="infiniteScrollOptions.immediateCheck"\n  >\n    <comment-item v-for="(comment, index) in commentList" :key="comment.id" :comment="comment"></comment-item>\n    <div class="comment_no_data" v-show="commentList.length === 0">\n      <div class="no_data_img"></div>\n      <p class="no_data_p">暂无评论</p>\n    </div>\n    <section v-show="loadMoreTip && commentList.length !== 0" class="comment-list-bottom">\n      <div class="loadmore-tip" :data-load-status="loadingStatus" @click="handleRetryLoadCommentList">\n        <span class="tip-text">{{loadMoreTip}}</span>\n      </div>\n    </section>\n  </div>\n</div>\n',S=i(43),C=function(t){for(var e=t.commentId,i=t.state.commentList,n=null,r=0;r<i.length;){if(i[r].id===e){n=i[r];break}r++}return n},P={namespaced:!0,state:function(){return{config:{},creatorUid:(window.GLOBAL_STATE||{}).creator_uid,commentList:[],offset:0,hasMore:!0,banComment:!1,totalNumber:0,loadingStatus:"",fetchCount:0}},getters:{},actions:{fetchCommentList:function(t){var r=t.commit,e=t.state,a=e.offset,i=e.hasMore,t=e.loadingStatus,s=e.fetchCount;"loading"!==t&&i&&(i=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).groupId,r("replaceStateField",{key:"loadingStatus",val:"loading"}),Object(S.a)({groupId:i,offset:a}).then(function(t){var e=t.commentList,i=t.hasMore,n=t.banComment,t=t.totalNumber,e=e.map(function(t){return t.replyListLoadingStatus="",t.replyListFetchCount=0,t});r("replaceStateField",{key:"loadingStatus",val:n||i?"":"finish"}),r("replaceStateField",{key:"fetchCount",val:s+1}),r("addCommentList",e),r("replaceStateField",{key:"offset",val:a+e.length}),r("replaceStateField",{key:"hasMore",val:i}),r("replaceStateField",{key:"banComment",val:n}),r("replaceStateField",{key:"totalNumber",val:t})}).catch(function(){r("replaceStateField",{key:"loadingStatus",val:"error"})}))},fetchReplyList:function(t){t.commit;var e=t.state,t=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).commentId,n=C({commentId:t,state:e});"loading"!==n.replyListLoadingStatus&&n&&(e=n.replyOffset,n.replyListLoadingStatus="loading",Object(S.b)({commentId:t,offset:e}).then(function(t){var e=t.replyList,t=t.hasMore,i=n.replyList.map(function(t){return t.id}),e=e.filter(function(t){return-1===i.indexOf(t.id)});n.replyList=n.replyList.concat(e),n.replyOffset=n.replyOffset+e.length,n.replyListLoadingStatus=t?"":"finish",n.replyListFetchCount=n.replyListFetchCount+1}).catch(function(){n.replyListLoadingStatus="error"}))},postDigg:function(){},postSend:function(){},postDelete:function(){}},mutations:{replaceStateField:function(t,e){var i=e.key,e=e.val;t[i]=e},setCommentConfig:function(t,e){t.config=e},addCommentList:function(t,e){t.commentList=t.commentList.concat(e)},updateCommentItem:function(){},addReplyList:function(t,e){var i=e.commentId,e=e.newAddReplyList,t=C({commentId:i,state:t});t&&(t.replyList=t.replyList.concat(e))},updateReplyItem:function(){}}};i(232);function k(e,t){var i,n=Object.keys(e);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(e),t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)),n}function T(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?k(Object(i),!0).forEach(function(t){r()(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):k(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}function A(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.tmpl,i=t.adaptorName,n=void 0===i?"$adaptor":i,i=t.storeName,r=void 0===i?"comment":i,a=t.commentConfig,t=t.descendantTmpls,t=void 0===t?{}:t,t=T({adaptorName:n,storeName:r},Object(f.a)("commentItem",["replyList","replyItem"],t));return{template:e||E,props:{groupId:{type:String,default:""},disableInfiniteScroll:{type:Boolean,default:!1},infiniteScrollOptions:{type:Object,default:function(){return{distance:20,immediateCheck:!1}}},options:{type:Object,default:function(){return{}}}},directives:{infiniteScroll:o.a},components:{CommentItem:function(t){var e=(n=0<arguments.length&&void 0!==t?t:{}).tmpl,t=n.adaptorName,i=void 0===t?"$adaptor":t,t=n.storeName,n=n.descendantTmpls,n=w({adaptorName:i,storeName:t},Object(f.a)("replyList",["replyItem"],n));return{template:e||b,mixins:[u],props:{comment:{type:Object,default:function(){return{}}}},components:{ReplyList:_(n),TextEllipsisBox:h},computed:w(w({},Object(s.b)(t,{config:function(t){return t.config||{}}})),{},{showReplyList:function(){return l()(this.config,"showReplyList")},replyList:function(){return l()(this.comment,"replyList")||[]},componentAdaptor:function(){return this[i]},commentUser:function(){return l()(this.comment,"user")||{}}}),methods:{handleCommentContentClick:function(){}}}}(t)},computed:T(T({},Object(s.b)(r,{commentList:function(t){return t.commentList||[]},offset:function(t){return t.offset||0},loadingStatus:function(t){return t.loadingStatus||""}})),{},{loadMoreTip:function(){return this.tipTextMap[this.loadingStatus||"default"]},loadMoreBarTip:function(){return this.tipTextMap[this.loadingStatus||"default"]||"展开更多评论"},componentAdaptor:function(){return this[n]},tipTextMap:function(){var t=this.options;return{loading:t.loadingText||"正在获取更多内容...",finish:t.finishText||"没有更多了",error:t.errorText||"回复加载失败,点击重试",default:""}},isShowReply:function(){return l()(this.options,["isShowReply"])}}),created:function(){this.$store.state.comment||this.$store.registerModule(r,P),a.showReplyList=this.isShowReply,this.$store.commit("".concat(r,"/setCommentConfig"),a)},mounted:function(){this.loadCommentList()},methods:{loadCommentList:function(){this.$store.dispatch("".concat(r,"/fetchCommentList"),{groupId:this.groupId})},handleRetryLoadCommentList:function(){"error"===this.loadingStatus&&this.loadCommentList()}}}}},,function(t,e,i){"use strict";i.r(e),i.d(e,"makeComponentOptions",function(){return h});var n='\n<section\n  id="relatedNews"\n  v-if="showRelatedNews"\n  class="related_news"\n>\n  <slot name="relatedNewsHeader"><header class="box_title">相关推荐</header></slot>\n  <div>\n    <ul\n      class="related_news_list"\n    >\n      <li\n        class="related_news_item_wrapper"\n        v-for="(relatedNews, index) in relatedNewsList"\n        :key="relatedNews.group_id_str"\n        @click="onRelatedNewsClick(index)"\n        :data-group-id="relatedNews.group_id_str"\n        :data-article-type="relatedNews.article_type"\n        :data-index="index"\n        :data-type="relatedNews.type"\n      >\n        <div class="related_news_item row-flex y-center">\n          <div class="related_news_item__textbox">\n            <div class="related_news_item__title">{{relatedNews.title}}</div>\n            <div class="related_news_item__info row-flex y-center">\n              <span class="related_news_item__creator  single-line-ellipsis">{{relatedNews.source}}</span>\n              <span class="related_news_item__time  single-line-ellipsis">{{relatedNews.stats.comment_count}}评论</span>\n              <span class="related_news_item__time  single-line-ellipsis">{{relatedNews.publish_time | formatElapse}}</span>\n            </div>\n          </div>\n          <div class="related_news_item__imgbox" v-if="relatedNews.image_url">\n            <div class="related_news_item__imgbox_img" :style="{backgroundImage: \'url(\'+ relatedNews.image_url +\')\'}"></div>\n          </div>\n        </div>\n        <div class="seperator_line"></div>\n      </li>\n    </ul>\n    <slot name="relatedNewsFooter">\n    </slot>\n  </div>\n</section>\n',r=i(0),a=i.n(r),r=i(21),s=i.n(r),o=(i(227),i(34)),l=i(6);function h(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.tmpl,t=t.adaptorName,i=void 0===t?"$adaptor":t;return{template:e||n,props:{groupId:{type:String,default:""},options:{type:Object,default:function(){return{}}}},filters:{formatElapse:l.formatElapse},data:function(){return{relatedNewsList:[]}},mounted:function(){this.options.enable&&this.options.count&&this.getRelatedNews()},computed:{componentAdaptor:function(){return this[i]},showRelatedNews:function(){return this.relatedNewsList.length},extraJumpUrlQuery:function(){return a()(this.options,"extraJumpUrlQuery")||{}}},methods:{getRelatedNews:function(){var e=this;Object(o.a)(this.groupId,{count:this.options.count||3}).then(function(t){e.relatedNewsList=t.data.map(function(t){return t.source_url=s()(t.source_url,e.extraJumpUrlQuery),t}),e.handleRelatedNewsFetched(e.relatedNewsList)}).catch(function(){e.handleRelatedNewsFetched([])})},handleRelatedNewsFetched:function(t){this.componentAdaptor&&this.componentAdaptor.emitInteraction("onRelatedNewsFetched",{relatedNewsList:t})},onRelatedNewsClick:function(t){var e=a()(this.componentAdaptor,"config.globalEnableUg")||!1,i=a()(this.componentAdaptor,"config.ugOptions.relatedNewsItem")||{},n=i.enable,r=i.preventDefault,i=this.relatedNewsList[t];this.componentAdaptor.emitInteraction("onRelatedNewsClick",{pos:t,item:i}),r||(this.options.enabelH5Jump?(r=i.source_url,location.href=r):this.componentAdaptor.jsBridge.call("onRelatedNewsClick",{pos:t,item:i})),e&&n&&(n=i.group_id_str,this.componentAdaptor.emitInteraction("onUgTrigger",{ugPos:"relatedNews",groupId:n,extra:{pos:t,item:i}}))}}}}e.default={install:function(t){t.component("RelatedNews",h(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}))}}},function(t,e,i){"use strict";i.r(e),i.d(e,"makeComponentOptions",function(){return h});var n='\n<div class="related_news_box">\n<slot name="relatedNewsHeaderIdentification"></slot>\n<slot name="relatedNewsHeaderShareDemo"></slot>\n<div class="vedio_line"></div>\n<section\n  id="relatedNews"\n  v-if="showRelatedNews"\n  class="related_news"\n>\n  <slot name="relatedNewsHeader"><header class="box_title">相关推荐</header></slot>\n  <div>\n    <ul\n      class="related_news_list"\n    >\n      <li\n        class="related_news_item_wrapper"\n        v-for="(relatedNews, index) in relatedNewsList"\n        :key="relatedNews.group_id_str"\n        @click="onRelatedNewsClick(index)"\n        :data-group-id="relatedNews.group_id_str"\n        :data-article-type="relatedNews.article_type"\n        :data-index="index"\n        :data-type="relatedNews.type"\n      >\n        <div class="related_news_item row-flex y-center">\n          <div class="related_news_item__textbox">\n            <div class="related_news_item__title">{{relatedNews.title}}</div>\n            <div class="related_news_item__info row-flex y-center">\n              <span class="related_news_item__creator  single-line-ellipsis">{{relatedNews.source}}</span>\n              <span class="related_news_item__time  single-line-ellipsis">{{relatedNews.stats.detail_play_effective_count | formatCount}}次观看</span>\n            </div>\n          </div>\n          <div class="related_news_item__imgbox" v-if="relatedNews.image_url">\n            <div class="related_news_item__imgbox_img" :style="{backgroundImage: \'url(\'+ relatedNews.image_url +\')\'}">\n              <span v-if="relatedNews.video_watched" class="related_news_item__imgbox_img_time">{{relatedNews.video_duration_time}}</span>\n            </div>\n          </div>\n        </div>\n      </li>\n    </ul>\n    <div class="vedio_line"></div>\n    <slot name="relatedNewsFooter">\n    </slot>\n  </div>\n</section>\n</div>\n',r=i(0),a=i.n(r),r=i(21),s=i.n(r),o=(i(230),i(34)),l=i(6);function h(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.tmpl,t=t.adaptorName,i=void 0===t?"$adaptor":t;return{template:e||n,props:{groupId:{type:String,default:""},options:{type:Object,default:function(){return{}}}},filters:{formatElapse:l.formatElapse,formatCount:function(t){return t<1e4?"".concat(Math.round(t)):"".concat(Math.round(t/1e4*10)/10,"万")}},data:function(){return{relatedNewsList:[]}},mounted:function(){this.options.enable&&this.options.count&&this.getRelatedNews()},computed:{componentAdaptor:function(){return this[i]},showRelatedNews:function(){return this.relatedNewsList.length&&this.options.enable},extraJumpUrlQuery:function(){return a()(this.options,"extraJumpUrlQuery")||{}}},methods:{getRelatedNews:function(){var e=this;Object(o.a)(this.groupId,{count:this.options.count||3}).then(function(t){e.relatedNewsList=t.data.map(function(t){return t.source_url=s()(t.source_url,e.extraJumpUrlQuery),t}),e.handleRelatedNewsFetched(e.relatedNewsList)}).catch(function(){e.handleRelatedNewsFetched([])})},handleRelatedNewsFetched:function(t){this.componentAdaptor&&this.componentAdaptor.emitInteraction("onRelatedNewsFetched",{relatedNewsList:t})},onRelatedNewsClick:function(t){var e=a()(this.componentAdaptor,"config.globalEnableUg")||!1,i=a()(this.componentAdaptor,"config.ugOptions.relatedNewsItem")||{},n=i.enable,r=i.preventDefault,i=this.relatedNewsList[t];this.componentAdaptor.emitInteraction("onRelatedNewsClick",{pos:t,item:i}),r||(this.options.enabelH5Jump?(r=i.source_url,location.href=r):this.componentAdaptor.jsBridge.call("onRelatedNewsClick",{pos:t,item:i})),e&&n&&(n=i.group_id_str,this.componentAdaptor.emitInteraction("onUgTrigger",{ugPos:"relatedNews",groupId:n,extra:{pos:t,item:i}}))}}}}e.default={install:function(t){t.component("RelatedNews",h(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}))}}}]]);